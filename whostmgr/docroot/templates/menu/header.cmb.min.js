(function(){"use strict";if(typeof window.CustomEvent==="function"){return false}function CustomEvent(event,params){params=params||{bubbles:false,cancelable:false,detail:undefined};var evt=document.createEvent("CustomEvent");evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt}CustomEvent.prototype=window.Event.prototype;window.CustomEvent=CustomEvent})();(function(){"use strict";window.addEventListener("load",(function(){dispatchInitEvent("load event")}));var observer=new MutationObserver((function(){var contentContainer=document.getElementById("contentContainer");if(contentContainer!==null&&contentContainer.firstElementChild){observer.disconnect();dispatchInitEvent("MutationObserver")}}));observer.observe(window.document.documentElement,{childList:true,subtree:true});var eventDispatched;function dispatchInitEvent(triggerName){if(eventDispatched){return}eventDispatched=true;if(window.location.href.indexOf("debug=1")!==-1){console.log("content-container-init triggered via "+triggerName)}var event=new CustomEvent("content-container-init");window.dispatchEvent(event)}})();(function(){"use strict";var LOADAVG_TIMEOUT=5*1e3*60;var documentHidden=void 0;var isPageVisible=function(){return documentHidden===void 0||!document[documentHidden]};var checkRecentActivity=function(){return isPageVisible()&&(!top._LAST_ACTIVITY||new Date-top._LAST_ACTIVITY<LOADAVG_TIMEOUT)};var loadLiveEl;var loadLiveOne;var loadLiveFive;var loadLiveFifteen;var updateLoad=function(event){if(loadLiveEl){var loadavgs=JSON.parse(event.target.responseText);loadLiveOne.textContent=loadavgs.one;loadLiveFive.textContent=loadavgs.five;loadLiveFifteen.textContent=loadavgs.fifteen;if(loadLiveEl.classList.contains("hidden")){loadLiveEl.classList.remove("hidden")}if(checkRecentActivity()){if(loadavgs["one"]<.5){setTimeout(getLoadAverage,15e3)}else if(loadavgs["one"]<1){setTimeout(getLoadAverage,3e4)}else{setTimeout(getLoadAverage,45e3)}}else{setTimeout((function checkActivity(){if(checkRecentActivity()){getLoadAverage()}else{setTimeout(checkActivity,2e4)}}),2e4)}return}setTimeout((function(){updateLoad(event)}),1e3)};var getLoadAverage=function(){var request=new XMLHttpRequest;request.addEventListener("load",(function(event){if(request.status===0||request.status>=200&&request.status<300||request.status===304){updateLoad(event)}}));var url="";if(window.COMMON.securityToken){url=window.COMMON.securityToken+"/json-api/loadavg"}else{url="/json-api/loadavg"}if(url){request.open("GET",url,true);request.send()}};var setLastActivity=function(){top._LAST_ACTIVITY=new Date};var handleVisibilityChange=function(event){if(isPageVisible()){setLastActivity()}};var attachLoadAvg=function(){var frames=top.document.getElementsByTagName("frame");var initializeEventHandler=function(frame){frame.document.body.addEventListener("click",setLastActivity);frame.document.body.addEventListener("keyup",setLastActivity)};if(frames){for(var len=frames.length-1;len>-1;len--){var frame=frames[len];frame.contentWindow.addEventListener("load",initializeEventHandler(this))}}};var checkUpdateAvailability=function(){var getUpdateAvailabilityEl=document.getElementById("getUpdateAvailability");if(getUpdateAvailabilityEl){var request=new XMLHttpRequest;request.addEventListener("load",(function(event){if(request.status===0||request.status>=200&&request.status<300||request.status===304){if(event&&event.target&&event.target.responseText){var response=JSON.parse(event.target.responseText);if(response&&response.data&&response.data.update_available){var updateNewestVersionEl=document.getElementById("lblUpdateNewestVersion");if(updateNewestVersionEl){updateNewestVersionEl.textContent=updateNewestVersionEl.textContent.replace("[PLACEHOLDER_VALUE_UPDATE_VERSION]",response.data.newest_version)}if(getUpdateAvailabilityEl.classList.contains("hidden")){getUpdateAvailabilityEl.classList.remove("hidden")}}}}}));var url="";if(window.COMMON.securityToken){url=window.COMMON.securityToken+"/json-api/get_update_availability?api.version=1"}else{url="/json-api/get_update_availability?api.version=1"}if(url){request.open("GET",url,true);request.send()}}};var logoutWHM=function(){if(typeof sessionStorage.searchTerm!=="undefined"){delete sessionStorage.searchTerm;delete sessionStorage.userName}};var addVisibilityListener=function(){var visibilityChange=void 0;if(typeof document.hidden!=="undefined"){documentHidden="hidden";visibilityChange="visibilitychange"}else if(typeof document.msHidden!=="undefined"){documentHidden="msHidden";visibilityChange="msvisibilitychange"}else if(typeof document.webkitHidden!=="undefined"){documentHidden="webkitHidden";visibilityChange="webkitvisibilitychange"}if(documentHidden!==void 0){document.addEventListener(visibilityChange,handleVisibilityChange)}};function updateUIForQuota(data){if(data&&parseInt(data.quota_enabled)!==1){var quotaWarnings=document.querySelectorAll(".quota_sensitive");for(var quotaWarning in quotaWarnings){if(quotaWarnings[quotaWarning].style){quotaWarnings[quotaWarning].style.display=""}}var quotaValues=document.querySelectorAll(".quota_insensitive");for(var quotaValue in quotaValues){if(quotaValues[quotaValue].style){quotaValues[quotaValue].style.display="none"}}}}function checkQuota(){if(typeof window.COMMON.isDnsOnly!=="undefined"&&window.COMMON.isDnsOnly){return}var pageURL=window.location.toString();var needsRebootReasonIsQuota=typeof window.serverNeedsReboot==="object"&&window.serverNeedsReboot!==null?parseInt(window.serverNeedsReboot.quota,10):parseInt(window.serverNeedsReboot,10)===1;var noCache=pageURL.match(/newquota/)||pageURL.match(/graceful_reboot_landing/)||pageURL.match(/forcereboot/)||needsRebootReasonIsQuota;if(noCache){window.localStorage.removeItem("cPQuotaStatus")}var cached=window.localStorage.getItem("cPQuotaStatus");if(cached){cached=JSON.parse(cached);if(typeof cached==="object"&&cached.hasOwnProperty("lastChecked")&&Date.now()-cached.lastChecked<36e5){updateUIForQuota(cached);return false}}var xmlhttp=new XMLHttpRequest;xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState===XMLHttpRequest.DONE){if(xmlhttp.status===200){var response=JSON.parse(xmlhttp.responseText);updateUIForQuota(response.data);response.data.lastChecked=Date.now();if(!noCache){window.localStorage.setItem("cPQuotaStatus",JSON.stringify(response.data))}}}};var uri="/json-api/quota_enabled?api.version=1";if(window.COMMON.securityToken){uri=window.COMMON.securityToken+uri}xmlhttp.open("GET",uri,true);xmlhttp.send()}var init=function(){var logoutLink=document.getElementById("lnkLogout");loadLiveEl=document.getElementById("loadlive");if(!logoutLink&&!loadLiveEl){return}logoutLink.addEventListener("click",logoutWHM);loadLiveOne=loadLiveEl.querySelector("#lavg_one");loadLiveFive=loadLiveEl.querySelector("#lavg_five");loadLiveFifteen=loadLiveEl.querySelector("#lavg_fifteen");setLastActivity();getLoadAverage();checkQuota();addVisibilityListener();attachLoadAvg();if(window.COMMON.hasRootPrivileges){checkUpdateAvailability()}};window.addEventListener("content-container-init",init)})();(function(window){"use strict";var SlideMenu=function(containerId){this.supportContainer=document.getElementById(containerId);this.slideToggleClass="show";this.slideIcon=null;this.slideIconLink=null;this.slidePanel=null};SlideMenu.prototype={init:function(){if(this.supportContainer!==null){this.slideContainer=this.supportContainer.querySelector(".slideContainer");this.slideIcon=this.supportContainer.querySelector(".slideTab");this.slideIconLink=this.supportContainer.querySelector(".slideTab a");this.slidePanel=this.slideContainer.querySelector(".slidePanel");this._attachEvents();this.initializeGlobalListeners()}},_attachEvents:function(){var slideMenu=this;this.slideIcon.addEventListener("click",(function(){slideMenu.handleIconClick()}),false)},initializeGlobalListeners:function(){var frames=this.getAllFrames();var slideObj=this;var handleKeyDown=function(keyEvent){if(keyEvent.keyCode===113&&keyEvent.altKey){slideObj.handleSupportKey(keyEvent,slideObj)}};for(var i=0,len=frames.length;i<len;i++){try{frames[i].document.addEventListener("keydown",handleKeyDown,false)}catch(e){}}},hasClass:function(element,classToCheck){return element.className.indexOf(classToCheck)>-1},addClass:function(element,classToAdd){var classNames=element.className.split(" ");if(classNames.indexOf(classToAdd)===-1){classNames.push(classToAdd);element.className=classNames.join(" ")}},removeClass:function(element,classToRemove){var classNames=element.className.split(" ");var stylePosition=classNames.indexOf(classToRemove);if(stylePosition>-1){classNames=classNames.splice(stylePosition-1,1);element.className=classNames.join(" ")}},handleSlideTabFocus:function(){this.addClass(this.slideIcon,"active")},handleSlideTabBlur:function(){this.removeClass(this.slideIcon,"active")},handleIconClick:function(){this._toggleSlide()},handleSupportKey:function(e,slideObj){if(slideObj){slideObj._toggleSlide()}},hideSlider:function(){this._setSupportLinksTabIndex("-1");this.removeClass(this.slideContainer,this.slideToggleClass);this.removeClass(this.slideIcon,"active");this.slideIconLink.setAttribute("aria-expanded","false")},showSlider:function(){this._setSupportLinksTabIndex("0");this.addClass(this.slideContainer,this.slideToggleClass);this.addClass(this.slideIcon,"active");this.slideIconLink.setAttribute("aria-expanded","true")},_setSupportLinksTabIndex:function(indexVal){var links=this.slidePanel.querySelectorAll("a");for(var i=0;i<links.length;i++){links[i].tabIndex=indexVal}},_toggleSlide:function(){if(this.hasClass(this.slideContainer,this.slideToggleClass)){this.hideSlider()}else{this.showSlider()}},getAllFrames:function(){var frames=[];var windowParentFrames=window.parent.frames;for(var i=0,len=windowParentFrames.length;i<len;i++){frames.push(windowParentFrames[i])}if(frames.length===0&&window.frames.length===0){frames[0]=window;return frames}return frames}};var supportMenu=null;function initializeSlideMenus(){supportMenu=new SlideMenu("supportContainer");supportMenu.init()}window.addEventListener("content-container-init",initializeSlideMenus)})(window);
