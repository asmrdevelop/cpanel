<script type="text/javascript">
//<![CDATA[
var REQUIRED_PASSWORD_STRENGTH = %minpwstrength% || -1;
var init_validation = function() {
	var password_validators = CPANEL.password.setup("password", "password2", "password_strength", REQUIRED_PASSWORD_STRENGTH, "create_strong_password", "why_strong_passwords_link", "why_strong_passwords_text", 0);
	CPANEL.validate.attach_to_form("submit_password", password_validators);
};
YAHOO.util.Event.onDOMReady(init_validation);
//]]>
</script>

<form action="ssh_doaddkey">
    <!-- prevent password autofill -->
    <input type="text" style="display:none">
    <input type="password" autocomplete='off' style="display:none">
    <table cellpadding="5" cellspacing="1">

		<tr>
			<td align="right">Key Name (defaults to id_rsa):</td>
			<td><input type="text" size="20" name="name" /></td>
			<td>&nbsp;</td>
		</tr>

		<tr>
			<td align="right">Key Password:</td>
			<td><input type="password" iautocomplete='off' maxlength="128" style="width: 150px" name="pass" id="password" /></td>
			<td><div id="password_error"></div></td>
		</tr>

		<tr>
			<td align="right">Password (again):</td>
			<td><input id="password2" name="password2" type="password" autocomplete='off' style="width: 150px" maxlength="128" /></td>
			<td><div id="password2_error"></div></td>
		</tr>

		<tr>
			<td align="right">Password Strength (<div style="display: inline" id="why_strong_passwords_link" class="action_link">why?</div>):</td>
			<td><div id="password_strength" style="width: 150px; height: 20px; border: 1px solid black; margin: 5px 0px 3px 0px"></div></td>
			<td><input type="button" id="create_strong_password" value="Password Generator" tabindex="-1" class="btn-secondary" /></td>
		</tr>

		<tr>
			<td align="right">Key Type:</td>
			<td>
				<select name="type">
					<option value="dsa">DSA</option>
					<option value="RSA" selected>RSA</option>
				</select>
			</td>
			<td>&nbsp;</td>
		</tr>

		<tr>
			<td align="right">Key Size:</td>
			<td>
				<select name="keysize">
					<option value="1024">1024</option>
					<option value="2048" selected>2048</option>
					<option value="4096">4096</option>
				</select>
			</td>
			<td>&nbsp;</td>
		</tr>

		<tr>
			<td></td>
			<td><input type="submit" id="submit_password" value="Generate Key" class="btn-primary" /></td>
			<td></td>
		</tr>
    </table>
</form>
<div id="why_strong_passwords_text" style="display: none">
	%email_password_why%
	<br /><br />
	%email_password_tip%
</div>
<br />
<br />
