define("app/services/backupMigrationAPI",["angular","jquery","lodash","cjt/util/locale","cjt/util/parse","cjt/io/api","cjt/io/whm-v1-request","cjt/io/whm-v1"],(function(n,t,i,o,e,r,a,c){return n.module("whm.backupMigration").factory("backupMigrationAPI",["$q",function(n){var t={run_migration:function(t){var i=n.defer(),o=new a.Class;return o.initialize("","convert_and_migrate_from_legacy_config"),t&&o.addArgument("no_convert","1"),r.promise(o.getRunArguments()).done((function(n){n=n.parsedResponse,i.resolve(n.raw.metadata)})),i.promise}};return t}])})),define("app/views/main",["angular","jquery","cjt/util/locale","cjt/util/parse","uiBootstrap","app/services/backupMigrationAPI","cjt/directives/actionButtonDirective"],(function(n,t,i,o){var e=n.module("whm.backupMigration");e.controller("ModalInstanceCtrl",["$scope","$uibModalInstance",function(n,t){n.closeModal=function(){t.close()},n.runIt=function(){t.close(!0)}}]),e.controller("main",["$scope","$rootScope","$location","$anchorScroll","$routeParams","$q","spinnerAPI","backupMigrationAPI","$uibModal","$interval","$sce","$window",function(n,t,i,o,e,r,a,c,u,l,s,p){n.migrate=function(){u.open({templateUrl:"migrationModalContent.tmpl",controller:"ModalInstanceCtrl"}).result.then((function(t){t&&n.runMigration()}))},n.runMigration=function(){a.start("runningSpinner"),n.running=!0,c.run_migration(n.keepConfig).then((function(t){n.running=!1,n.finished=!0,t.result||(n.errorDetected=!0,n.errorMessage=t.reason)}))},n.reload=function(){p.location.reload()},n.init=function(){n.allowKeepConfig=PAGE.backup_status},n.init()}])})),define("app/index",["angular","jquery","lodash","cjt/core","cjt/modules","ngRoute","uiBootstrap","ngSanitize"],(function(n,t,i,o){return function(){return n.module("whm.backupMigration",["cjt2.config.whm.configProvider","ngRoute","ui.bootstrap","cjt2.whm"]),require(["cjt/bootstrap","cjt/views/applicationController","app/views/main","app/services/backupMigrationAPI"],(function(t){n.module("whm.backupMigration").config(["$routeProvider",function(n){n.when("/main",{controller:"main",templateUrl:o.buildFullPath("backup_migration/views/main.ptt")}).otherwise({redirectTo:"/main"})}]),t(document,"whm.backupMigration")}))}}));