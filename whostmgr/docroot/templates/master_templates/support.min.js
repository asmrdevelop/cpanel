(function(window){"use strict";var SlideMenu=function(containerId){this.supportContainer=document.getElementById(containerId);this.slideToggleClass="show";this.slideIcon=null;this.slideIconLink=null;this.slidePanel=null};SlideMenu.prototype={init:function(){if(this.supportContainer!==null){this.slideContainer=this.supportContainer.querySelector(".slideContainer");this.slideIcon=this.supportContainer.querySelector(".slideTab");this.slideIconLink=this.supportContainer.querySelector(".slideTab a");this.slidePanel=this.slideContainer.querySelector(".slidePanel");this._attachEvents();this.initializeGlobalListeners()}},_attachEvents:function(){var slideMenu=this;this.slideIcon.addEventListener("click",(function(){slideMenu.handleIconClick()}),false)},initializeGlobalListeners:function(){var frames=this.getAllFrames();var slideObj=this;var handleKeyDown=function(keyEvent){if(keyEvent.keyCode===113&&keyEvent.altKey){slideObj.handleSupportKey(keyEvent,slideObj)}};for(var i=0,len=frames.length;i<len;i++){try{frames[i].document.addEventListener("keydown",handleKeyDown,false)}catch(e){}}},hasClass:function(element,classToCheck){return element.className.indexOf(classToCheck)>-1},addClass:function(element,classToAdd){var classNames=element.className.split(" ");if(classNames.indexOf(classToAdd)===-1){classNames.push(classToAdd);element.className=classNames.join(" ")}},removeClass:function(element,classToRemove){var classNames=element.className.split(" ");var stylePosition=classNames.indexOf(classToRemove);if(stylePosition>-1){classNames=classNames.splice(stylePosition-1,1);element.className=classNames.join(" ")}},handleSlideTabFocus:function(){this.addClass(this.slideIcon,"active")},handleSlideTabBlur:function(){this.removeClass(this.slideIcon,"active")},handleIconClick:function(){this._toggleSlide()},handleSupportKey:function(e,slideObj){if(slideObj){slideObj._toggleSlide()}},hideSlider:function(){this._setSupportLinksTabIndex("-1");this.removeClass(this.slideContainer,this.slideToggleClass);this.removeClass(this.slideIcon,"active");this.slideIconLink.setAttribute("aria-expanded","false")},showSlider:function(){this._setSupportLinksTabIndex("0");this.addClass(this.slideContainer,this.slideToggleClass);this.addClass(this.slideIcon,"active");this.slideIconLink.setAttribute("aria-expanded","true")},_setSupportLinksTabIndex:function(indexVal){var links=this.slidePanel.querySelectorAll("a");for(var i=0;i<links.length;i++){links[i].tabIndex=indexVal}},_toggleSlide:function(){if(this.hasClass(this.slideContainer,this.slideToggleClass)){this.hideSlider()}else{this.showSlider()}},getAllFrames:function(){var frames=[];var windowParentFrames=window.parent.frames;for(var i=0,len=windowParentFrames.length;i<len;i++){frames.push(windowParentFrames[i])}if(frames.length===0&&window.frames.length===0){frames[0]=window;return frames}return frames}};var supportMenu=null;function initializeSlideMenus(){supportMenu=new SlideMenu("supportContainer");supportMenu.init()}window.addEventListener("content-container-init",initializeSlideMenus)})(window);
