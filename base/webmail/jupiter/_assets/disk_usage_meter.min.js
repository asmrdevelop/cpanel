!function(t){"use strict";function e(t){this._el=t}function s(t){e.call(this,t)}function i(t,s,i){e.call(this,t),this._usage_data_el=s,this._quota=i}$.extend(e.prototype,{_get_refresher:function(){var t=this;return CPANEL.api({version:3,module:this.MODULE,func:this.FUNC,callback:{success:function(e){delete t._refreshing;var s=parseInt(t._get_usage(e.cpanel_data),10);t.set(s)},failure:function(e){delete t._refreshing,console.error(e)}}})},refresh:function(){return!this._refreshing&&(this._refreshing=this._get_refresher(),!0)},set:function(t){this._el.textContent=LOCALE.format_bytes(t),this._after_set&&this._after_set(t)}}),s.prototype=Object.create(e.prototype),$.extend(s.prototype,{MODULE:"Email",FUNC:"get_main_account_disk_usage_bytes",_get_usage:String}),i.prototype=Object.create(e.prototype),$.extend(i.prototype,{MODULE:"Email",FUNC:"list_pops_with_disk",_get_usage:function(t){return t[0]._diskused},_after_set:function(t){if(this._quota){var e=Math.min(99,Math.floor(100*t/this._quota));1===String(e).length&&(e="0"+e),this._usage_data_el.setAttribute("data-quotausage",e)}}}),t.Disk_Usage_Meter_Cpuser=s,t.Disk_Usage_Meter_Mailuser=i}(window);