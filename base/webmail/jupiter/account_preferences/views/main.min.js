define(["angular","lodash","cjt/util/locale","app/services/accountPrefs","cjt/modules","cjt/services/alertService","cjt/directives/toggleSwitchDirective","cjt/directives/toggleLabelInfoDirective"],(function(e,a,t,i){"use strict";var o="MAILBOX_AUTOCREATION_ENABLED",l="webmail.accountPrefs.views.main",r=["$scope",i.serviceName,"alertService",o,"RESOURCE_TEMPLATE","EMAIL_ADDRESS","DISPLAY_EMAIL_ADDRESS"],s="MainController",n=function(e,i,o,l,r,s,n){e.email=s,e.displayEmailAddress=a.escape(n),e.examplePlusAddress=e.displayEmailAddress.split("@").join("+plusaddress@"),e.resourcesPanelTemplate=r,e.mailboxAutoCreationEnabled=l,e.enableMailboxAutoCreate=function(){var a=o.success.bind(o,t.maketext("You enabled automatic folder creation for “[_1]”.",e.displayEmailAddress)),l=o.add.bind(o,{type:"danger",message:t.maketext("The system could not enable automatic folder creation for “[_1]”.",e.displayEmailAddress)});return i.enableMailboxAutoCreate(e.email).then(a,l)},e.disableMailboxAutoCreate=function(){var a=o.success.bind(o,t.maketext("You disabled automatic folder creation for “[_1]”.",e.displayEmailAddress)),l=o.add.bind(o,{type:"danger",message:t.maketext("The system could not disable automatic folder creation for “[_1]”.",e.displayEmailAddress)});return i.disableMailboxAutoCreate(e.email).then(a,l)},e.toggleAutoFolderCreation=function(){return e.mailboxAutoCreationEnabled=!e.mailboxAutoCreationEnabled,e.mailboxAutoCreationEnabled?e.enableMailboxAutoCreate():e.disableMailboxAutoCreate()}};e.module(l,[]).controller(s,r.concat(n));var d={};return d[o]=[i.serviceName,"EMAIL_ADDRESS",function(e,a){return e.isMailboxAutoCreateEnabled(a)}],{controller:s,class:n,template:"views/main.ptt",namespace:l,resolver:d}}));