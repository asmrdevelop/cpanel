define("app/services/accountPrefs",["angular","lodash","cjt/io/uapi-request","cjt/modules","cjt/io/api","cjt/io/uapi","cjt/services/APICatcher"],(function(e,a,t){"use strict";var i="webmail.accountPrefs.services.accountPrefs",r="AccountPrefsService",o=["APICatcher"],s=function(e){var i=function(){};return i.prototype=Object.create(e),a.assign(i.prototype,{_apiCall:function(e,a,i){var r=new t.Class;return r.initialize(e,a,i),r},_processMailboxAutoCreateResponse:function(e){return e&&e.data&&"1"===e.data.toString()},isMailboxAutoCreateEnabled:function(e){var a=this._apiCall("Email","get_mailbox_autocreate",{email:e});return this._promise(a).then(this._processMailboxAutoCreateResponse)},enableMailboxAutoCreate:function(e){var a=this._apiCall("Email","enable_mailbox_autocreate",{email:e});return this._promise(a)},disableMailboxAutoCreate:function(e){var a=this._apiCall("Email","disable_mailbox_autocreate",{email:e});return this._promise(a)},_promise:function(){return e.promise.apply(this,arguments)}}),new i};return o.push(s),e.module(i,["cjt2.services.apicatcher"]).factory(r,o),{class:s,serviceName:r,namespace:i}})),define("app/views/main",["angular","lodash","cjt/util/locale","app/services/accountPrefs","cjt/modules","cjt/services/alertService","cjt/directives/toggleSwitchDirective","cjt/directives/toggleLabelInfoDirective"],(function(e,a,t,i){"use strict";var r="MAILBOX_AUTOCREATION_ENABLED",o="webmail.accountPrefs.views.main",s=["$scope",i.serviceName,"alertService",r,"RESOURCE_TEMPLATE","EMAIL_ADDRESS","DISPLAY_EMAIL_ADDRESS"],l="MainController",n=function(e,i,r,o,s,l,n){e.email=l,e.displayEmailAddress=a.escape(n),e.examplePlusAddress=e.displayEmailAddress.split("@").join("+plusaddress@"),e.resourcesPanelTemplate=s,e.mailboxAutoCreationEnabled=o,e.enableMailboxAutoCreate=function(){var a=r.success.bind(r,t.maketext("You enabled automatic folder creation for “[_1]”.",e.displayEmailAddress)),o=r.add.bind(r,{type:"danger",message:t.maketext("The system could not enable automatic folder creation for “[_1]”.",e.displayEmailAddress)});return i.enableMailboxAutoCreate(e.email).then(a,o)},e.disableMailboxAutoCreate=function(){var a=r.success.bind(r,t.maketext("You disabled automatic folder creation for “[_1]”.",e.displayEmailAddress)),o=r.add.bind(r,{type:"danger",message:t.maketext("The system could not disable automatic folder creation for “[_1]”.",e.displayEmailAddress)});return i.disableMailboxAutoCreate(e.email).then(a,o)},e.toggleAutoFolderCreation=function(){return e.mailboxAutoCreationEnabled=!e.mailboxAutoCreationEnabled,e.mailboxAutoCreationEnabled?e.enableMailboxAutoCreate():e.disableMailboxAutoCreate()}};e.module(o,[]).controller(l,s.concat(n));var c={};return c[r]=[i.serviceName,"EMAIL_ADDRESS",function(e,a){return e.isMailboxAutoCreateEnabled(a)}],{controller:l,class:n,template:"views/main.ptt",namespace:o,resolver:c}})),define("app/index",["angular","app/services/accountPrefs","app/views/main","cjt/modules","cjt/directives/alertList","cjt/services/APICatcher","ngRoute","uiBootstrap"],(function(e,a,t){"use strict";var i="webmail.accountPrefs";return function(){var r=e.module(i,["ngRoute","ui.bootstrap","cjt2.webmail",a.namespace,t.namespace]);return r.value("EMAIL_ADDRESS",PAGE.emailAddress),r.value("DISPLAY_EMAIL_ADDRESS",PAGE.displayEmailAddress),r.value("RESOURCE_TEMPLATE","views/_resources.ptt"),require(["cjt/bootstrap"],(function(e){r.config(["$routeProvider",function(e){e.when("/",{controller:t.controller,templateUrl:t.template,resolve:t.resolver}),e.otherwise({redirectTo:"/"})}]),e("#mainContent",i)}))}}));