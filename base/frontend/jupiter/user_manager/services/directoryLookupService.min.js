define(["angular","lodash","cjt/core","cjt/util/locale","cjt/io/api","cjt/io/uapi-request","cjt/io/uapi","cjt/util/parse"],(function(e,t,r,n,a,i,o,u){"use strict";var c=e.module("cpanel.services.directoryLookup",[]),d=null;c.factory("directoryLookupService",["$q","APIService",function(t,r){var n=function(){};return n.prototype=new r,e.extend(n.prototype,{complete:function(e){d&&d.abort();var t=new i.Class;return t.initialize("Fileman","autocompletedir"),t.addArgument("path",e),t.addArgument("dirsonly",!0),t.addArgument("skipreserved",!0),t.addArgument("html",0),"/"===e.charAt(e.length-1)&&t.addArgument("list_all",!0),this.deferred(t,{transformAPISuccess:function(e){for(var t=[],r=0,n=e.data.length;r<n;r++)t.push(e.data[r].file);return t}}).promise},sendRequest:function(e,t,n){return e=new r.AngularAPICall(e,t,n),d=e.jqXHR,e.deferred}}),new n}])}));