"use strict";(self.webpackChunksitejet=self.webpackChunksitejet||[]).push([[179],{4118:(I,et,c)=>{var Q=c(4497),t=c(2560),nt=c(6079),z=c(3278),b=c(5456),p=c(4666),Mt=c(8987),T=c(2508),Pt=c(9906),Ot=c(3371),r=c(3712),bt=c(8716),E=c(3366),H=c(2184),it=c(8528),ot=c(1526),u=c(124),P=c(3160),R=c(4139),ft=c(6587),m=c(3910),k=c(4661),A=c(1133),V=c(7418),l=(()=>{return(i=l||(l={})).theme="theme",i.details="details",i.list="list",i.create="create",i.pleskPublish="publish",i.pleskBack="back",i.view="view",i.error="error",l;var i})(),N=c(4505),at=c(3491),$=c(6942),Y=c(5921);let F=(()=>{class i{constructor(e){this.locale=e,this.loading$=new N.X(!1),this.loadingText$=new N.X("")}startLoading(){this.loading$.next(!0)}stopLoading(){this.loading$.next(!1)}displayLoadingMessages(e){return e.messages||(e.messages=[this.locale.maketext("Loading \u2026"),this.locale.maketext("Processing your request \u2026"),this.locale.maketext("Fetching your data \u2026"),this.locale.maketext("Verifying data \u2026"),this.locale.maketext("Loading resources \u2026"),this.locale.maketext("Gathering resources \u2026"),this.locale.maketext("Retrieving assets \u2026"),this.locale.maketext("Loading content \u2026"),this.locale.maketext("Building content \u2026"),this.locale.maketext("Loading data \u2026")]),(0,at.F)(e.displayIntervalMs).pipe((0,$.U)(()=>this.getRandomElement(e.messages)),(0,Y.R)(e.complete$))}getRandomElement(e){return e[Math.floor(Math.random()*e.length)]}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(P.g))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const rt=new t.OlP("sitejetApiToken"),W=new t.OlP("domainInfo"),st=new t.OlP("homeDir"),G=new t.OlP("deprefix"),lt=new t.OlP("domainsApp");var f=c(488),C=c(6996),w=c(2137),wt=c(1480);const x="Sitejet",v=(0,$.U)(i=>{if(1===i.status)return i;throw i.errors.pop()});let D=(()=>{class i{constructor(e,n,a,s){this.domainInfo=e,this.http=n,this.route=a,this.window=s}getTemplates(){const e=new f.j({namespace:x,method:"get_templates"});return this.http.post(e).pipe(v)}createAccount(){const e=new f.j({namespace:x,method:"create_account"});return this.http.post(e).pipe(v)}createWebsite(e,n=this.domainInfo.main_domain){const a=new f.j({namespace:x,method:"create_website",arguments:[new C.h("company",e),new C.h("domain",n)]});return this.http.post(a).pipe(v)}getSsoLink(e=this.domainInfo.main_domain){const n=new f.j({namespace:x,method:"get_sso_link",arguments:[new C.h("domain",e),new C.h("referrer",`${this.window.location.origin}${this.window.location.pathname}#`)]});return this.http.post(n).pipe(v)}selectTemplateForWebsite(e,n=this.route.snapshot.queryParams.site_id){const a=new f.j({namespace:x,method:"set_template",arguments:[new C.h("domain",n),new C.h("templateId",e.id),new C.h("templateName",e.name)]});return this.http.post(a).pipe(v)}getAllSitejetInfo(e){const n=new f.j({namespace:x,method:"get_all_user_sitejet_info",...e?.tableMetadata});return e?.domain&&n.addArgument(this.getDomainArgument(e.domain)),this.http.get(n).pipe(v,(0,$.U)(a=>(a.data.map(s=>{const{metadata:_,quota:g,status:h}=s;return s.shared_doc_root=(0,w.s)(s.shared_doc_root),s.redirection_enabled=(0,w.s)(s.redirection_enabled),s.is_restore_point_available=(0,w.s)(s.is_restore_point_available),_.fullcms=(0,w.s)(_.fullcms),g.can_backup=(0,w.s)(g.can_backup),g.is_docroot_empty=(0,w.s)(g.is_docroot_empty),h.has_sitejet_published=(0,w.s)(h.has_sitejet_published),h.has_sitejet_templateId=(0,w.s)(h.has_sitejet_templateId),h.has_sitejet_website=(0,w.s)(h.has_sitejet_website),h.is_sitejet=(0,w.s)(h.is_sitejet),s}),a)))}startPublish(e,n=!1){const a=new f.j({namespace:x,method:"start_publish",arguments:[new C.h("domain",e),new C.h("cleanup",n)]});return this.http.post(a).pipe(v)}pollPublish(e,n){const a=new f.j({namespace:x,method:"poll_publish",arguments:[new C.h("pid",e),new C.h("file_name",n)]});return this.http.post(a).pipe(v)}createRestorePoint(e){const n=new f.j({namespace:x,method:"create_restore_point",arguments:[new C.h("domain",e)]});return this.http.get(n).pipe(v)}restore(e){const n=new f.j({namespace:x,method:"restore_document_root",arguments:[new C.h("domain",e)]});return this.http.get(n).pipe(v)}getDomainArgument(e){return new C.h("domain",e)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(W),t.LFG(wt.Tr),t.LFG(u.gz),t.LFG(Window))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),B=(()=>{class i{constructor(e,n){this.router=e,this.domainInfo=n}goToDetailsView(e){this.router.navigate([l.details,l.view],{queryParams:{site_id:e}})}goToTemplateChooser(e){this.router.navigate([l.theme],{queryParams:{site_id:e}})}setData(e,n){sessionStorage.setItem(e,JSON.stringify(n))}getData(e){const n=sessionStorage.getItem(e);return n?JSON.parse(n):null}getWebsiteData(e,n){return n.find(a=>a.cpanelDomainGUID===e)}getWebsiteDataByWebsiteId(e,n){return n.find(a=>a.websiteId===Number(e))}isPrimaryDomain(e){return e===this.domainInfo.main_domain}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(u.F0),t.LFG(W))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),xt=(()=>{class i{constructor(e,n,a,s,_,g,h){this.apiService=e,this.router=n,this.notificationService=a,this.sitejetHelperService=s,this.loadingService=_,this.route=g,this.window=h,this.loadingService.startLoading()}ngOnInit(){const e=this.route.snapshot.queryParams.site_id;this.hasApiToken()?this.apiService.getAllSitejetInfo({domain:e}).pipe((0,m.q)(1)).subscribe({next:n=>{const a=n.data[0];return a.status.has_sitejet_website?this.handleWebsiteExists(a.domain,a.status.has_sitejet_templateId):this.handleWebsiteNotExists(a)},error:n=>{this.loadingService.stopLoading(),this.notificationService.add({type:r.k$.error,message:n.message,id:"create__error--getAllSitejetInfo"}),this.router.navigate([l.list])}}):this.handleAccountCreation(e)}hasApiToken(){return Boolean(this.window.PAGE.sitejetApiToken)}handleAccountCreation(e){this.apiService.createAccount().pipe((0,k.x)(()=>this.loadingService.stopLoading()),(0,A.b)(n=>(this.window.PAGE.sitejetApiToken=n.data.key,this.apiService.tempApiToken=n.data.key,this.apiService.createWebsite(e,e))),(0,A.b)(n=>(this.sitejetHelperService.goToTemplateChooser(e),(0,R.of)(!0))),(0,V.K)(n=>this.handleError(n))).subscribe()}handleError(e){return this.notificationService.add({type:r.k$.error,message:e.message,id:"create__error--handleAccountCreation"}),this.router.navigate([l.error]),(0,ft._)(e)}handleWebsiteExists(e,n){this.loadingService.stopLoading(),n?this.router.navigate([l.details,l.view],{queryParams:{site_id:e}}):this.sitejetHelperService.goToTemplateChooser(e)}handleWebsiteNotExists(e){this.loadingService.stopLoading(),e.redirection_enabled||e.shared_doc_root?this.router.navigate([l.list]):this.sitejetHelperService.goToTemplateChooser(e.domain)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D),t.Y36(u.F0),t.Y36(r.gq),t.Y36(B),t.Y36(F),t.Y36(u.gz),t.Y36(Window))},i.\u0275cmp=t.Xpm({type:i,selectors:[["sitejet-create"]],decls:0,vars:0,template:function(e,n){},encapsulation:2}),i})();var y=c(7806),Z=(()=>((Z||(Z={})).preview="sitejetWebsitePreview",Z))();let X=(()=>{class i{constructor(){this.messageSubject=new y.xQ,this.messagesSubject=new y.xQ,this.publishSubject=new N.X(!1),this.errorSubject=new y.xQ,this.message$=this.messageSubject.asObservable(),this.messages$=this.messagesSubject.asObservable(),this.publishComplete$=this.publishSubject.asObservable(),this.publishError$=this.errorSubject.asObservable()}sendMessage(e){this.messageSubject.next(e)}sendMessages(e){this.messagesSubject.next(e)}publishComplete(e=!0){this.publishSubject.next(e)}publishError(e){this.errorSubject.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const vt=function(i){return["skeleton-loader",i]},kt=function(i,o){return{width:i,height:o}};let ct=(()=>{class i{constructor(){this.shape="line",this.width=null,this.height=null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["sitejet-skeleton-loader"]],inputs:{shape:"shape",width:"width",height:"height",classes:"classes"},decls:1,vars:7,consts:[[3,"ngClass","ngStyle"]],template:function(e,n){1&e&&t._UZ(0,"div",0),2&e&&t.Q6J("ngClass",t.VKq(2,vt,n.shape))("ngStyle",t.WLB(4,kt,n.width,n.height))},directives:[p.mk,p.PC],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]{--cp-spacer-1: .25rem;--cp-spacer-2: .5rem;--cp-spacer-3: .75rem;--cp-spacer-4: 1rem;--cp-spacer-5: 1.25rem;--cp-spacer-6: 1.5rem;--cp-spacer-7: 1.75rem;--cp-spacer-8: 2rem;--cp-spacer-9: 2.5rem;--cp-spacer-10: 3rem}html[dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-left:var(--cp-spacer-1)}html[dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%]{padding-right:0;padding-left:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%]{padding-left:0;padding-right:var(--cp-spacer-1)}.sitejet-cp-button--with-icon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center}.icon-btn-link-text[_ngcontent-%COMP%]{text-transform:none}.toast-header[_ngcontent-%COMP%]{font-weight:600}.page-title-section[_ngcontent-%COMP%] > .breadcrumb[_ngcontent-%COMP%]{padding-top:var(--cp-spacer-2);font-size:1rem}.page-title-section[_ngcontent-%COMP%] > .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-separator[_ngcontent-%COMP%]{padding:0 var(--cp-spacer-1)}.sitejet-modal-header[_ngcontent-%COMP%]{font-size:1.25rem;margin:0}@media (max-width: 575.98px){.hidden-xs[_ngcontent-%COMP%]{display:none}}.skeleton-loader[_ngcontent-%COMP%]{background:var(--cp-gray-200, #e5e7e9) no-repeat;border-radius:.25rem;margin:var(--cp-spacer-3) 0;box-sizing:border-box;overflow:hidden;position:relative;display:inline-block;will-change:transform}.line[_ngcontent-%COMP%]{height:24px;width:100%;margin:var(--cp-spacer-3) 0}.circle[_ngcontent-%COMP%]{height:48px;width:48px;border-radius:50%}.rectangle[_ngcontent-%COMP%]{height:48px;width:100%}.skeleton-loader[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;top:0;height:100%;width:100%;animation:progress 2s ease-in-out infinite}html[dir=ltr][_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]:before, [dir=ltr][_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]:before, [dir=ltr][_nghost-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]:before, html[dir=ltr][_nghost-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]:before, html[dir=ltr]   [_nghost-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]:before, [dir=ltr][_nghost-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]:before, [dir=ltr]   [_nghost-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]:before{left:0;background-image:linear-gradient(to right,transparent,rgba(255,255,255,.6),transparent)}html[dir=rtl][_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]:before, [dir=rtl][_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]:before, [dir=rtl][_nghost-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]:before, html[dir=rtl][_nghost-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]:before, [dir=rtl][_nghost-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]:before, [dir=rtl]   [_nghost-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]:before{right:0;background-image:linear-gradient(to left,transparent,rgba(255,255,255,.6),transparent)}@keyframes progress{0%{transform:translate(-100%)}50%{transform:translate(100%)}to{transform:translate(100%)}}']}),i})();var O=(()=>{return(i=O||(O={})).desktop="xl",i.tablet="lg",i.mobile="md",O;var i})(),Tt=c(7020);const yt=["canvas"];function St(i,o){1&i&&t._UZ(0,"canvas",null,1)}let jt=(()=>{class i{constructor(e){this.cd=e,this.numberOfParticles=100,this.confettiCreateFunction=Tt.U,this.showCanvas=!1}createConfetti(){this.showCanvas=!0,this.cd.detectChanges();const e=this.canvas.nativeElement;e.width=window.innerWidth,e.height=window.innerHeight,this.confettiCreateFunction(e,{resize:!0})({particleCount:this.numberOfParticles,spread:75,disableForReducedMotion:!0,ticks:100,origin:{y:.7}}).then(()=>this.showCanvas=!1)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["sitejet-confetti"]],viewQuery:function(e,n){if(1&e&&t.Gf(yt,5),2&e){let a;t.iGM(a=t.CRH())&&(n.canvas=a.first)}},inputs:{numberOfParticles:"numberOfParticles"},decls:1,vars:1,consts:[[4,"ngIf"],["canvas",""]],template:function(e,n){1&e&&t.YNc(0,St,2,0,"canvas",0),2&e&&t.Q6J("ngIf",n.showCanvas)},directives:[p.O5],styles:["canvas[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;bottom:0;z-index:1}html[dir=ltr][_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   canvas[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   canvas[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   canvas[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   canvas[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   canvas[_ngcontent-%COMP%]{right:0}html[dir=rtl][_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   canvas[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   canvas[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   canvas[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   canvas[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   canvas[_ngcontent-%COMP%]{left:0}"]}),i})();const At=["modalTemplate"];function Dt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",4),t.Hsn(1,1),t.TgZ(2,"button",5),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).closeModal()}),t.TgZ(3,"span",6),t._uU(4,"\xd7"),t.qZA()()()}if(2&i){const e=t.oxw(2);t.xp6(2),t.uIk("data-testid","modal__close-button")("aria-label",e.locale.maketext("Close"))}}function Zt(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).decline()}),t.qZA(),t.TgZ(2,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).confirm()}),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("innerHTML",e.declineActionText,t.oJD),t.uIk("data-testid","modal__decline-button"),t.xp6(1),t.Q6J("innerHTML",e.confirmActionText,t.oJD),t.uIk("data-testid","modal__confirm-button")}}function Lt(i,o){if(1&i&&(t.TgZ(0,"div",7),t.Hsn(1,2),t.YNc(2,Zt,3,4,"ng-container",8),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.config.confirmWindow)}}function Jt(i,o){if(1&i&&(t.YNc(0,Dt,5,2,"div",1),t.TgZ(1,"div",2),t.Hsn(2),t.qZA(),t.YNc(3,Lt,3,1,"div",3)),2&i){const e=t.oxw();t.Q6J("ngIf",!(null!=e.config&&e.config.hideHeader)),t.xp6(3),t.Q6J("ngIf",!(null!=e.config&&e.config.hideFooter))}}const It=[[["","modalBody",""]],[["","modalHeader",""]],[["","modalFooter",""]]],Qt=["[modalBody]","[modalHeader]","[modalFooter]"];let U=(()=>{class i{constructor(e,n,a){this.locale=e,this.modalService=n,this.renderer=a,this.dismissModal=new t.vpe,this.onDecline=new t.vpe,this.onConfirm=new t.vpe,this.config={confirmWindow:!1,size:O.mobile,ignoreBackdropClick:!1,keyboard:!0,backdrop:!0,hideFooter:!1,hideHeader:!1},this.modalSize=O.desktop,this.destroySubject=new y.xQ}ngOnInit(){this.confirmActionText??(this.confirmActionText=this.locale.maketext("Continue")),this.declineActionText??(this.declineActionText=this.locale.maketext("Cancel")),this.modalService.onHide.pipe((0,Y.R)(this.destroySubject)).subscribe(e=>{this.dismissModal.emit()})}ngOnChanges(e){e.show&&(e.show.currentValue?this.openModal():this.closeModal()),e.modalSize&&this.bsModalRef&&this.changeSize(e.modalSize.currentValue)}ngOnDestroy(){this.closeModal(),this.destroySubject.next()}openModal(){this.bsModalRef=this.modalService.show(this.modalTemplate,this.config),this.changeSize(this.config.size)}closeModal(){this.bsModalRef&&this.bsModalRef.hide()}confirm(){this.onConfirm.emit(),this.bsModalRef?.hide()}decline(){this.onDecline.emit(),this.bsModalRef?.hide()}changeSize(e){const n=document.querySelector(".modal-dialog");!n||(this.renderer.removeClass(n,`modal-${O.desktop}`),this.renderer.removeClass(n,`modal-${O.tablet}`),this.renderer.removeClass(n,`modal-${O.mobile}`),this.renderer.addClass(n,`modal-${e}`))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(P.g),t.Y36(it.tT),t.Y36(t.Qsj))},i.\u0275cmp=t.Xpm({type:i,selectors:[["sitejet-modal"]],viewQuery:function(e,n){if(1&e&&t.Gf(At,7),2&e){let a;t.iGM(a=t.CRH())&&(n.modalTemplate=a.first)}},inputs:{confirmActionText:"confirmActionText",declineActionText:"declineActionText",config:"config",modalSize:"modalSize",show:"show"},outputs:{dismissModal:"dismissModal",onDecline:"onDecline",onConfirm:"onConfirm"},features:[t.TTD],ngContentSelectors:Qt,decls:2,vars:0,consts:[["modalTemplate",""],["class","modal-header",4,"ngIf"],[1,"modal-body"],["class","modal-footer",4,"ngIf"],[1,"modal-header"],["type","button",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-footer"],[4,"ngIf"],[1,"btn","btn-outline-primary",3,"innerHTML","click"],[1,"btn","btn-primary",3,"innerHTML","click"]],template:function(e,n){1&e&&(t.F$t(It),t.YNc(0,Jt,4,2,"ng-template",null,0,t.W1O))},directives:[p.O5],styles:[".modal-dialog.modal-xl{width:90vw}  .modal-dialog.modal-lg{width:800px}  .modal-dialog.modal-md{width:500px}  .modal-header>div{display:block;width:100%}"],changeDetection:0}),i})();var Rt=c(4858),Nt=c(5398);const Yt=["terminalScreen"];function Ft(i,o){1&i&&t._UZ(0,"p",3),2&i&&t.Q6J("innerHtml",o.$implicit,t.oJD)}let qt=(()=>{class i{constructor(e){this.messageService=e,this.sentMessages=[],this.destroySubject=new y.xQ}ngAfterViewInit(){this.messageService.messages$.pipe((0,Y.R)(this.destroySubject),(0,A.b)(e=>{const n=e.slice(this.sentMessages.length);return(0,Rt.D)(n).pipe((0,A.b)(a=>(0,Nt.H)(100).pipe((0,m.q)(1),(0,$.U)(()=>a))))})).subscribe(e=>{this.addMessage(e)})}ngOnDestroy(){this.destroySubject.next()}addMessage(e){this.sentMessages.push(e),this.scrollToBottom()}scrollToBottom(){this.terminalScreen.nativeElement.scrollTop=this.terminalScreen.nativeElement.scrollHeight}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(X))},i.\u0275cmp=t.Xpm({type:i,selectors:[["sitejet-scrolling-messages"]],viewQuery:function(e,n){if(1&e&&t.Gf(Yt,5),2&e){let a;t.iGM(a=t.CRH())&&(n.terminalScreen=a.first)}},decls:3,vars:1,consts:[[1,"scrolling-messages-wrapper"],["terminalScreen",""],[3,"innerHtml",4,"ngFor","ngForOf"],[3,"innerHtml"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0,1),t.YNc(2,Ft,1,1,"p",2),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngForOf",n.sentMessages))},directives:[p.sg],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]{--cp-spacer-1: .25rem;--cp-spacer-2: .5rem;--cp-spacer-3: .75rem;--cp-spacer-4: 1rem;--cp-spacer-5: 1.25rem;--cp-spacer-6: 1.5rem;--cp-spacer-7: 1.75rem;--cp-spacer-8: 2rem;--cp-spacer-9: 2.5rem;--cp-spacer-10: 3rem}html[dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-left:var(--cp-spacer-1)}html[dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%]{padding-right:0;padding-left:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%]{padding-left:0;padding-right:var(--cp-spacer-1)}.sitejet-cp-button--with-icon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center}.icon-btn-link-text[_ngcontent-%COMP%]{text-transform:none}.toast-header[_ngcontent-%COMP%]{font-weight:600}.page-title-section[_ngcontent-%COMP%] > .breadcrumb[_ngcontent-%COMP%]{padding-top:var(--cp-spacer-2);font-size:1rem}.page-title-section[_ngcontent-%COMP%] > .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-separator[_ngcontent-%COMP%]{padding:0 var(--cp-spacer-1)}.sitejet-modal-header[_ngcontent-%COMP%]{font-size:1.25rem;margin:0}@media (max-width: 575.98px){.hidden-xs[_ngcontent-%COMP%]{display:none}}.scrolling-messages-wrapper[_ngcontent-%COMP%]{background-color:#000;color:var(--cp-success, #198754);font-family:Courier New,monospace;padding:var(--cp-spacer-4);width:100%;height:60vh;overflow-y:scroll;border:1px solid var(--cp-gray-700, #54636f);box-shadow:0 0 var(--cp-spacer-2) #0000004d;border-radius:.25rem;white-space:pre-wrap;position:relative;z-index:0}.scrolling-messages-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;word-break:break-word}"]}),i})();const zt=["confetti"];function Ht(i,o){if(1&i&&(t.ynx(0),t._UZ(1,"progressbar",10),t.TgZ(2,"div",11),t._UZ(3,"span",12),t.TgZ(4,"span",13),t._uU(5),t.qZA()(),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("animate",!0)("value",e.progress||e.minProgressValue),t.xp6(4),t.Oqu(e.loadingText)}}const $t=function(){return{backdrop:"static",keyboard:!1,ignoreBackdropClick:!0,hideFooter:!0,hideHeader:!0}},Ut=function(i,o){return{"ri-arrow-down-s-line":i,"ri-arrow-up-s-line":o}};let Et=(()=>{class i{constructor(e,n,a,s){this.wsMessageService=e,this.sitejetHelperService=n,this.window=a,this.locale=s,this.progress=1,this.hide=new t.vpe,this.isCollapsed=!0,this.buttonState=r.BN,this.buttonVariant=r.Wu,this.minProgressValue=4,this.textMoreDetails=this.locale.maketext("More details"),this.textLessDetails=this.locale.maketext("Less details")}ngOnInit(){this.loadingText=this.locale.maketext("Your site is being published \u2026")}ngAfterViewInit(){this.wsMessageService.publishComplete$.pipe((0,m.q)(1)).subscribe(e=>{e&&(this.confetti.createConfetti(),this.wsMessageService.publishComplete(!1))})}showMore(){this.isCollapsed=!this.isCollapsed,this.window.mixpanel?.track("Sitejet-PublishDetails",{domain:this.domain,"primary-domain":this.sitejetHelperService.isPrimaryDomain(this.domain),"is-collapsed":this.isCollapsed}),this.modalSize=this.isCollapsed?void 0:O.desktop}getMoreLessLabel(e){return e?this.textMoreDetails:this.textLessDetails}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(X),t.Y36(B),t.Y36(Window),t.Y36(P.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["sitejet-publish"]],viewQuery:function(e,n){if(1&e&&t.Gf(zt,7),2&e){let a;t.iGM(a=t.CRH())&&(n.confetti=a.first)}},inputs:{show:"show",progress:"progress",domain:"domain"},outputs:{hide:"hide"},decls:11,vars:17,consts:[[3,"numberOfParticles"],["confetti",""],[3,"show","modalSize","config"],["modalBody",""],[4,"ngIf"],[1,"publish-modal__actions"],["id","publish-modal__collapse",1,"sitejet-cp-button--with-icon",3,"buttonVariant","buttonState","onBtnClick"],[1,"ri-md",3,"ngClass"],[1,"icon-btn-link-text",3,"innerHtml"],[3,"collapse","isAnimated"],[3,"animate","value"],[1,"my-3"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"px-1"]],template:function(e,n){1&e&&(t._UZ(0,"sitejet-confetti",0,1),t.TgZ(2,"sitejet-modal",2)(3,"div",3),t.YNc(4,Ht,6,3,"ng-container",4),t.TgZ(5,"div",5)(6,"cp-button",6),t.NdJ("onBtnClick",function(){return n.showMore()}),t._UZ(7,"i",7)(8,"span",8),t.qZA()(),t.TgZ(9,"div",9),t._UZ(10,"sitejet-scrolling-messages"),t.qZA()()()),2&e&&(t.Q6J("numberOfParticles",50),t.xp6(2),t.Q6J("show",n.show)("modalSize",n.modalSize)("config",t.DdM(13,$t)),t.xp6(2),t.Q6J("ngIf",n.isCollapsed),t.xp6(2),t.Q6J("buttonVariant",n.buttonVariant.iconLink)("buttonState",n.buttonState.enabled),t.uIk("data-test","publish-modal__collapse"),t.xp6(1),t.Q6J("ngClass",t.WLB(14,Ut,n.isCollapsed,!n.isCollapsed)),t.xp6(1),t.Q6J("innerHtml",n.getMoreLessLabel(n.isCollapsed),t.oJD),t.xp6(1),t.Q6J("collapse",n.isCollapsed)("isAnimated",!0),t.uIk("data-testid","publish-modal__detailed-view"))},directives:[jt,U,p.O5,ot.O1,r.r0,p.mk,E.Y,qt],styles:[".publish-modal__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),i})();const Vt=function(){return{confirmWindow:!0}},Wt=function(){return{backdrop:"static",keyboard:!1,hideFooter:!0,ignoreBackdropClick:!0}};let Gt=(()=>{class i{constructor(e,n,a,s){this.locale=e,this.loadingService=n,this.notificationService=a,this.router=s,this.show=!1,this.hide=new t.vpe,this.progressModalShow=!1,this.completeSubject=new y.xQ,this.setRestoreMessages()}ngOnInit(){this.loadingText=this.getRandomElement(this.backupLoadingMessages)}resetState(){this.completeSubject.next(!0),this.progressModalShow=!1,this.hide.emit(!0)}handleModalConfirm(){this.progressModalShow=!0,this.startRestore()}handleModalDecline(){this.hide.emit(!0)}handleModalDismissed(){this.hide.emit(!0)}startRestore(){this.completeSubject.next(!1),this.initLoadingMessages(),this.httpRequest.pipe((0,k.x)(()=>{this.resetState()})).subscribe({next:e=>{this.notificationService.add({type:r.k$.success,message:this.locale.maketext("Successfully restored data for the \u201c[_1]\u201d domain.",this.domain),id:"restore__success--restoreDocumentRoot"}),this.router.navigate([l.list])},error:e=>{this.notificationService.add({type:r.k$.error,message:e.message,id:"restore__error--restoreDocumentRoot"})}})}getRandomElement(e){return e[Math.floor(Math.random()*e.length)]}initLoadingMessages(){this.loadingService.displayLoadingMessages({displayIntervalMs:2e3,messages:this.backupLoadingMessages,complete$:this.completeSubject}).subscribe(e=>this.loadingText=e)}setRestoreMessages(){this.backupLoadingMessages=[this.locale.maketext("Initializing data transfer \u2026"),this.locale.maketext("Recovering data from archive \u2026"),this.locale.maketext("Retrieving files \u2026"),this.locale.maketext("Preparing restoration \u2026"),this.locale.maketext("Extracting data from archive \u2026"),this.locale.maketext("Verifying data integrity \u2026"),this.locale.maketext("Restoring document root to previous state \u2026"),this.locale.maketext("Data restoration in progress \u2026"),this.locale.maketext("Files being recovered \u2026"),this.locale.maketext("Analyzing data restoration \u2026"),this.locale.maketext("Finalizing restoration process \u2026")]}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(P.g),t.Y36(F),t.Y36(r.gq),t.Y36(u.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["sitejet-restore"]],inputs:{restoreFilePath:"restoreFilePath",show:"show",domain:"domain",httpRequest:"httpRequest"},outputs:{hide:"hide"},decls:14,vars:13,consts:[[3,"show","config","modalSize","dismissModal","onConfirm","onDecline"],["modalHeader",""],[1,"sitejet-modal-header",3,"innerHTML"],["modalBody",""],[3,"innerHTML"],[3,"show","modalSize","config"],[1,"my-3"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"px-1"]],template:function(e,n){1&e&&(t.TgZ(0,"sitejet-modal",0),t.NdJ("dismissModal",function(){return n.handleModalDismissed()})("onConfirm",function(){return n.handleModalConfirm()})("onDecline",function(){return n.handleModalDecline()}),t.TgZ(1,"div",1),t._UZ(2,"p",2),t.qZA(),t.TgZ(3,"div",3),t._UZ(4,"p",4),t.qZA()(),t.TgZ(5,"sitejet-modal",5)(6,"div",1),t._UZ(7,"p",2),t.qZA(),t.TgZ(8,"div",3),t._UZ(9,"p",4),t.TgZ(10,"div",6),t._UZ(11,"span",7),t.TgZ(12,"span",8),t._uU(13),t.qZA()()()()),2&e&&(t.Q6J("show",n.show)("config",t.DdM(11,Vt))("modalSize",void 0),t.xp6(2),t.Q6J("innerHTML",n.locale.maketext("Restore Directory"),t.oJD),t.xp6(2),t.Q6J("innerHTML",n.locale.maketext("This option will remove the existing Sitejet website for \u201c[output,strong,_1]\u201d and use the restore point to recover any files from your website\u2019s directory. The Sitejet Website Builder (CMS) saves your Sitejet website. You can publish it again in the future.",n.domain),t.oJD),t.xp6(1),t.Q6J("show",n.progressModalShow)("modalSize",void 0)("config",t.DdM(12,Wt)),t.xp6(2),t.Q6J("innerHTML",n.locale.maketext("Restoring [output,strong,_1]",n.domain),t.oJD),t.xp6(2),t.Q6J("innerHTML",n.locale.maketext("Restoring file \u201c[_1]\u201d.",n.restoreFilePath),t.oJD),t.xp6(4),t.Oqu(n.loadingText))},directives:[U],styles:[""]}),i})(),dt=(()=>{class i{constructor(e){this.sanitizer=e}transform(e,n){switch(n){case"html":default:return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Q.H7,16))},i.\u0275pipe=t.Yjl({name:"safe",type:i,pure:!0}),i})();function Xt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"cp-button",31),t.NdJ("onBtnClick",function(){return t.CHM(e),t.oxw().restoreSite()}),t._UZ(1,"i",32)(2,"span",11),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("buttonVariant",e.buttonVariant.iconLink)("buttonState",e.buttonState.enabled),t.uIk("data-test","domain-details__restore-site"),t.xp6(2),t.Q6J("innerHtml",e.locale.maketext("Restore"),t.oJD)}}function Kt(i,o){1&i&&t._UZ(0,"sitejet-skeleton-loader",33),2&i&&t.Q6J("height","60vh")("width","100%")}function te(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"div",34),t._UZ(2,"img",35),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("src","assets/no-image.svg",t.LSH)("alt",e.locale.maketext("No image available."))}}function ee(i,o){1&i&&(t.TgZ(0,"div",34),t._UZ(1,"cp-loading-spinner",38),t.qZA()),2&i&&(t.xp6(1),t.Q6J("isActive",!0),t.uIk("data-test","domain-details__backup-spinner"))}function ne(i,o){if(1&i&&t._UZ(0,"img",35),2&i){const e=t.oxw(2);t.Q6J("src","assets/no-image.svg",t.LSH)("alt",e.locale.maketext("No image available."))}}function ie(i,o){if(1&i&&(t.TgZ(0,"div")(1,"div",34),t.YNc(2,ee,2,2,"div",36),t.YNc(3,ne,1,2,"img",37),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.takingBackup),t.xp6(1),t.Q6J("ngIf",!e.takingBackup)}}function oe(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",39)(1,"iframe",40),t.NdJ("load",function(a){return t.CHM(e),t.oxw().iframeLoadDone(a)}),t.ALo(2,"safe"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("hidden",!e.displayIframe||e.isPublishing)("src",t.xi3(2,3,e.iframeSource,"resourceUrl"),t.uOi)("alt",e.locale.maketext("Website Preview"))}}function ae(i,o){if(1&i&&t._UZ(0,"p",24),2&i){const e=t.oxw();t.Q6J("innerHTML",e.diskWarningText,t.oJD)}}function re(i,o){if(1&i&&t._UZ(0,"cp-notification",41),2&i){const e=t.oxw();t.Q6J("notification",e.myNotification)("isInPage",!0)}}const se=function(){return{confirmWindow:!0}};let pt=(()=>{class i{constructor(e,n,a,s,_,g,h,q,tt,Jn,In,Qn){this.homeDir=e,this.deprefix=n,this.locale=a,this.route=s,this.apiService=_,this.window=g,this.notificationService=h,this.clipboard=q,this.router=tt,this.formBuilder=Jn,this.sitejetHelperService=In,this.wsMessageService=Qn,this.fetchingSsoLink=!1,this.displayIframe=!1,this.loading=!0,this.isPublishing=!1,this.takingBackup=!1,this.showWarningModal=!1,this.showDiskWarning=!1,this.showRestoreModal=!1,this.editSiteButtonState=r.BN.enabled,this.iframeTimeoutDuration=5e3,this.destroySubject=new y.xQ,this.buttonState=r.BN,this.buttonVariant=r.Wu}ngOnDestroy(){clearTimeout(this.loadTimeout),this.destroySubject.next()}ngOnInit(){this.warningForm=this.formBuilder.group({restoreCheckbox:this.formBuilder.control(!0)}),this.domain=this.route.snapshot.queryParams.site_id,this.apiService.getAllSitejetInfo({domain:this.domain}).pipe((0,m.q)(1)).subscribe({next:e=>{this.website=e.data.find(_=>_.domain===this.domain);const{metadata:n,quota:a,status:s}=this.website;if(this.docrootDirectory=n?.document_root,this.backupDirectory=n?.restore_file,this.canRestore=Boolean(this.website?.is_restore_point_available),this.routeComesFromSitejet(this.router.url)){if(s.is_sitejet||a.is_docroot_empty)return void this.publish({cleanup:!1});this.showDiskWarning=!a.can_backup,this.diskWarningText=this.locale.maketext("The system requires [numf,_1] MB to create a restore point for the directory. Your account\u2019s quota limit only has [numf,_2] MB available. You must increase your quota limit or remove files to create a restore point.",a.required_space,a.available_space),this.showDiskWarning&&(this.warningForm.get("restoreCheckbox").setValue(!1),this.warningForm.get("restoreCheckbox").disable()),this.showWarningModal=!0}else this.fetchSiteMetadata()},error:e=>{this.notificationService.add({type:r.k$.error,message:e.message,id:"domain-details__error--getAllSitejetInfo"})}}),this.loading=!1}ngAfterViewInit(){this.myNotification=new r.P_(this.locale.maketext("Without a restore point, you will be unable to recover your current website\u2019s files."),r.k$.warning,{isCloseable:!1,id:"domain-details__warn-uncheck-restore"})}viewSite(){this.window.open(`https://${this.website.domain}`,Z.preview)}restoreSite(){this.showRestoreModal=!0}getSso(){this.window.mixpanel?.track("Sitejet-EditSite",{domain:this.domain,"primary-domain":this.sitejetHelperService.isPrimaryDomain(this.domain),"launched-from":"Sitejet website details view"}),this.editSiteButtonState=r.BN.loading,this.apiService.getSsoLink(this.domain).pipe((0,k.x)(()=>this.editSiteButtonState=r.BN.enabled),(0,m.q)(1)).subscribe({next:e=>{this.window.location.href=e.data},error:e=>{this.notificationService.add({type:r.k$.error,message:e.message,id:"domain-details__error--getSsoLink"})}})}goToTemplate(){this.sitejetHelperService.goToTemplateChooser(this.domain)}iframeLoadDone(e){clearTimeout(this.loadTimeout),this.isPublishing=!1,this.loading=!1,e.target.src&&(this.displayIframe=!0)}publish(e){clearTimeout(this.loadTimeout),this.displayIframe=!1,this.isPublishing=!0,this.iframeSource=null,this.apiService.startPublish(this.domain,e?.cleanup).pipe((0,m.q)(1)).subscribe({next:n=>{this.window.mixpanel?.track("Sitejet-SitePublished",{domain:this.domain,"primary-domain":this.sitejetHelperService.isPrimaryDomain(this.domain),"sitejet-template":this.website.metadata.templateName}),this.startPoll(n.data.pid,n.data.file_name)},error:n=>{this.notificationService.clear(),this.notificationService.add({type:r.k$.error,message:n.message,id:"domain-details__error--startPublish"}),this.reRouteToView()}})}startPoll(e,n){this.wsMessageService.sendMessages([this.locale.maketext("Starting publish \u2026")]),(0,at.F)(3e3).pipe((0,Y.R)(this.destroySubject),(0,A.b)(()=>this.apiService.pollPublish(e,n))).subscribe({next:a=>{if(this.wsMessageService.sendMessages(a.data.log),this.progress=Number(a.data.progress),!a.data.is_running){if(this.notificationService.clear(),this.destroySubject.next(),a.data.failed)return this.notificationService.add({type:r.k$.error,message:this.locale.maketext("Something went wrong when publishing your Sitejet website. If this condition persists, contact your system administrator."),id:"domain-details__error--pollPublish-handled"}),void this.reRouteToView();this.notificationService.add({type:r.k$.success,message:this.locale.maketext("Published successfully."),id:"domain-details__success--pollPublish"}),this.reRouteToView(),this.wsMessageService.publishComplete()}},error:a=>{this.notificationService.clear(),this.notificationService.add({type:r.k$.error,message:a.message,id:"domain-details__error--pollPublish"}),this.destroySubject.next(),this.website.status.is_sitejet?this.reRouteToView():this.router.navigate([l.list])}})}handleModalConfirm(){this.showWarningModal=!1,this.warningForm.get("restoreCheckbox").value?(this.takingBackup=!0,this.notificationService.add({type:r.k$.information,message:this.locale.maketext("Creating restore point \u2026"),id:"domain-details__info--createRestorationPoint"}),this.apiService.createRestorePoint(this.domain).pipe((0,m.q)(1),(0,k.x)(()=>{this.takingBackup=!1})).subscribe({next:n=>{this.notificationService.clear(),this.publish({cleanup:!1})},error:n=>{this.notificationService.clear(),this.notificationService.add({type:r.k$.error,message:n.message,id:"domain-details__error--createRestorePoint"})}})):this.publish({cleanup:!0})}handleModalDismissed(){this.showWarningModal=!1}reRouteToView(){this.router.navigate([l.details,l.view],{queryParams:{site_id:this.domain}})}copyToClipboard(e,n){this.clipboard.copy(e),this.notificationService.add({type:r.k$.information,autoClosePeriod:2e3,message:n,id:"domain-details__info--copy"})}routeComesFromSitejet(e){return e.includes(l.pleskPublish)}fetchSiteMetadata(){this.website?.status?.has_sitejet_published?(this.startLoadTimeout(),this.iframeSource="https://"+this.website.domain+"/?cacheBust="+Date.now()):this.loading=!1}startLoadTimeout(){this.loadTimeout=setTimeout(()=>{this.notificationService.add({type:r.k$.warning,message:this.locale.maketext("The preview is taking too long to load. If this is a self-signed SSL, please visit the page to see the preview."),id:"domain-details__warning--iframe"}),this.loading=!1,this.isPublishing=!1},this.iframeTimeoutDuration)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(st),t.Y36(G),t.Y36(P.g),t.Y36(u.gz),t.Y36(D),t.Y36(Window),t.Y36(r.gq),t.Y36(nt.TU),t.Y36(u.F0),t.Y36(T.qu),t.Y36(B),t.Y36(X))},i.\u0275cmp=t.Xpm({type:i,selectors:[["sitejet-domain-details"]],decls:37,vars:39,consts:[[1,"domain-details__container"],[1,"domain-details__title-container"],[1,"domain-details__h2"],["type","button",1,"btn","btn-link","domain-details__title",3,"disabled","click"],[1,"domain-details_icon-group"],[1,"domain-details__title-text"],[1,"ri-md","ri-external-link-line"],[1,"domain-details__top-actions-container"],["id","domain-details__restore-site","class","sitejet-cp-button--with-icon",3,"buttonVariant","buttonState","onBtnClick",4,"ngIf"],["id","domain-details__change-template",1,"sitejet-cp-button--with-icon",3,"buttonVariant","buttonState","onBtnClick"],[1,"ri-md","ri-arrow-left-right-line"],[1,"icon-btn-link-text",3,"innerHtml"],["id","domain-details__edit-site",1,"sitejet-cp-button--with-icon",3,"buttonVariant","buttonState","onBtnClick"],[1,"ri-md","ri-pencil-fill"],[3,"innerHtml"],["class","domain-details__loading-skeleton","shape","rectangle",3,"height","width",4,"ngIf"],[3,"show","progress","domain"],[4,"ngIf"],["class","domain-details__preview-iframe-wrapper",4,"ngIf"],[3,"show","config","confirmActionText","modalSize","dismissModal","onConfirm","onDecline"],["modalHeader",""],[1,"sitejet-modal-header",3,"innerHTML"],["modalBody",""],[3,"innerHTML","click"],[3,"innerHTML"],[3,"innerHTML",4,"ngIf"],[1,"mb-3",3,"formGroup"],["id","modal-backup-checkbox","type","checkbox","formControlName","restoreCheckbox",1,"form-check-input"],["for","modal-backup-checkbox",1,"form-check-label",3,"innerHTML"],[3,"notification","isInPage",4,"ngIf"],[3,"show","domain","httpRequest","restoreFilePath","hide"],["id","domain-details__restore-site",1,"sitejet-cp-button--with-icon",3,"buttonVariant","buttonState","onBtnClick"],[1,"ri-md","ri-history-fill"],["shape","rectangle",1,"domain-details__loading-skeleton",3,"height","width"],[1,"domain-details__preview-image"],[3,"src","alt"],["class","domain-details__preview-image",4,"ngIf"],[3,"src","alt",4,"ngIf"],["id","domain-details__backup-spinner",3,"isActive"],[1,"domain-details__preview-iframe-wrapper"],[1,"domain-details__preview-iframe",3,"hidden","src","alt","load"],[3,"notification","isInPage"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2)(3,"button",3),t.NdJ("click",function(){return n.viewSite()}),t.TgZ(4,"span",4)(5,"span",5),t._uU(6),t.qZA(),t._UZ(7,"i",6),t.qZA()()(),t.TgZ(8,"div",7),t.YNc(9,Xt,3,4,"cp-button",8),t.TgZ(10,"cp-button",9),t.NdJ("onBtnClick",function(){return n.goToTemplate()}),t._UZ(11,"i",10)(12,"span",11),t.qZA(),t.TgZ(13,"cp-button",12),t.NdJ("onBtnClick",function(){return n.getSso()}),t._UZ(14,"i",13)(15,"span",14),t.qZA()()(),t.YNc(16,Kt,1,2,"sitejet-skeleton-loader",15),t._UZ(17,"sitejet-publish",16),t.YNc(18,te,3,2,"ng-container",17),t.YNc(19,ie,4,2,"div",17),t.YNc(20,oe,3,6,"div",18),t.qZA(),t.TgZ(21,"sitejet-modal",19),t.NdJ("dismissModal",function(){return n.handleModalDismissed()})("onConfirm",function(){return n.handleModalConfirm()})("onDecline",function(){return n.reRouteToView()}),t.TgZ(22,"div",20),t._UZ(23,"p",21),t.qZA(),t.TgZ(24,"div",22)(25,"p")(26,"span",23),t.NdJ("click",function(){return n.copyToClipboard(n.docrootDirectory,n.locale.maketext("Website directory copied to clipboard."))}),t.qZA(),t._UZ(27,"span",24),t.TgZ(28,"span"),t._uU(29),t.qZA()(),t.YNc(30,ae,1,1,"p",25),t.TgZ(31,"form",26)(32,"div"),t._UZ(33,"input",27)(34,"label",28),t.qZA()(),t.YNc(35,re,1,2,"cp-notification",29),t.qZA()(),t.TgZ(36,"sitejet-restore",30),t.NdJ("hide",function(){return n.showRestoreModal=!1}),t.qZA()),2&e&&(t.xp6(2),t.uIk("data-testid","domain-details__title-"+n.domain),t.xp6(1),t.Q6J("disabled",!(null!=n.website&&n.website.status.has_sitejet_published&&null!=n.website&&n.website.domain)),t.uIk("data-testid","domain-details__view-site"),t.xp6(3),t.Oqu(n.domain),t.xp6(3),t.Q6J("ngIf",n.canRestore),t.xp6(1),t.Q6J("buttonVariant",n.buttonVariant.iconLink)("buttonState",n.buttonState.enabled),t.uIk("data-testid","domain-details__change-template"),t.xp6(2),t.Q6J("innerHtml",n.locale.maketext("Change Template"),t.oJD),t.xp6(1),t.Q6J("buttonVariant",n.buttonVariant.primary)("buttonState",n.editSiteButtonState),t.uIk("data-testid","domain-details__edit-site"),t.xp6(2),t.Q6J("innerHtml",n.locale.maketext("Edit Site"),t.oJD),t.xp6(1),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("show",n.isPublishing)("progress",n.progress)("domain",n.domain),t.xp6(1),t.Q6J("ngIf",n.isPublishing),t.xp6(1),t.Q6J("ngIf",!n.loading&&!n.isPublishing&&!n.displayIframe),t.xp6(1),t.Q6J("ngIf",n.iframeSource),t.xp6(1),t.Q6J("show",n.showWarningModal)("config",t.DdM(38,se))("confirmActionText",n.locale.maketext("Publish"))("modalSize",void 0),t.uIk("data-testid","publish-warning__modal"),t.xp6(2),t.Q6J("innerHTML",n.locale.maketext("Directory Not Empty"),t.oJD),t.xp6(3),t.Q6J("innerHTML",n.locale.maketext("The publishing process will remove any website files from your [output,abbr,website directory,_1].",n.docrootDirectory),t.oJD),t.xp6(1),t.Q6J("innerHTML","\xa0",t.oJD),t.xp6(2),t.Oqu(n.locale.maketext("We strongly recommend creating a restore point.")),t.xp6(1),t.Q6J("ngIf",n.showDiskWarning),t.xp6(1),t.Q6J("formGroup",n.warningForm),t.xp6(2),t.uIk("data-testid","publish-warning__backup-checkbox"),t.xp6(1),t.Q6J("innerHTML","&nbsp"+n.locale.maketext("Create a restore point."),t.oJD),t.xp6(1),t.Q6J("ngIf",!n.warningForm.get("restoreCheckbox").value),t.xp6(1),t.Q6J("show",n.showRestoreModal)("domain",n.domain)("httpRequest",n.apiService.restore(n.domain))("restoreFilePath",n.backupDirectory))},directives:[p.O5,r.r0,ct,Et,r.go,U,T._Y,T.JL,T.sg,T.Wl,T.JJ,T.u,r.c7,Gt],pipes:[dt],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]{--cp-spacer-1: .25rem;--cp-spacer-2: .5rem;--cp-spacer-3: .75rem;--cp-spacer-4: 1rem;--cp-spacer-5: 1.25rem;--cp-spacer-6: 1.5rem;--cp-spacer-7: 1.75rem;--cp-spacer-8: 2rem;--cp-spacer-9: 2.5rem;--cp-spacer-10: 3rem}html[dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-left:var(--cp-spacer-1)}html[dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%]{padding-right:0;padding-left:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%]{padding-left:0;padding-right:var(--cp-spacer-1)}.sitejet-cp-button--with-icon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center}.icon-btn-link-text[_ngcontent-%COMP%]{text-transform:none}.toast-header[_ngcontent-%COMP%]{font-weight:600}.page-title-section[_ngcontent-%COMP%] > .breadcrumb[_ngcontent-%COMP%]{padding-top:var(--cp-spacer-2);font-size:1rem}.page-title-section[_ngcontent-%COMP%] > .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-separator[_ngcontent-%COMP%]{padding:0 var(--cp-spacer-1)}.sitejet-modal-header[_ngcontent-%COMP%]{font-size:1.25rem;margin:0}@media (max-width: 575.98px){.hidden-xs[_ngcontent-%COMP%]{display:none}}.domain-details__container[_ngcontent-%COMP%]{position:relative}.domain-details__title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.domain-details__h2[_ngcontent-%COMP%]{margin:0}.domain-details__title[_ngcontent-%COMP%]{text-decoration:none;font-size:inherit;text-transform:none}html[dir=ltr][_ngcontent-%COMP%]   .domain-details__title-text[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .domain-details__title-text[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .domain-details__title-text[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .domain-details__title-text[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .domain-details__title-text[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .domain-details__title-text[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .domain-details__title-text[_ngcontent-%COMP%]{padding-right:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .domain-details__title-text[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .domain-details__title-text[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .domain-details__title-text[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .domain-details__title-text[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .domain-details__title-text[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .domain-details__title-text[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .domain-details__title-text[_ngcontent-%COMP%]{padding-left:var(--cp-spacer-1)}.domain-details__title[_ngcontent-%COMP%]:hover   .domain-details__title-text[_ngcontent-%COMP%]{text-decoration:underline}.domain-details__preview-iframe[_ngcontent-%COMP%], .domain-details__preview-image[_ngcontent-%COMP%]{width:100%;border:1px solid var(--cp-gray-300, #c3c7cc);border-radius:.25rem;height:60vh}.domain-details__preview-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.domain-details__preview-iframe-wrapper[_ngcontent-%COMP%]{width:100%}html[dir=ltr][_ngcontent-%COMP%]   .domain-details__button[_ngcontent-%COMP%]:first-of-type, [dir=ltr][_ngcontent-%COMP%]   .domain-details__button[_ngcontent-%COMP%]:first-of-type, [dir=ltr][_nghost-%COMP%]   .domain-details__button[_ngcontent-%COMP%]:first-of-type, html[dir=ltr][_nghost-%COMP%]   .domain-details__button[_ngcontent-%COMP%]:first-of-type, html[dir=ltr]   [_nghost-%COMP%]   .domain-details__button[_ngcontent-%COMP%]:first-of-type, [dir=ltr][_nghost-%COMP%]   .domain-details__button[_ngcontent-%COMP%]:first-of-type, [dir=ltr]   [_nghost-%COMP%]   .domain-details__button[_ngcontent-%COMP%]:first-of-type{margin:var(--cp-spacer-2) var(--cp-spacer-2) var(--cp-spacer-2) 0}html[dir=rtl][_ngcontent-%COMP%]   .domain-details__button[_ngcontent-%COMP%]:first-of-type, [dir=rtl][_ngcontent-%COMP%]   .domain-details__button[_ngcontent-%COMP%]:first-of-type, [dir=rtl][_nghost-%COMP%]   .domain-details__button[_ngcontent-%COMP%]:first-of-type, html[dir=rtl][_nghost-%COMP%]   .domain-details__button[_ngcontent-%COMP%]:first-of-type, html[dir=rtl]   [_nghost-%COMP%]   .domain-details__button[_ngcontent-%COMP%]:first-of-type, [dir=rtl][_nghost-%COMP%]   .domain-details__button[_ngcontent-%COMP%]:first-of-type, [dir=rtl]   [_nghost-%COMP%]   .domain-details__button[_ngcontent-%COMP%]:first-of-type{margin:var(--cp-spacer-2) 0 var(--cp-spacer-2) var(--cp-spacer-2)}.domain-details_icon-group[_ngcontent-%COMP%]{display:flex;align-items:center}html[dir=ltr][_ngcontent-%COMP%]   .domain-details_icon-padding[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .domain-details_icon-padding[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .domain-details_icon-padding[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .domain-details_icon-padding[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .domain-details_icon-padding[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .domain-details_icon-padding[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .domain-details_icon-padding[_ngcontent-%COMP%]{padding-left:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .domain-details_icon-padding[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .domain-details_icon-padding[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .domain-details_icon-padding[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .domain-details_icon-padding[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .domain-details_icon-padding[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .domain-details_icon-padding[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .domain-details_icon-padding[_ngcontent-%COMP%]{padding-right:var(--cp-spacer-1)}.domain-details__top-actions-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--cp-spacer-2)}.domain-details__loading-skeleton[_ngcontent-%COMP%]{width:100%;text-align:center}@media (max-width: 540px){.domain-details__top-actions-container[_ngcontent-%COMP%]{position:unset}}@media (max-width: 991.98px){.domain-details__top-actions-container[_ngcontent-%COMP%]{flex-direction:column;gap:var(--cp-spacer-2) 0;align-items:flex-start}html[dir=ltr][_ngcontent-%COMP%]   .domain-details__top-actions-container[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .domain-details__top-actions-container[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .domain-details__top-actions-container[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .domain-details__top-actions-container[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .domain-details__top-actions-container[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .domain-details__top-actions-container[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .domain-details__top-actions-container[_ngcontent-%COMP%]{padding-left:var(--cp-spacer-4)}html[dir=rtl][_ngcontent-%COMP%]   .domain-details__top-actions-container[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .domain-details__top-actions-container[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .domain-details__top-actions-container[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .domain-details__top-actions-container[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .domain-details__top-actions-container[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .domain-details__top-actions-container[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .domain-details__top-actions-container[_ngcontent-%COMP%]{padding-right:var(--cp-spacer-4)}.domain-details__title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column;gap:1rem;margin-bottom:1rem}}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]}),i})(),ce=(()=>{class i{constructor(e,n){this.locale=e,this.router=n}onPageRefresh(){this.router.navigate(["/"])}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(P.g),t.Y36(u.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["sitejet-error"]],decls:8,vars:3,consts:[[1,"error-wrapper"],[1,"ri-xxl","ri-error-warning-fill"],[1,"btn","btn-link","error-warpper__button-refresh",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1),t.TgZ(2,"h2"),t._uU(3),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"button",2),t.NdJ("click",function(){return n.onPageRefresh()}),t._uU(7),t.qZA()()),2&e&&(t.xp6(3),t.hij(" ",n.locale.maketext("Oops!")," "),t.xp6(2),t.hij(" ",n.locale.maketext("Something went wrong when initializing your Sitejet account.")," "),t.xp6(2),t.hij(" ",n.locale.maketext("Click here to retry.")," "))},styles:[".error-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.ri-xxl[_ngcontent-%COMP%]{font-size:4.5rem;line-height:1}.error-warpper__button-refresh[_ngcontent-%COMP%]{text-transform:none}"]}),i})();var M=(()=>{return(i=M||(M={})).domain="domain",i.info="info",i.actions="actions",i.actionPrimary="action-primary",M;var i})();const de={displayValue:null,isSortable:!1,isCollapsed:!1,customCellTemplate:null};class L{constructor(o,e){this.value=o,this.options={...de,...e}}}var _t=c(8494),J=c(5085);let K=(()=>{class i{constructor(){this.pagination={showPageSize:!0,pageSizeDisabled:!1,pageSizeOptions:[25,50,100,500],currentPageSize:25,totalItems:0,paginationDisabled:!1,currentPage:1,recordsBeforeFilter:0},this.sorts=[],this.loading=new N.X(!1)}updateSearchFilter(e,n){this.filters=[new _t.w(e,_t.p.Contains,n)],this.pagination.currentPage=1}changeSort(e){const n=this.sorts?.find(a=>a.column===e);n&&(n.direction=this.changeSortDirection(n.direction)),this.setSort(e,n?.direction||J.Sr.Ascending)}setSort(e,n){this.sorts=[new J.PE(e,n)]}getTableMetadata(){return{pager:{page:this.pagination.currentPage,pageSize:this.pagination.currentPageSize},filters:this.filters,sorts:this.sorts}}getSortColumn(){return this.sorts[0]?.column}sortedInAscendingOrder(){return this.sorts[0]?.direction===J.Sr.Ascending}changeSortDirection(e){return e===J.Sr.Ascending?J.Sr.Descending:J.Sr.Ascending}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var gt=c(1755);function pe(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"th",14)(1,"input",15),t.NdJ("change",function(a){t.CHM(e);const s=t.oxw();return a?s.toggleAllRows():null}),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("checked",e.selection.hasValue()&&e.isAllSelected()),t.uIk("aria-label",e.checkboxLabel())}}function _e(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"td",16)(1,"input",17),t.NdJ("click",function(a){return a.stopPropagation()})("change",function(a){const _=t.CHM(e).$implicit,g=t.oxw();return a?g.selection.toggle(_):null}),t.qZA()()}if(2&i){const e=o.$implicit,n=t.oxw();t.xp6(1),t.Q6J("checked",n.selection.isSelected(e)),t.uIk("aria-label",n.checkboxLabel(e))}}function ge(i,o){if(1&i&&(t.TgZ(0,"th",14)(1,"span",18),t._uU(2),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Oqu(e.locale.maketext("Expand/Collapse"))}}function me(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"td",19),t.NdJ("click",function(a){const _=t.CHM(e).$implicit,g=t.oxw();return g.expandedRow=g.expandedRow===_?null:_,a.stopPropagation()}),t.qZA()}if(2&i){const e=o.$implicit,n=t.oxw();t.uIk("aria-expanded",n.expandedRow===e)}}function he(i,o){1&i&&(t.ynx(0),t.TgZ(1,"p")(2,"strong"),t._uU(3,"Attention Developer"),t.qZA()(),t.TgZ(4,"p"),t._uU(5," This table has no defined template for expandable rows. "),t.qZA(),t.TgZ(6,"p"),t._uU(7," Either define the row template or set expandableRows to false. "),t.qZA(),t.BQk())}function ue(i,o){}const mt=function(i){return{$implicit:i}};function Ce(i,o){if(1&i&&t.YNc(0,ue,0,0,"ng-template",24),2&i){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("ngTemplateOutlet",n.expandRowTemplate)("ngTemplateOutletContext",t.VKq(2,mt,e))}}function Me(i,o){if(1&i&&(t.TgZ(0,"td",20)(1,"div",21),t.YNc(2,he,8,0,"ng-container",22),t.YNc(3,Ce,1,4,"ng-template",null,23,t.W1O),t.qZA()()),2&i){const e=o.$implicit,n=t.MAs(4),a=t.oxw();t.uIk("colspan",a.displayedColumns.length),t.xp6(1),t.Q6J("collapse",e!==a.expandedRow)("isAnimated",!0),t.xp6(1),t.Q6J("ngIf",!a.expandRowTemplate)("ngIfElse",n)}}function Pe(i,o){if(1&i&&(t.TgZ(0,"th",14)(1,"span"),t._uU(2),t.qZA()()),2&i){const e=t.oxw().$implicit;let n;t.ekj("table-col-sortable",e.options.isSortable),t.xp6(2),t.Oqu(null!==(n=e.options.displayValue)&&void 0!==n?n:e.value)}}function Oe(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw().$implicit,n=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[n.value]," ")}}function be(i,o){}function fe(i,o){if(1&i&&t.YNc(0,be,0,0,"ng-template",24),2&i){const e=t.oxw().$implicit,n=t.oxw().$implicit;t.Q6J("ngTemplateOutlet",n.options.customCellTemplate)("ngTemplateOutletContext",t.VKq(2,mt,e[n.value]))}}function we(i,o){if(1&i&&(t.TgZ(0,"td",16),t.YNc(1,Oe,2,1,"ng-container",22),t.YNc(2,fe,1,4,"ng-template",null,27,t.W1O),t.qZA()),2&i){const e=t.MAs(3),n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!n.options.customCellTemplate)("ngIfElse",e)}}function xe(i,o){if(1&i&&(t.ynx(0)(1,25),t.YNc(2,Pe,3,3,"th",26),t.YNc(3,we,4,2,"td",3),t.BQk()()),2&i){const e=o.$implicit;t.xp6(1),t.s9C("cdkColumnDef",e.value)}}function ve(i,o){1&i&&t._UZ(0,"tr",28)}function ke(i,o){if(1&i&&t._UZ(0,"tr",29),2&i){const e=o.$implicit,n=t.oxw();t.ekj("table-row-expandable",n.hasExpandableRows),t.uIk("data-testid","row_"+e.domain)}}function Te(i,o){1&i&&t._UZ(0,"tr",31)}const ye=function(){return["expandedDetail"]};function Se(i,o){1&i&&(t.ynx(0),t.YNc(1,Te,1,0,"tr",30),t.BQk()),2&i&&(t.xp6(1),t.Q6J("cdkRowDefColumns",t.DdM(1,ye)))}function je(i,o){if(1&i&&(t.TgZ(0,"div",32),t._UZ(1,"cp-loading-spinner",33),t.ALo(2,"async"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("isActive",t.lcZ(2,1,e.tableService.loading))}}function Ae(i,o){if(1&i&&(t.TgZ(0,"div",34),t._UZ(1,"td",35),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("innerHTML",e.noResultsReason,t.oJD)}}const De=function(i,o){return{"table-bulk-actionable":i,"table-actionable":o}};let Ze=(()=>{class i{constructor(e,n){this.locale=e,this.tableService=n,this.dataList=[],this.dataColumns=[],this.hasBulkActions=!1,this.hasExpandableRows=!1,this.displayedColumns=[],this.hasActions=!1,this.selection=new gt.Ov(!0,[])}get noResultsReason(){const e=this.tableService.loading.value,n=this.dataSource$.data.value.length,a=this.tableService.pagination?.recordsBeforeFilter;return e||n||a?e||n||!a?null:this.noQueryResultMessage||this.locale.maketext("No results match your query."):this.noResultsMessage||this.locale.maketext("No results available.")}isAllSelected(){return this.selection.selected.length===this.dataSource$.data.value.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource$.data.value)}checkboxLabel(e){return e?this.selection.isSelected(e)?this.locale.maketext("Deselect row"):this.locale.maketext("Select row"):this.isAllSelected()?this.locale.maketext("Deselect all rows"):this.locale.maketext("Select all rows")}ngOnInit(){this.dataSource$=new ht(this.dataList),this.refreshDisplayedColumns()}ngOnChanges(e){(e.dataColumns||e.hasBulkActions||e.hasExpandableRows)&&this.refreshDisplayedColumns(),e.dataList&&!e.dataList.firstChange&&(this.dataSource$?.data?this.dataSource$.data.next(this.dataList):this.dataSource$=new ht(this.dataList))}refreshDisplayedColumns(){const e=this.dataColumns.map(n=>n.value);this.hasExpandableRows&&e.unshift("expandRowCol"),this.hasBulkActions&&e.unshift("bulkActionCol"),this.displayedColumns=e,this.hasActions=this.displayedColumns.includes("actions")||this.displayedColumns.includes("action-primary")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(P.g),t.Y36(K))},i.\u0275cmp=t.Xpm({type:i,selectors:[["sitejet-table"]],inputs:{dataList:"dataList",dataColumns:"dataColumns",hasBulkActions:"hasBulkActions",hasExpandableRows:"hasExpandableRows",expandRowTemplate:"expandRowTemplate",noResultsMessage:"noResultsMessage",noQueryResultMessage:"noQueryResultMessage"},features:[t.TTD],decls:16,vars:13,consts:[["cdk-table","","multiTemplateDataRows","",1,"table","mb-0",3,"ngClass","dataSource"],["cdkColumnDef","bulkActionCol"],["cdk-header-cell","",4,"cdkHeaderCellDef"],["cdk-cell","",4,"cdkCellDef"],["cdkColumnDef","expandRowCol"],["cdk-cell","","class","table-cell-expand",3,"click",4,"cdkCellDef"],["cdkColumnDef","expandedDetail"],["cdk-cell","","class","p-0 border-top-0",4,"cdkCellDef"],[4,"ngFor","ngForOf"],["cdk-header-row","",4,"cdkHeaderRowDef"],["cdk-row","",3,"table-row-expandable",4,"cdkRowDef","cdkRowDefColumns"],[4,"ngIf"],["class","table__loading-container",4,"ngIf"],["class","table__no-results","id","emptySearchRow",4,"ngIf"],["cdk-header-cell",""],["type","checkbox",1,"form-check-input",3,"indeterminate","checked","change"],["cdk-cell",""],["type","checkbox",1,"form-check-input",3,"checked","click","change"],[1,"visually-hidden"],["cdk-cell","",1,"table-cell-expand",3,"click"],["cdk-cell","",1,"p-0","border-top-0"],[3,"collapse","isAnimated"],[4,"ngIf","ngIfElse"],["expandedCell",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"cdkColumnDef"],["cdk-header-cell","",3,"table-col-sortable",4,"cdkHeaderCellDef"],["customCellTemplate",""],["cdk-header-row",""],["cdk-row",""],["cdk-row","","class","example-detail-row",4,"cdkRowDef","cdkRowDefColumns"],["cdk-row","",1,"example-detail-row"],[1,"table__loading-container"],["id","loader",3,"isActive"],["id","emptySearchRow",1,"table__no-results"],[3,"innerHTML"]],template:function(e,n){1&e&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,pe,2,3,"th",2),t.YNc(3,_e,2,2,"td",3),t.BQk(),t.ynx(4,4),t.YNc(5,ge,3,1,"th",2),t.YNc(6,me,1,1,"td",5),t.BQk(),t.ynx(7,6),t.YNc(8,Me,5,5,"td",7),t.BQk(),t.YNc(9,xe,4,1,"ng-container",8),t.YNc(10,ve,1,0,"tr",9),t.YNc(11,ke,1,3,"tr",10),t.YNc(12,Se,2,2,"ng-container",11),t.qZA(),t.YNc(13,je,3,3,"div",12),t.ALo(14,"async"),t.YNc(15,Ae,2,1,"div",13)),2&e&&(t.Q6J("ngClass",t.WLB(10,De,n.hasBulkActions,n.hasActions))("dataSource",n.dataSource$),t.xp6(9),t.Q6J("ngForOf",n.dataColumns),t.xp6(1),t.Q6J("cdkHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("cdkRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("ngIf",n.hasExpandableRows),t.xp6(1),t.Q6J("ngIf",t.lcZ(14,8,n.tableService.loading)),t.xp6(2),t.Q6J("ngIf",n.noResultsReason))},directives:[b.zC,p.mk,b.fo,b.D5,b.Af,b.O_,b.hD,E.Y,p.O5,p.tP,p.sg,b.s$,b.xN,b.Sq,b._J,r.go],pipes:[p.Ov],styles:["html,body{height:100%}:host{--cp-spacer-1: .25rem;--cp-spacer-2: .5rem;--cp-spacer-3: .75rem;--cp-spacer-4: 1rem;--cp-spacer-5: 1.25rem;--cp-spacer-6: 1.5rem;--cp-spacer-7: 1.75rem;--cp-spacer-8: 2rem;--cp-spacer-9: 2.5rem;--cp-spacer-10: 3rem}html[dir=ltr] .sitejet-cp-button--with-icon i,[dir=ltr] .sitejet-cp-button--with-icon i,:host([dir=ltr]) .sitejet-cp-button--with-icon i,:host-context(html[dir=ltr]) .sitejet-cp-button--with-icon i,:host-context([dir=ltr]) .sitejet-cp-button--with-icon i{padding-right:var(--cp-spacer-1)}html[dir=rtl] .sitejet-cp-button--with-icon i,[dir=rtl] .sitejet-cp-button--with-icon i,:host([dir=rtl]) .sitejet-cp-button--with-icon i,:host-context(html[dir=rtl]) .sitejet-cp-button--with-icon i,:host-context([dir=rtl]) .sitejet-cp-button--with-icon i{padding-left:var(--cp-spacer-1)}html[dir=ltr] .sitejet-cp-button--with-icon i.ri-external-link-line,[dir=ltr] .sitejet-cp-button--with-icon i.ri-external-link-line,:host([dir=ltr]) .sitejet-cp-button--with-icon i.ri-external-link-line,:host-context(html[dir=ltr]) .sitejet-cp-button--with-icon i.ri-external-link-line,:host-context([dir=ltr]) .sitejet-cp-button--with-icon i.ri-external-link-line{padding-right:0;padding-left:var(--cp-spacer-1)}html[dir=rtl] .sitejet-cp-button--with-icon i.ri-external-link-line,[dir=rtl] .sitejet-cp-button--with-icon i.ri-external-link-line,:host([dir=rtl]) .sitejet-cp-button--with-icon i.ri-external-link-line,:host-context(html[dir=rtl]) .sitejet-cp-button--with-icon i.ri-external-link-line,:host-context([dir=rtl]) .sitejet-cp-button--with-icon i.ri-external-link-line{padding-left:0;padding-right:var(--cp-spacer-1)}.sitejet-cp-button--with-icon button{display:inline-flex;justify-content:center;align-items:center}.icon-btn-link-text{text-transform:none}.toast-header{font-weight:600}.page-title-section>.breadcrumb{padding-top:var(--cp-spacer-2);font-size:1rem}.page-title-section>.breadcrumb .breadcrumb-separator{padding:0 var(--cp-spacer-1)}.sitejet-modal-header{font-size:1.25rem;margin:0}@media (max-width: 575.98px){.hidden-xs{display:none}}.table__loading-container{height:200px}.table__no-results{padding:var(--cp-spacer-3) var(--cp-spacer-1)}.cdk-column-action-primary button{width:100%}\n"],encapsulation:2,changeDetection:0}),i})();class ht extends gt.o2{constructor(o){super(),this.data=new N.X(o)}connect(){return this.data}disconnect(){this.data.complete()}}const Le=["domainCell"],Je=["infoCell"],Ie=["actionCell"],Qe=["actionPrimaryCell"];function Re(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"cp-button",19),t.NdJ("onBtnClick",function(){const s=t.CHM(e).$implicit;return t.oxw().viewSite(s)}),t.TgZ(1,"span",20),t._uU(2),t.qZA(),t._UZ(3,"i",21),t.qZA()}if(2&i){const e=o.$implicit,n=t.oxw();t.Q6J("buttonVariant",n.buttonVariant.iconLink)("buttonState",n.buttonState.enabled),t.uIk("data-testid","list-domains__view-site--"+e),t.xp6(2),t.Oqu(e)}}const S=function(i){return{$implicit:i}};function Ne(i,o){if(1&i&&(t.ynx(0),t.GkF(1,23),t.BQk()),2&i){const e=t.oxw().$implicit;t.oxw();const n=t.MAs(21);t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(2,S,e))}}function Ye(i,o){1&i&&t.YNc(0,Ne,2,4,"ng-container",22),2&i&&t.Q6J("ngIf",!o.$implicit.builderDisabled)}function Fe(i,o){if(1&i&&(t.ynx(0),t.GkF(1,23),t.BQk()),2&i){const e=t.oxw().$implicit;t.oxw();const n=t.MAs(23);t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(2,S,e))}}function Be(i,o){1&i&&t.YNc(0,Fe,2,4,"ng-container",22),2&i&&t.Q6J("ngIf",!o.$implicit.builderDisabled)}function qe(i,o){if(1&i&&t.GkF(0,23)(1,23),2&i){const e=o.$implicit;t.oxw();const n=t.MAs(19),a=t.MAs(27),s=t.MAs(25);t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(4,S,e.info)),t.xp6(1),t.Q6J("ngTemplateOutlet",e.actions.isSitejet?a:s)("ngTemplateOutletContext",t.VKq(6,S,e.actions))}}function ze(i,o){if(1&i&&t._UZ(0,"span",27),2&i){const e=t.oxw(3);t.Q6J("innerHtml",e.locale.maketext("You cannot create a Sitejet website currently because this domain shares its document root with another domain."),t.oJD)}}function He(i,o){if(1&i&&t._UZ(0,"span",27),2&i){const e=t.oxw(3);t.Q6J("innerHtml",e.locale.maketext("You cannot create a Sitejet website currently because this is a redirected domain."),t.oJD)}}function $e(i,o){if(1&i&&(t.TgZ(0,"div",25),t.YNc(1,ze,1,1,"span",26),t.YNc(2,He,1,1,"span",26),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.sharesDocRoot),t.xp6(1),t.Q6J("ngIf",e.isRedirect)}}function Ue(i,o){1&i&&t.YNc(0,$e,3,2,"div",24),2&i&&t.Q6J("ngIf",o.$implicit)}function Ee(i,o){if(1&i&&(t.ynx(0),t.GkF(1,23),t.BQk()),2&i){const e=t.oxw().$implicit;t.oxw();const n=t.MAs(25);t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(2,S,e))}}function Ve(i,o){if(1&i&&(t.ynx(0),t.GkF(1,23),t.BQk()),2&i){const e=t.oxw().$implicit;t.oxw();const n=t.MAs(27);t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(2,S,e))}}function We(i,o){if(1&i&&(t.TgZ(0,"div",28),t.YNc(1,Ee,2,4,"ng-container",22),t.YNc(2,Ve,2,4,"ng-container",22),t.qZA()),2&i){const e=o.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isSitejet&&!n.collapseActions),t.xp6(1),t.Q6J("ngIf",e.isSitejet&&!n.collapseActions)}}function Ge(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"cp-button",31),t.NdJ("onBtnClick",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().editSite(a)}),t._UZ(1,"i",32)(2,"span",27),t.qZA()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("buttonVariant",n.buttonVariant.secondary)("buttonState",e.isLoading?n.buttonState.loading:n.buttonState.enabled),t.uIk("data-testid","list-domains__edit-button--"+e.domain),t.xp6(2),t.Q6J("innerHtml",n.locale.maketext("Edit Site"),t.oJD)}}function Xe(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"cp-button",35),t.NdJ("onBtnClick",function(){t.CHM(e);const a=t.oxw(2).$implicit;return t.oxw().continueEditing(a)}),t._UZ(1,"i",36),t._uU(2),t.qZA()}if(2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.Q6J("buttonVariant",n.buttonVariant.secondary)("buttonState",e.isLoading?n.buttonState.loading:n.buttonState.enabled),t.uIk("data-testid","list-domains__continue-button--"+e.domain),t.xp6(2),t.hij(" ",n.locale.maketext("Continue Editing")," ")}}function Ke(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"cp-button",37),t.NdJ("onBtnClick",function(){t.CHM(e);const a=t.oxw(2).$implicit;return t.oxw().trySitejet(a.domain)}),t._UZ(1,"i",36),t._uU(2),t.qZA()}if(2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.Q6J("buttonVariant",n.buttonVariant.secondary)("buttonState",e.builderDisabled?n.buttonState.disabled:n.buttonState.enabled),t.uIk("data-testid","list-domains__try-button--"+e.domain),t.xp6(2),t.hij(" ",n.locale.maketext("Try Sitejet")," ")}}function tn(i,o){if(1&i&&(t.ynx(0),t.YNc(1,Xe,3,4,"cp-button",33),t.YNc(2,Ke,3,4,"cp-button",34),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.hasTemplateId),t.xp6(1),t.Q6J("ngIf",!e.hasTemplateId)}}function en(i,o){if(1&i&&(t.TgZ(0,"div",29),t.YNc(1,Ge,3,4,"cp-button",30),t.YNc(2,tn,3,2,"ng-container",22),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.isSitejet),t.xp6(1),t.Q6J("ngIf",!e.isSitejet)}}function nn(i,o){if(1&i&&(t.ynx(0),t.GkF(1,23),t.BQk()),2&i){const e=t.oxw().$implicit;t.oxw();const n=t.MAs(29);t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(2,S,e))}}function on(i,o){1&i&&t.YNc(0,nn,2,4,"ng-container",22),2&i&&t.Q6J("ngIf",o.$implicit.hasTemplateId)}function an(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"cp-button",38),t.NdJ("onBtnClick",function(){const s=t.CHM(e).$implicit;return t.oxw().goToDetails(s.domain)}),t._UZ(1,"i",39)(2,"span",40),t.qZA(),t.GkF(3,23)}if(2&i){const e=o.$implicit,n=t.oxw(),a=t.MAs(29);t.Q6J("buttonVariant",n.buttonVariant.iconLink)("buttonState",n.buttonState.enabled),t.uIk("data-testid","list-domains__details-link--"+e.domain),t.xp6(2),t.Q6J("innerHtml",n.locale.maketext("Details"),t.oJD),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(6,S,e))}}function rn(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"cp-button",41),t.NdJ("onBtnClick",function(){const s=t.CHM(e).$implicit;return t.oxw().goToTemplateChooser(s.domain)}),t._UZ(1,"i",42)(2,"span",40),t.qZA()}if(2&i){const e=o.$implicit,n=t.oxw();t.Q6J("buttonVariant",n.buttonVariant.iconLink)("buttonState",n.buttonState.enabled),t.uIk("data-testid","list-domains__choose-template-link--"+e.domain),t.xp6(2),t.Q6J("innerHtml",n.locale.maketext("Change Template"),t.oJD)}}let sn=(()=>{class i{constructor(e,n,a,s,_,g,h,q,tt){this.deprefix=e,this.domainsApp=n,this.apiService=a,this.breakpointObserver=s,this.notificationService=_,this.window=g,this.sitejetHelperService=h,this.tableService=q,this.locale=tt,this.dataList=[],this.fetchingSsoLink=!1,this.collapseActions=!1,this.destroySubject=new y.xQ,this.buttonVariant=r.Wu,this.buttonState=r.BN}ngOnInit(){this.setTableRows(),this.breakpointObserver.observe([z.u3.Large,z.u3.XLarge]).pipe((0,Y.R)(this.destroySubject)).subscribe(e=>{if(e.matches)return this.collapseActions=!1,void this.setTableColumns();this.collapseActions=!0,this.setTableColumnsCollapsed()})}ngOnDestroy(){this.destroySubject.next()}createClicked(){this.fetchingSsoLink||(this.window.location.href=`${this.deprefix}${this.domainsApp.url}#/create`)}onPaginatorChanged(e){this.fetchingSsoLink||e&&(this.tableService.pagination.currentPage=e.currentPage,this.tableService.pagination.currentPageSize=e.pageSize,this.setTableRows())}updateRows(){this.setTableRows()}viewSite(e){this.fetchingSsoLink||this.window.open(`https://${e}`,Z.preview)}goToDetails(e){this.fetchingSsoLink||this.sitejetHelperService.goToDetailsView(e)}goToTemplateChooser(e){this.fetchingSsoLink||this.sitejetHelperService.goToTemplateChooser(e)}editSite(e){this.fetchingSsoLink||(this.window.mixpanel?.track("Sitejet-EditSite",{domain:e.domain,"primary-domain":this.sitejetHelperService.isPrimaryDomain(e.domain),"launched-from":"Sitejet Builder landing view"}),this.getSso(e))}filterRows(e){this.tableService.updateSearchFilter(M.domain,e),this.setTableRows()}continueEditing(e){this.fetchingSsoLink||(this.window.mixpanel?.track("Sitejet-ContinueEditing-Clicked",{domain:e.domain,"primary-domain":this.sitejetHelperService.isPrimaryDomain(e.domain),"launched-from":"Sitejet Builder landing view"}),this.getSso(e))}trySitejet(e){this.fetchingSsoLink||(this.window.mixpanel?.track("Sitejet-TrySitejet-Clicked",{domain:e,"primary-domain":this.sitejetHelperService.isPrimaryDomain(e),"launched-from":"Sitejet Builder landing view"}),this.goToTemplateChooser(e))}setTableColumns(){this.tableColumns=[new L(M.domain,{displayValue:this.locale.maketext("Website Name"),customCellTemplate:this.domainCell}),new L(M.info,{displayValue:"",customCellTemplate:this.infoCell}),new L(M.actions,{displayValue:this.locale.maketext("Actions"),customCellTemplate:this.actionCell}),new L(M.actionPrimary,{displayValue:"",customCellTemplate:this.actionPrimaryCell})]}setTableColumnsCollapsed(){this.tableColumns=[new L(M.domain,{displayValue:this.locale.maketext("Website Name"),customCellTemplate:this.domainCell}),new L(M.actionPrimary,{displayValue:this.locale.maketext("Actions"),customCellTemplate:this.actionPrimaryCell})]}getSso(e){this.fetchingSsoLink||(this.fetchingSsoLink=!0,e.isLoading=!0,this.apiService.getSsoLink(e.domain).pipe((0,k.x)(()=>{this.fetchingSsoLink=!1,e.isLoading=!1}),(0,m.q)(1)).subscribe({next:n=>{this.window.location.href=n.data},error:n=>{this.notificationService.add({type:r.k$.error,message:n.message,id:"list-domains__error--getSsoLink"})}}))}setTableRows(){this.tableService.loading.next(!0),this.dataList=[],this.apiService.getAllSitejetInfo({tableMetadata:this.tableService.getTableMetadata()}).pipe((0,k.x)(()=>this.tableService.loading.next(!1))).pipe((0,m.q)(1)).subscribe({next:e=>{this.tableService.pagination.totalItems=e?.meta?.totalRecords,this.dataList=e.data.map(n=>({...n,builderDisabled:n.redirection_enabled||n.shared_doc_root})).sort((n,a)=>n.domain.localeCompare(a.domain)).sort((n,a)=>a.status.is_sitejet-n.status.is_sitejet).sort((n,a)=>a.status.has_sitejet_templateId-n.status.has_sitejet_templateId).sort((n,a)=>n.builderDisabled-a.builderDisabled).map(n=>({status:n.status,[M.domain]:n.domain,[M.info]:{isRedirect:n.redirection_enabled,sharesDocRoot:n.shared_doc_root,docRoot:n.metadata.document_root},[M.actions]:{builderDisabled:n.builderDisabled,domain:n.domain,isSitejet:n.status.is_sitejet,hasTemplateId:n.status.has_sitejet_templateId},[M.actionPrimary]:{builderDisabled:n.builderDisabled,domain:n.domain,isSitejet:n.status.is_sitejet,hasTemplateId:n.status.has_sitejet_templateId,isLoading:!1}}))},error:e=>{this.notificationService.add({type:r.k$.error,message:e.message,id:"list-domains__error--getAllSitejetInfo"})}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(G),t.Y36(lt),t.Y36(D),t.Y36(z.Yg),t.Y36(r.gq),t.Y36(Window),t.Y36(B),t.Y36(K),t.Y36(P.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["sitejet-list-domains"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Le,7),t.Gf(Je,7),t.Gf(Ie,7),t.Gf(Qe,7)),2&e){let a;t.iGM(a=t.CRH())&&(n.domainCell=a.first),t.iGM(a=t.CRH())&&(n.infoCell=a.first),t.iGM(a=t.CRH())&&(n.actionCell=a.first),t.iGM(a=t.CRH())&&(n.actionPrimaryCell=a.first)}},decls:30,vars:19,consts:[["id","description",1,"description"],[3,"innerHTML"],[1,"list-domains__pre-table-container"],["debounce","500","id","list-domains__search",3,"label","placeholder","valueChange"],["id","create",1,"sitejet-cp-button--with-icon",3,"buttonVariant","buttonState","onBtnClick"],[1,"ri-md","ri-add-fill"],[1,"ui-element"],[3,"dataColumns","dataList","hasExpandableRows","expandRowTemplate"],["domainCell",""],["actionCell",""],["actionPrimaryCell",""],["expandTemplate",""],["id","tablePagination",3,"currentPage","currentPageSize","pageSizeDisabled","pageSizeOptions","paginationDisabled","showPageSize","totalItems","paginatorChange"],["infoCell",""],["actionCellTemplate",""],["actionPrimaryCellTemplate",""],["collapsedActionsNonSitejet",""],["collapsedActionsSitejet",""],["changeTemplateButton",""],["id","list-domains__domain-btn",1,"sitejet-cp-button--with-icon",3,"buttonVariant","buttonState","onBtnClick"],[1,"icon-btn-link-text"],[1,"ri-md","ri-external-link-line"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","table__info-column",4,"ngIf"],[1,"table__info-column"],[3,"innerHtml",4,"ngIf"],[3,"innerHtml"],[1,"table__action-column"],[1,"table__primary-action-column"],["id","list-domains__edit-site","class","sitejet-cp-button--with-icon","cssClass","list-domains__btn-same-width",3,"buttonVariant","buttonState","onBtnClick",4,"ngIf"],["id","list-domains__edit-site","cssClass","list-domains__btn-same-width",1,"sitejet-cp-button--with-icon",3,"buttonVariant","buttonState","onBtnClick"],[1,"ri-md","ri-pencil-fill"],["id","list-domains__continue-editing","class","sitejet-cp-button--with-icon","cssClass","list-domains__btn-same-width",3,"buttonVariant","buttonState","onBtnClick",4,"ngIf"],["id","list-domains__try-sitejet","class","sitejet-cp-button--with-icon","cssClass","list-domains__btn-same-width",3,"buttonVariant","buttonState","onBtnClick",4,"ngIf"],["id","list-domains__continue-editing","cssClass","list-domains__btn-same-width",1,"sitejet-cp-button--with-icon",3,"buttonVariant","buttonState","onBtnClick"],[1,"ri-send-plane-fill"],["id","list-domains__try-sitejet","cssClass","list-domains__btn-same-width",1,"sitejet-cp-button--with-icon",3,"buttonVariant","buttonState","onBtnClick"],["id","list-domains__details",1,"sitejet-cp-button--with-icon",3,"buttonVariant","buttonState","onBtnClick"],[1,"ri-md","ri-list-check-2"],[1,"icon-btn-link-text",3,"innerHtml"],["id","list-domains__change-template",1,"sitejet-cp-button--with-icon",3,"buttonVariant","buttonState","onBtnClick"],[1,"ri-md","ri-arrow-left-right-line"]],template:function(e,n){if(1&e&&(t.TgZ(0,"section",0),t._UZ(1,"span",1),t.qZA(),t.TgZ(2,"section",2)(3,"cp-search",3),t.NdJ("valueChange",function(s){return n.filterRows(s)}),t.qZA(),t.TgZ(4,"cp-button",4),t.NdJ("onBtnClick",function(){return n.createClicked()}),t._UZ(5,"i",5)(6,"span",1),t.qZA()(),t.TgZ(7,"section",6)(8,"sitejet-table",7),t.YNc(9,Re,4,4,"ng-template",null,8,t.W1O),t.YNc(11,Ye,1,1,"ng-template",null,9,t.W1O),t.YNc(13,Be,1,1,"ng-template",null,10,t.W1O),t.YNc(15,qe,2,8,"ng-template",null,11,t.W1O),t.qZA(),t.TgZ(17,"cp-paginator",12),t.NdJ("paginatorChange",function(s){return n.onPaginatorChanged(s)}),t.qZA()(),t.YNc(18,Ue,1,1,"ng-template",null,13,t.W1O),t.YNc(20,We,3,2,"ng-template",null,14,t.W1O),t.YNc(22,en,3,2,"ng-template",null,15,t.W1O),t.YNc(24,on,1,1,"ng-template",null,16,t.W1O),t.YNc(26,an,4,8,"ng-template",null,17,t.W1O),t.YNc(28,rn,3,4,"ng-template",null,18,t.W1O)),2&e){const a=t.MAs(16);t.xp6(1),t.Q6J("innerHTML",n.locale.maketext("You can use this interface to view and manage your Sitejet domains. For more information, read our [output,url,_1,Sitejet Builder documentation,title,Sitejet Builder documentation,target,_2,class,cp-external-link].","https://go.cpanel.net/sitejet-builder","Sitejet Builder documentation"),t.oJD),t.xp6(2),t.Q6J("label",n.locale.maketext("Search websites"))("placeholder",n.locale.maketext("Search websites")),t.uIk("data-testid","list-domains__search"),t.xp6(1),t.Q6J("buttonVariant",n.buttonVariant.primary)("buttonState",n.buttonState.enabled),t.uIk("data-testid","list-domains__create-button"),t.xp6(2),t.Q6J("innerHTML",n.locale.maketext("Create a New Domain"),t.oJD),t.xp6(2),t.Q6J("dataColumns",n.tableColumns)("dataList",n.dataList)("hasExpandableRows",n.collapseActions)("expandRowTemplate",a),t.xp6(9),t.Q6J("currentPage",n.tableService.pagination.currentPage)("currentPageSize",n.tableService.pagination.currentPageSize)("pageSizeDisabled",n.tableService.pagination.pageSizeDisabled)("pageSizeOptions",n.tableService.pagination.pageSizeOptions)("paginationDisabled",n.tableService.pagination.paginationDisabled)("showPageSize",n.tableService.pagination.showPageSize)("totalItems",n.tableService.pagination.totalItems)}},directives:[r.gS,r.r0,Ze,p.O5,p.tP,r.Jb],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]{--cp-spacer-1: .25rem;--cp-spacer-2: .5rem;--cp-spacer-3: .75rem;--cp-spacer-4: 1rem;--cp-spacer-5: 1.25rem;--cp-spacer-6: 1.5rem;--cp-spacer-7: 1.75rem;--cp-spacer-8: 2rem;--cp-spacer-9: 2.5rem;--cp-spacer-10: 3rem}html[dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-left:var(--cp-spacer-1)}html[dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%]{padding-right:0;padding-left:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%]{padding-left:0;padding-right:var(--cp-spacer-1)}.sitejet-cp-button--with-icon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center}.icon-btn-link-text[_ngcontent-%COMP%]{text-transform:none}.toast-header[_ngcontent-%COMP%]{font-weight:600}.page-title-section[_ngcontent-%COMP%] > .breadcrumb[_ngcontent-%COMP%]{padding-top:var(--cp-spacer-2);font-size:1rem}.page-title-section[_ngcontent-%COMP%] > .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-separator[_ngcontent-%COMP%]{padding:0 var(--cp-spacer-1)}.sitejet-modal-header[_ngcontent-%COMP%]{font-size:1.25rem;margin:0}@media (max-width: 575.98px){.hidden-xs[_ngcontent-%COMP%]{display:none}}.description[_ngcontent-%COMP%]{padding-bottom:var(--cp-spacer-5)}.list-domains__pre-table-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--cp-spacer-4)}.table__info-column[_ngcontent-%COMP%]{white-space:normal;font-size:.75rem;padding:0 var(--cp-spacer-3)}html[dir=ltr][_ngcontent-%COMP%]   .table__primary-action-column[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .table__primary-action-column[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .table__primary-action-column[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .table__primary-action-column[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .table__primary-action-column[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .table__primary-action-column[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .table__primary-action-column[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .table__action-column[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .table__action-column[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .table__action-column[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .table__action-column[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .table__action-column[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .table__action-column[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .table__action-column[_ngcontent-%COMP%]{text-align:right}html[dir=rtl][_ngcontent-%COMP%]   .table__primary-action-column[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .table__primary-action-column[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .table__primary-action-column[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .table__primary-action-column[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .table__primary-action-column[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .table__primary-action-column[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .table__primary-action-column[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .table__action-column[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .table__action-column[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .table__action-column[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .table__action-column[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .table__action-column[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .table__action-column[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .table__action-column[_ngcontent-%COMP%]{text-align:left}.table__action-column[_ngcontent-%COMP%]{white-space:nowrap}@media (max-width: 991.98px){.table__info-column[_ngcontent-%COMP%]{padding:var(--cp-spacer-3)}}@media (max-width: 767.98px){.list-domains__pre-table-container[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:var(--cp-spacer-5);align-items:unset}}"]}),i})();var j=c(4851),d=(()=>{return(i=d||(d={}))["art-design"]="art-design",i.blank="blank",i.blog="blog",i.business="business",i["education-culture"]="education-culture",i.event="event",i.gastronomy="gastronomy",i.health="health",i["it-media"]="it-media",i.landingpage="landingpage",i["legal-finance"]="legal-finance",i.multipager="multipager",i.new="new",i["non-profit"]="non-profit",i.onepager="onepager",i.performance="performance",i.portfolio="portfolio",i.services="services",i.shop="shop",i["sports-beauty"]="sports-beauty",i.trades="trades",i.travel="travel",i.trending="trending",i.wireframe="wireframe",d;var i})();function ln(i,o){1&i&&t.GkF(0)}const ut=function(i,o){return{categories:i,currentSelection:o}};function cn(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"ul",8)(1,"li")(2,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw(),t.MAs(1).hide()}),t.qZA()(),t.TgZ(3,"li",10),t.YNc(4,ln,1,0,"ng-container",6),t.qZA()()}if(2&i){const e=t.oxw(),n=t.MAs(9);t.xp6(2),t.uIk("aria-label",e.locale.maketext("Close")),t.xp6(2),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.WLB(3,ut,e.categories,e.currentSelection))}}function dn(i,o){1&i&&t.GkF(0)}const pn=function(i){return{"categories__button--selected":i}};function _n(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3).onTagSelection(s)}),t.qZA()}if(2&i){const e=o.$implicit,n=t.oxw(2).currentSelection;t.Q6J("ngClass",t.VKq(2,pn,n===e.tag))("innerHtml",e.translation,t.oJD)}}function gn(i,o){if(1&i&&(t.TgZ(0,"li",13),t._UZ(1,"div",14),t.YNc(2,_n,1,4,"button",15),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("innerHtml",e.title,t.oJD),t.xp6(1),t.Q6J("ngForOf",e.items)}}function mn(i,o){if(1&i&&(t.TgZ(0,"ul",11),t.YNc(1,gn,3,2,"li",12),t.qZA()),2&i){const e=o.categories;t.xp6(1),t.Q6J("ngForOf",e)}}let hn=(()=>{class i{constructor(e,n){this.locale=e,this.window=n,this.tagSelect=new t.vpe,this.categories=[],this.currentSelection=null}ngOnInit(){this.categories=this.getCategories()}onTagSelection(e){this.currentSelection=e.tag,this.window.mixpanel?.track("Sitejet-CategorySelected",{"sitejet-category":this.currentSelection}),this.tagSelect.emit(e)}getCategories(){return[{title:this.locale.maketext("View by"),items:[{tag:null,translation:this.locale.maketext("All Templates")},{tag:d.trending,translation:this.locale.maketext("Trending")},{tag:d.new,translation:this.locale.maketext("New")}]},{title:this.locale.maketext("Layout"),items:[{tag:d.multipager,translation:this.locale.maketext("Multi-Pager")},{tag:d.onepager,translation:this.locale.maketext("One-Pager")},{tag:d.landingpage,translation:this.locale.maketext("Landing Page")}]},{title:this.locale.maketext("Categories"),items:[{tag:d["art-design"],translation:this.locale.maketext("Art [output,amp] Design")},{tag:d.blank,translation:this.locale.maketext("Blank")},{tag:d.blog,translation:this.locale.maketext("Blog")},{tag:d.business,translation:this.locale.maketext("Business")},{tag:d["education-culture"],translation:this.locale.maketext("Education [output,amp] Culture")},{tag:d.event,translation:this.locale.maketext("Event")},{tag:d.gastronomy,translation:this.locale.maketext("Gastronomy")},{tag:d.health,translation:this.locale.maketext("Health")},{tag:d["it-media"],translation:this.locale.maketext("IT [output,amp] Media")},{tag:d["legal-finance"],translation:this.locale.maketext("Legal [output,amp] Finance")},{tag:d["non-profit"],translation:this.locale.maketext("Non-Profit")},{tag:d.performance,translation:this.locale.maketext("Performance")},{tag:d.portfolio,translation:this.locale.maketext("Portfolio")},{tag:d.services,translation:this.locale.maketext("Services")},{tag:d.shop,translation:this.locale.maketext("Shop")},{tag:d["sports-beauty"],translation:this.locale.maketext("Sports [output,amp] Beauty")},{tag:d.trades,translation:this.locale.maketext("Trades")},{tag:d.travel,translation:this.locale.maketext("Travel")},{tag:d.wireframe,translation:this.locale.maketext("Wireframe")}]}]}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(P.g),t.Y36(Window))},i.\u0275cmp=t.Xpm({type:i,selectors:[["sitejet-categories"]],outputs:{tagSelect:"tagSelect"},decls:10,vars:6,consts:[["dropdown","",1,"btn-group","categories__dropdown"],["dropdown","bs-dropdown"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",1,"btn","btn-primary","dropdown-toggle","categories__dropdown-button"],[1,"caret"],["id","dropdown-basic","class","dropdown-menu full-screen-dropdown","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],[1,"categories__normal"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["categoryList",""],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu","full-screen-dropdown"],["type","button",1,"btn-close",3,"click"],["role","menuitem"],[1,"list-unstyled"],["class","category__li",4,"ngFor","ngForOf"],[1,"category__li"],[1,"categories__title",3,"innerHtml"],["class","btn btn-link categories__button",3,"ngClass","innerHtml","click",4,"ngFor","ngForOf"],[1,"btn","btn-link","categories__button",3,"ngClass","innerHtml","click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0,1)(2,"button",2),t._uU(3),t._UZ(4,"span",3),t.qZA(),t.YNc(5,cn,5,6,"ul",4),t.qZA(),t.TgZ(6,"div",5),t.YNc(7,dn,1,0,"ng-container",6),t.qZA(),t.YNc(8,mn,2,1,"ng-template",null,7,t.W1O)),2&e){const a=t.MAs(9);t.xp6(3),t.hij(" ",n.locale.maketext("Categories")," "),t.xp6(4),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.WLB(3,ut,n.categories,n.currentSelection))}},directives:[H.TO,H.Mq,H.Hz,p.tP,p.sg,p.mk],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]{--cp-spacer-1: .25rem;--cp-spacer-2: .5rem;--cp-spacer-3: .75rem;--cp-spacer-4: 1rem;--cp-spacer-5: 1.25rem;--cp-spacer-6: 1.5rem;--cp-spacer-7: 1.75rem;--cp-spacer-8: 2rem;--cp-spacer-9: 2.5rem;--cp-spacer-10: 3rem}html[dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-left:var(--cp-spacer-1)}html[dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%]{padding-right:0;padding-left:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%]{padding-left:0;padding-right:var(--cp-spacer-1)}.sitejet-cp-button--with-icon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center}.icon-btn-link-text[_ngcontent-%COMP%]{text-transform:none}.toast-header[_ngcontent-%COMP%]{font-weight:600}.page-title-section[_ngcontent-%COMP%] > .breadcrumb[_ngcontent-%COMP%]{padding-top:var(--cp-spacer-2);font-size:1rem}.page-title-section[_ngcontent-%COMP%] > .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-separator[_ngcontent-%COMP%]{padding:0 var(--cp-spacer-1)}.sitejet-modal-header[_ngcontent-%COMP%]{font-size:1.25rem;margin:0}@media (max-width: 575.98px){.hidden-xs[_ngcontent-%COMP%]{display:none}}.categories__container[_ngcontent-%COMP%]{padding:var(--cp-spacer-4)}.categories__button[_ngcontent-%COMP%]{padding:var(--cp-spacer-1) var(--cp-spacer-4);display:block;position:relative;text-decoration:none}.categories__button[_ngcontent-%COMP%]:before{transition:all .4s cubic-bezier(.4,0,.2,1);content:"";width:0px;height:2px;background:var(--cp-link-color, #003da6);position:absolute;display:block;top:50%;transform:translateY(-50%)}html[dir=ltr][_ngcontent-%COMP%]   .categories__button[_ngcontent-%COMP%]:before, [dir=ltr][_ngcontent-%COMP%]   .categories__button[_ngcontent-%COMP%]:before, [dir=ltr][_nghost-%COMP%]   .categories__button[_ngcontent-%COMP%]:before, html[dir=ltr][_nghost-%COMP%]   .categories__button[_ngcontent-%COMP%]:before, html[dir=ltr]   [_nghost-%COMP%]   .categories__button[_ngcontent-%COMP%]:before, [dir=ltr][_nghost-%COMP%]   .categories__button[_ngcontent-%COMP%]:before, [dir=ltr]   [_nghost-%COMP%]   .categories__button[_ngcontent-%COMP%]:before{left:0}html[dir=rtl][_ngcontent-%COMP%]   .categories__button[_ngcontent-%COMP%]:before, [dir=rtl][_ngcontent-%COMP%]   .categories__button[_ngcontent-%COMP%]:before, [dir=rtl][_nghost-%COMP%]   .categories__button[_ngcontent-%COMP%]:before, html[dir=rtl][_nghost-%COMP%]   .categories__button[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .categories__button[_ngcontent-%COMP%]:before, [dir=rtl][_nghost-%COMP%]   .categories__button[_ngcontent-%COMP%]:before, [dir=rtl]   [_nghost-%COMP%]   .categories__button[_ngcontent-%COMP%]:before{right:0}.categories__button[_ngcontent-%COMP%]:hover:before, .categories__button--selected[_ngcontent-%COMP%]:before{width:10px}.full-screen-dropdown[_ngcontent-%COMP%]{position:fixed!important;inset:0!important;overflow-y:auto;padding:var(--cp-spacer-10);animation:slideUp .75s cubic-bezier(.7,0,.3,1);z-index:1040}.full-screen-dropdown[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{position:absolute;top:0;margin:var(--cp-spacer-4) var(--cp-spacer-8);opacity:.8}html[dir=ltr][_ngcontent-%COMP%]   .full-screen-dropdown[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .full-screen-dropdown[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .full-screen-dropdown[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .full-screen-dropdown[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .full-screen-dropdown[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .full-screen-dropdown[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .full-screen-dropdown[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{right:0}html[dir=rtl][_ngcontent-%COMP%]   .full-screen-dropdown[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .full-screen-dropdown[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .full-screen-dropdown[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .full-screen-dropdown[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .full-screen-dropdown[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .full-screen-dropdown[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .full-screen-dropdown[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{left:0}.categories__dropdown[_ngcontent-%COMP%]{display:none;margin:0 var(--cp-spacer-4)}.categories__normal[_ngcontent-%COMP%]{display:block}.categories__title[_ngcontent-%COMP%]{font-size:1rem;padding:var(--cp-spacer-4) 0}.category__li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee;padding-bottom:var(--cp-spacer-4)}.categories__dropdown-button[_ngcontent-%COMP%]{color:#000;width:100%;border:1px solid var(--cp-gray-200, #e5e7e9);background:none;margin-bottom:var(--cp-spacer-8);transition:all .2s cubic-bezier(.4,0,.2,1);font-size:1rem;padding:var(--cp-spacer-4);display:flex;justify-content:space-between;align-items:center}.categories__dropdown-button[_ngcontent-%COMP%]:hover, .categories__dropdown-button[_ngcontent-%COMP%]:focus, .open[_ngcontent-%COMP%]   .dropdown-toggle.btn-primary[_ngcontent-%COMP%]{color:var(--cp-gray-900, #243746);background-color:transparent}@media (max-width: 976px){.categories__dropdown[_ngcontent-%COMP%]{display:flex}.categories__normal[_ngcontent-%COMP%]{display:none}}@keyframes slideUp{0%{transform:translateY(110%)}to{transform:translateY(0)}}']}),i})();const un=["useTemplate"],Cn=["preview"],Mn=["modal"],Pn=function(i){return{confirmWindow:!0,size:i}};let On=(()=>{class i{constructor(e){this.locale=e,this.templateSelect=new t.vpe,this.hover=!1,this.showTemplateModal=!1,this.dialogSizeTemplate=O,this.modalSize=O.desktop}onMouseEnter(){this.hover=!0}onMouseLeave(){this.hover=!1}onFocusOut(e){e.relatedTarget!==this.useTemplateButton.nativeElement&&e.relatedTarget!==this.previewButton.nativeElement&&(this.hover=!1)}onTemplateChoice(e){this.templateSelect.emit(e)}openModal(){this.showTemplateModal=!0}handleModalDismissed(){this.showTemplateModal=!1}goToLink(e){window.open(e,Z.preview)}setSize(e){this.modalSize=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(P.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["sitejet-template"]],viewQuery:function(e,n){if(1&e&&(t.Gf(un,7),t.Gf(Cn,7),t.Gf(Mn,7)),2&e){let a;t.iGM(a=t.CRH())&&(n.useTemplateButton=a.first),t.iGM(a=t.CRH())&&(n.previewButton=a.first),t.iGM(a=t.CRH())&&(n.modal=a.first)}},inputs:{template:"template"},outputs:{templateSelect:"templateSelect"},decls:38,vars:33,consts:[["tabindex","0",1,"template",3,"mouseenter","mouseleave","focusin","focusout"],[1,"template__image-container"],["alt","Template Image",1,"template__image",3,"src"],[1,"template__buttons-container"],[1,"btn","btn-lg","btn-primary","template__button","template__button--use",3,"click"],["useTemplate",""],[1,"btn","btn-outline-secondary","template__button","template__button--view",3,"click"],["preview",""],[1,"template__body"],[1,"template__name",3,"innerHTML"],[3,"show","config","modalSize","confirmActionText","declineActionText","id","onConfirm","dismissModal"],["modalHeader",""],[1,"dialog__header"],[1,"modal-header__title",3,"innerHTML"],["data-toggle","buttons",1,"btn-group"],[1,"btn","btn-shrink",3,"click"],["type","radio","name","size","autocomplete","off","id","desktop",1,"btn-check"],["for","desktop",1,"visually-hidden"],[1,"ri-computer-line"],["type","radio","name","size","autocomplete","off","id","tablet",1,"btn-check"],["for","tablet",1,"visually-hidden"],[1,"ri-tablet-line"],["type","radio","name","size","autocomplete","off","id","smartphone",1,"btn-check"],["for","smartphone",1,"visually-hidden"],[1,"ri-smartphone-line"],["modalBody",""],[1,"dialog__iframe",3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.NdJ("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(){return n.onMouseLeave()})("focusin",function(){return n.onMouseEnter()})("focusout",function(s){return n.onFocusOut(s)}),t.TgZ(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"div",3)(4,"button",4,5),t.NdJ("click",function(){return n.onTemplateChoice(n.template)}),t.TgZ(6,"span"),t._uU(7),t.qZA()(),t.TgZ(8,"button",6,7),t.NdJ("click",function(){return n.openModal()}),t.TgZ(10,"span"),t._uU(11),t.qZA()()()(),t.TgZ(12,"div",8),t._UZ(13,"span",9),t.qZA()(),t.TgZ(14,"sitejet-modal",10),t.NdJ("onConfirm",function(){return n.onTemplateChoice(n.template)})("dismissModal",function(){return n.handleModalDismissed()}),t.TgZ(15,"div",11)(16,"div",12),t._UZ(17,"label",13),t.TgZ(18,"div",14)(19,"label",15),t.NdJ("click",function(){return n.setSize(n.dialogSizeTemplate.desktop)}),t._UZ(20,"input",16),t.TgZ(21,"label",17),t._uU(22),t.qZA(),t._UZ(23,"i",18),t.qZA(),t.TgZ(24,"label",15),t.NdJ("click",function(){return n.setSize(n.dialogSizeTemplate.tablet)}),t._UZ(25,"input",19),t.TgZ(26,"label",20),t._uU(27),t.qZA(),t._UZ(28,"i",21),t.qZA(),t.TgZ(29,"label",15),t.NdJ("click",function(){return n.setSize(n.dialogSizeTemplate.mobile)}),t._UZ(30,"input",22),t.TgZ(31,"label",23),t._uU(32),t.qZA(),t._UZ(33,"i",24),t.qZA()(),t._UZ(34,"span"),t.qZA()(),t.TgZ(35,"div",25),t._UZ(36,"iframe",26),t.ALo(37,"safe"),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("src","https://inter-cdn.com"+n.template.image,t.LSH),t.xp6(2),t.uIk("data-testid","template__button-choose--"+n.template.name),t.xp6(3),t.Oqu(n.locale.maketext("Choose")),t.xp6(1),t.uIk("data-testid","template__button-view--"+n.template.name),t.xp6(3),t.Oqu(n.locale.maketext("View")),t.xp6(1),t.uIk("data-testid","templateBody__"+n.template.id),t.xp6(1),t.Q6J("innerHTML",n.template.name,t.oJD),t.uIk("data-testid","templateName__"+n.template.name),t.xp6(1),t.Q6J("show",n.showTemplateModal)("config",t.VKq(31,Pn,n.dialogSizeTemplate.desktop))("modalSize",n.modalSize)("confirmActionText",n.locale.maketext("Choose"))("declineActionText",n.locale.maketext("Close"))("id",n.template.id),t.xp6(3),t.Q6J("innerHTML",n.template.name,t.oJD),t.xp6(2),t.ekj("active",n.modalSize===n.dialogSizeTemplate.desktop),t.uIk("data-testid","template_radio-desktop"),t.xp6(3),t.Oqu(n.locale.maketext("Desktop View")),t.xp6(2),t.ekj("active",n.modalSize===n.dialogSizeTemplate.tablet),t.uIk("data-testid","template_radio-tablet"),t.xp6(3),t.Oqu(n.locale.maketext("Tablet View")),t.xp6(2),t.ekj("active",n.modalSize===n.dialogSizeTemplate.mobile),t.uIk("data-testid","template_radio-mobile"),t.xp6(3),t.Oqu(n.locale.maketext("Smartphone View")),t.xp6(4),t.Q6J("src",t.xi3(37,28,n.template.previewUrl,"resourceUrl"),t.uOi))},directives:[U],pipes:[dt],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]{--cp-spacer-1: .25rem;--cp-spacer-2: .5rem;--cp-spacer-3: .75rem;--cp-spacer-4: 1rem;--cp-spacer-5: 1.25rem;--cp-spacer-6: 1.5rem;--cp-spacer-7: 1.75rem;--cp-spacer-8: 2rem;--cp-spacer-9: 2.5rem;--cp-spacer-10: 3rem}html[dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-left:var(--cp-spacer-1)}html[dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%]{padding-right:0;padding-left:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%]{padding-left:0;padding-right:var(--cp-spacer-1)}.sitejet-cp-button--with-icon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center}.icon-btn-link-text[_ngcontent-%COMP%]{text-transform:none}.toast-header[_ngcontent-%COMP%]{font-weight:600}.page-title-section[_ngcontent-%COMP%] > .breadcrumb[_ngcontent-%COMP%]{padding-top:var(--cp-spacer-2);font-size:1rem}.page-title-section[_ngcontent-%COMP%] > .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-separator[_ngcontent-%COMP%]{padding:0 var(--cp-spacer-1)}.sitejet-modal-header[_ngcontent-%COMP%]{font-size:1.25rem;margin:0}@media (max-width: 575.98px){.hidden-xs[_ngcontent-%COMP%]{display:none}}.template[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;transition:transform .5s cubic-bezier(.2,.6,.35,1),box-shadow .5s cubic-bezier(.2,.6,.35,1);padding:var(--cp-spacer-1);background:#fff;border-radius:.25rem}.template[_ngcontent-%COMP%]:hover{transform:translateY(-1%);box-shadow:0 var(--cp-spacer-2) var(--cp-spacer-4) 0 #0003}.template[_ngcontent-%COMP%]:hover   .template__image-container[_ngcontent-%COMP%]:after{opacity:1}.template__image-container[_ngcontent-%COMP%]{position:relative;width:100%}.template__image-container[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background-color:rgba(var(--cp-dark-rgb, 36, 55, 70),.9);opacity:0;transition:opacity .3s ease-in-out;z-index:1}.template__buttons-container[_ngcontent-%COMP%]{position:absolute;top:50%;display:flex;flex-direction:column;align-items:center;opacity:0;transition:opacity .3s ease-in-out,transform .3s ease-in-out;z-index:2}html[dir=ltr][_ngcontent-%COMP%]   .template__buttons-container[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .template__buttons-container[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .template__buttons-container[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .template__buttons-container[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .template__buttons-container[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .template__buttons-container[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .template__buttons-container[_ngcontent-%COMP%]{left:50%;transform:translate(-50%)}html[dir=rtl][_ngcontent-%COMP%]   .template__buttons-container[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .template__buttons-container[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .template__buttons-container[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .template__buttons-container[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .template__buttons-container[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .template__buttons-container[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .template__buttons-container[_ngcontent-%COMP%]{right:50%;transform:translate(50%)}.template[_ngcontent-%COMP%]:hover   .template__buttons-container[_ngcontent-%COMP%]{opacity:1}html[dir=ltr][_ngcontent-%COMP%]   .template[_ngcontent-%COMP%]:hover   .template__buttons-container[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .template[_ngcontent-%COMP%]:hover   .template__buttons-container[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .template[_ngcontent-%COMP%]:hover   .template__buttons-container[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .template[_ngcontent-%COMP%]:hover   .template__buttons-container[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .template[_ngcontent-%COMP%]:hover   .template__buttons-container[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .template[_ngcontent-%COMP%]:hover   .template__buttons-container[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .template[_ngcontent-%COMP%]:hover   .template__buttons-container[_ngcontent-%COMP%]{transform:translate(-50%,-50%)}html[dir=rtl][_ngcontent-%COMP%]   .template[_ngcontent-%COMP%]:hover   .template__buttons-container[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .template[_ngcontent-%COMP%]:hover   .template__buttons-container[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .template[_ngcontent-%COMP%]:hover   .template__buttons-container[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .template[_ngcontent-%COMP%]:hover   .template__buttons-container[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .template[_ngcontent-%COMP%]:hover   .template__buttons-container[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .template[_ngcontent-%COMP%]:hover   .template__buttons-container[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .template[_ngcontent-%COMP%]:hover   .template__buttons-container[_ngcontent-%COMP%]{transform:translate(50%,-50%)}.template__image[_ngcontent-%COMP%]{width:100%}.template__button[_ngcontent-%COMP%]{margin-bottom:var(--cp-spacer-3);border-radius:.25rem}.template__button[_ngcontent-%COMP%]:last-child{margin-bottom:0}.template__body[_ngcontent-%COMP%]{padding:var(--cp-spacer-4);display:flex;flex-direction:column;align-items:center}.template__name[_ngcontent-%COMP%]{margin-bottom:var(--cp-spacer-4);text-align:center}.template__button--view[_ngcontent-%COMP%]{color:#fff;border:1px solid #fff;background:none;transition:all .2s ease-in-out}.template__button--view[_ngcontent-%COMP%]:hover{color:#000;border:1px solid #fff;background:#fff}.template__button--view[_ngcontent-%COMP%]:focus:not(:hover){color:#fff}.dialog__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--cp-spacer-3)}.dialog__iframe[_ngcontent-%COMP%]{width:100%;height:calc(85vh - 150px);border:none}.modal-header__title[_ngcontent-%COMP%]{font-size:1.25rem}']}),i})(),bn=(()=>{class i{transform(e,n){return e&&n?.tag?e.filter(a=>a.tags.includes(n.tag)):e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"filterTemplate",type:i,pure:!0}),i})();function fn(i,o){if(1&i&&(t.TgZ(0,"div",8)(1,"span",9),t._uU(2),t.qZA(),t._UZ(3,"i",10),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Oqu(e.locale.maketext("Loading \u2026"))}}function wn(i,o){if(1&i&&(t.ynx(0),t._UZ(1,"div",11),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("@fadeInOut",void 0)("innerHTML",(null==e.selectedTag?null:e.selectedTag.translation)||e.locale.maketext("All Templates"),t.oJD)}}function xn(i,o){1&i&&t._UZ(0,"sitejet-skeleton-loader",13),2&i&&t.Q6J("height","300px")}function vn(i,o){if(1&i&&(t.ynx(0),t.YNc(1,xn,1,1,"sitejet-skeleton-loader",12),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.times)}}function kn(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"sitejet-template",15),t.NdJ("templateSelect",function(a){return t.CHM(e),t.oxw(2).onTemplateChoice(a)}),t.qZA()}if(2&i){const e=o.$implicit;t.Q6J("@fadeInOut",void 0)("template",e),t.uIk("data-testid","templateChooserId__"+e.id)}}function Tn(i,o){if(1&i&&(t.ynx(0),t.YNc(1,kn,1,3,"sitejet-template",14),t.ALo(2,"filterTemplate"),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e.sitejetTemplates,e.selectedTag))("ngForTrackBy",e.trackById)}}let yn=(()=>{class i{constructor(e,n,a,s,_,g){this.window=e,this.apiService=n,this.notificationService=a,this.router=s,this.route=_,this.locale=g,this.loading=!1,this.sitejetTemplates=[],this.selectLoading=!1,this.times=Array(6).fill(0).map((h,q)=>q)}ngOnInit(){this.domain=this.route.snapshot.queryParams.site_id,this.getSitejetTemplates()}trackById(e,n){return n.id}onTagSelection(e){this.selectedTag=e}getSitejetTemplates(){this.loading=!0,this.apiService.getTemplates().pipe((0,m.q)(1),(0,k.x)(()=>{this.loading=!1})).subscribe({next:e=>{this.sitejetTemplates=e.data},error:e=>{this.notificationService.add({type:r.k$.error,message:e.message,id:"template-chooser__error--getTemplates"})}})}onTemplateChoice(e){this.selectedTemplate=e,this.domain?(this.selectLoading=!0,this.apiService.getAllSitejetInfo({domain:this.domain}).pipe((0,m.q)(1)).subscribe({next:n=>{n.data[0].status.has_sitejet_website?this.selectTemplate(this.selectedTemplate,this.domain):this.createWebsite(this.domain)},error:n=>{this.selectLoading=!1,this.notificationService.add({type:r.k$.error,message:n.message,id:"template-chooser__error--getAllSitejetInfo"})}})):this.router.navigate([""])}createWebsite(e){this.apiService.createWebsite(e,e).pipe((0,m.q)(1)).subscribe({next:n=>{this.selectTemplate(this.selectedTemplate,this.domain)},error:n=>{this.selectLoading=!1,this.notificationService.add({type:r.k$.error,message:n.message,id:"template-chooser__error--createWebsite"}),this.router.navigate([l.list])}})}selectTemplate(e,n){this.apiService.selectTemplateForWebsite(e,n).pipe((0,m.q)(1)).subscribe({next:a=>{this.getSso(n)},error:a=>{this.selectLoading=!1,this.notificationService.add({type:r.k$.error,message:a.message,id:"template-chooser__error--selectTemplateForWebsite"})}})}getSso(e){this.apiService.getSsoLink(e).pipe((0,k.x)(()=>this.selectLoading=!1),(0,m.q)(1)).subscribe({next:n=>{this.window.location.href=n.data},error:n=>{this.notificationService.add({type:r.k$.error,message:n.message,id:"template-chooser__error--getSsoLink"})}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Window),t.Y36(D),t.Y36(r.gq),t.Y36(u.F0),t.Y36(u.gz),t.Y36(P.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["sitejet-template-chooser"]],decls:11,vars:6,consts:[[1,"template-chooser__title"],[1,"sitejet-chooser__container"],[1,"sitejet-categories__container"],[3,"tagSelect"],["class","my-overlay",4,"ngIf"],[1,"sitejet-right-pane__container"],[4,"ngIf"],[1,"sitejet-templates__container"],[1,"my-overlay"],[1,"visually-hidden"],["aria-hidden","true",1,"fa","fa-spinner","fa-spin"],[1,"sitejet-templates__header",3,"innerHTML"],["shape","rectangle","class","margin sitejet-templates__item",3,"height",4,"ngFor","ngForOf"],["shape","rectangle",1,"margin","sitejet-templates__item",3,"height"],["class","sitejet-templates__item",3,"template","templateSelect",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sitejet-templates__item",3,"template","templateSelect"]],template:function(e,n){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1)(3,"div",2)(4,"sitejet-categories",3),t.NdJ("tagSelect",function(s){return n.onTagSelection(s)}),t.qZA()(),t.YNc(5,fn,4,1,"div",4),t.TgZ(6,"div",5),t.YNc(7,wn,2,2,"ng-container",6),t.TgZ(8,"div",7),t.YNc(9,vn,2,1,"ng-container",6),t.YNc(10,Tn,3,5,"ng-container",6),t.qZA()()()),2&e&&(t.uIk("data-testid","templateChooserTitle__"+n.domain),t.xp6(1),t.hij(" ",n.locale.maketext("Select template for [_1]",n.domain),"\n"),t.xp6(4),t.Q6J("ngIf",n.selectLoading),t.xp6(2),t.Q6J("ngIf",!n.loading),t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngIf",!n.loading))},directives:[hn,p.O5,p.sg,ct,On],pipes:[bn],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]{--cp-spacer-1: .25rem;--cp-spacer-2: .5rem;--cp-spacer-3: .75rem;--cp-spacer-4: 1rem;--cp-spacer-5: 1.25rem;--cp-spacer-6: 1.5rem;--cp-spacer-7: 1.75rem;--cp-spacer-8: 2rem;--cp-spacer-9: 2.5rem;--cp-spacer-10: 3rem}html[dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-left:var(--cp-spacer-1)}html[dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%]{padding-right:0;padding-left:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sitejet-cp-button--with-icon[_ngcontent-%COMP%]   i.ri-external-link-line[_ngcontent-%COMP%]{padding-left:0;padding-right:var(--cp-spacer-1)}.sitejet-cp-button--with-icon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center}.icon-btn-link-text[_ngcontent-%COMP%]{text-transform:none}.toast-header[_ngcontent-%COMP%]{font-weight:600}.page-title-section[_ngcontent-%COMP%] > .breadcrumb[_ngcontent-%COMP%]{padding-top:var(--cp-spacer-2);font-size:1rem}.page-title-section[_ngcontent-%COMP%] > .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-separator[_ngcontent-%COMP%]{padding:0 var(--cp-spacer-1)}.sitejet-modal-header[_ngcontent-%COMP%]{font-size:1.25rem;margin:0}@media (max-width: 575.98px){.hidden-xs[_ngcontent-%COMP%]{display:none}}.template-chooser__title[_ngcontent-%COMP%]{padding-bottom:var(--cp-spacer-4)}.sitejet-chooser__container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.sitejet-categories__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:200px}.sitejet-right-pane__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.sitejet-templates__container[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;display:flex;flex-wrap:wrap;flex:0 0 auto;justify-content:flex-start;align-items:flex-start;position:relative}.sitejet-templates__header[_ngcontent-%COMP%]{font-size:1.5rem}html[dir=ltr][_ngcontent-%COMP%]   .sitejet-templates__header[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .sitejet-templates__header[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-templates__header[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .sitejet-templates__header[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .sitejet-templates__header[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .sitejet-templates__header[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .sitejet-templates__header[_ngcontent-%COMP%]{margin-left:var(--cp-spacer-4)}html[dir=rtl][_ngcontent-%COMP%]   .sitejet-templates__header[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .sitejet-templates__header[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-templates__header[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .sitejet-templates__header[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .sitejet-templates__header[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .sitejet-templates__header[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sitejet-templates__header[_ngcontent-%COMP%]{margin-right:var(--cp-spacer-4)}.sitejet-templates__item[_ngcontent-%COMP%]{max-width:calc(33.3333333333% - var(--cp-spacer-8));flex-basis:calc(33.3333333333% - var(--cp-spacer-8));margin:var(--cp-spacer-4);flex-grow:0;flex-shrink:1;text-align:center}@media (max-width: 1199.98px){.sitejet-templates__item[_ngcontent-%COMP%]{max-width:calc(50% - var(--cp-spacer-8));flex-basis:calc(50% - var(--cp-spacer-8));margin:var(--cp-spacer-4);flex-grow:0;flex-shrink:1;text-align:center}}@media (max-width: 991.98px){.sitejet-chooser__container[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 767.98px){.sitejet-templates__item[_ngcontent-%COMP%]{max-width:calc(100% - var(--cp-spacer-8));flex-basis:calc(100% - var(--cp-spacer-8));margin:var(--cp-spacer-4);flex-grow:0;flex-shrink:1;text-align:center}}.margin[_ngcontent-%COMP%]{margin:var(--cp-spacer-4)}.my-overlay[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;height:100%;background-color:#000000e6;z-index:10000;display:flex;align-items:center;justify-content:center;transition:opacity .4s linear}html[dir=ltr][_ngcontent-%COMP%]   .my-overlay[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .my-overlay[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .my-overlay[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .my-overlay[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .my-overlay[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .my-overlay[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .my-overlay[_ngcontent-%COMP%]{left:0}html[dir=rtl][_ngcontent-%COMP%]   .my-overlay[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .my-overlay[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .my-overlay[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .my-overlay[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .my-overlay[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .my-overlay[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .my-overlay[_ngcontent-%COMP%]{right:0}.my-overlay[_ngcontent-%COMP%]   i.fa.fa-spinner.fa-spin[_ngcontent-%COMP%], .spinner-big[_ngcontent-%COMP%]{font-size:32px;color:#fff}"],data:{animation:[(0,j.X$)("fadeInOut",[(0,j.eR)(":enter",[(0,j.oB)({opacity:0}),(0,j.jt)("300ms ease-in",(0,j.oB)({opacity:1}))]),(0,j.eR)(":leave",[(0,j.jt)("300ms ease-out",(0,j.oB)({opacity:0}))])])]}}),i})(),Ct=(()=>{class i{constructor(e,n,a,s,_,g){this.sitejetApiToken=e,this.window=n,this.apiService=a,this.router=s,this.loadingService=_,this.notificationService=g}resolve(e,n){return this.classRoute=e,this.loadingService.startLoading(),this.hasApiToken()?this.withApiToken():this.noApiToken()}hasApiToken(){return Boolean(this.sitejetApiToken||this.window.PAGE.sitejetApiToken)}fetchAllWebsiteData(){return this.apiService.getAllSitejetInfo({tableMetadata:{pager:{page:1,pageSize:2}}}).pipe((0,m.q)(1))}handleWebsiteData(e){const a=e.data[0];return 1===e.data.length&&a.quota.is_docroot_empty?(this.navigateToRoute(l.create,a.domain),(0,R.of)(!0)):(this.router.navigate([l.list]),(0,R.of)(!0))}noApiToken(){return this.createAccount().pipe((0,A.b)(e=>(this.setApiToken(e.data.key),this.withApiToken())),(0,V.K)(e=>(this.loadingService.stopLoading(),this.handleError(e),(0,R.of)(!1))))}withApiToken(){return this.fetchAllWebsiteData().pipe((0,k.x)(()=>this.loadingService.stopLoading()),(0,A.b)(e=>this.handleWebsiteData(e)),(0,V.K)(e=>(this.handleError(e),(0,R.of)(!1))))}handleError(e){this.notificationService.add({type:r.k$.error,message:e.message,id:"first-load__error"}),this.router.navigate([l.error])}createAccount(){return this.apiService.createAccount().pipe((0,m.q)(1))}setApiToken(e){this.window.PAGE.sitejetApiToken=e,this.apiService.tempApiToken=e}navigateToRoute(e,n){this.router.navigate([e],{queryParams:{site_id:n}})}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(rt),t.LFG(Window),t.LFG(D),t.LFG(u.F0),t.LFG(F),t.LFG(r.gq))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Sn=[{path:l.theme,component:yn,data:{breadcrumb:{id:l.theme}}},{path:l.create,component:xt},{path:l.details,pathMatch:"prefix",children:[{path:"",redirectTo:l.view,pathMatch:"full"},{path:l.pleskPublish,component:pt,data:{breadcrumb:{id:l.details}}},{path:l.view,component:pt,data:{breadcrumb:{id:l.details}}},{path:"**",redirectTo:l.view,pathMatch:"full"}]},{path:l.list,component:sn,data:{breadcrumb:{id:l.list}}},{path:l.error,component:ce},{path:`${l.pleskPublish}`,pathMatch:"prefix",redirectTo:`${l.details}/${l.pleskPublish}`},{path:`${l.pleskBack}`,redirectTo:`${l.list}`,pathMatch:"prefix"},{path:"",resolve:{route:Ct},pathMatch:"full"},{path:"**",resolve:{route:Ct},pathMatch:"full"}];let jn=(()=>{class i{constructor(e,n){this.locale=e,this.breadcrumbService=n;const a={[l.theme]:{displayName:e.maketext("Choose Template"),id:l.theme,link:e.maketext("Select a template theme for your website."),longName:e.maketext("Choose Template"),path:`/${l.theme}`,parentId:l.list},[l.details]:{displayName:e.maketext("Website Details"),id:l.details,link:e.maketext("Edit your website details."),longName:e.maketext("Website Details"),path:`/${l.details}`,parentId:l.list},[l.list]:{displayName:e.maketext("Sitejet Websites"),id:l.list,link:e.maketext("View a list of your Sitejet websites."),longName:e.maketext("Sitejet Websites"),path:`/${l.list}`,parentId:""}};this.breadcrumbService.initializeBreadcrumbs(),this.breadcrumbService.flattenedRoutesData=Object.values(a)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(P.g),t.LFG(r.pm))},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[u.Bz.forRoot(Sn,{useHash:!0,relativeLinkResolution:"legacy"})],u.Bz]}),i})();var An=c(8132);function Dn(i,o){if(1&i&&(t.TgZ(0,"div",3)(1,"span",4),t._uU(2),t.qZA(),t._UZ(3,"i",5),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Oqu(e.locale.maketext("Loading \u2026"))}}let Zn=(()=>{class i{constructor(e,n){this.locale=e,this.loadingService=n,this.title="sitejet",(0,An.Dc)("bs5"),this.removeLegacyStyleSheets()}removeLegacyStyleSheets(){document.querySelector('link[href*="_assets/css/master"]')?.remove();const n=document.querySelector('link[href*="bootstrap.min.css"]'),a=document.querySelector('link[href*="cpanel_base.min.css"]'),s=document.querySelector('link[href*="ux-styles.min.css"]');n?.remove(),s?.remove(),a?.remove()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(P.g),t.Y36(F))},i.\u0275cmp=t.Xpm({type:i,selectors:[["sitejet-root"]],decls:5,vars:4,consts:[[1,"body-content"],[1,"section","animate-view","ng-cloak"],["class","app__spinner",4,"ngIf"],[1,"app__spinner"],[1,"visually-hidden"],["aria-hidden","true",1,"fa","fa-spinner","fa-spin"]],template:function(e,n){1&e&&(t._UZ(0,"cp-notification-list"),t.TgZ(1,"div",0),t._UZ(2,"router-outlet",1),t.qZA(),t.YNc(3,Dn,4,1,"div",2),t.ALo(4,"async")),2&e&&(t.uIk("data-testid","appAlertList"),t.xp6(3),t.Q6J("ngIf",t.lcZ(4,2,null==n.loadingService?null:n.loadingService.loading$)))},directives:[r.ZP,u.lC,p.O5],pipes:[p.Ov],styles:[".app__spinner[_ngcontent-%COMP%]{display:flex;align-items:center;transition:opacity .5s linear}.app__spinner[_ngcontent-%COMP%]   i.fa.fa-spinner.fa-spin[_ngcontent-%COMP%], .spinner-big[_ngcontent-%COMP%]{font-size:24px}"]}),i})(),Ln=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i,bootstrap:[Zn]}),i.\u0275inj=t.cJS({providers:[D,bt.a,B,F,K,{provide:Window,useValue:window},{provide:rt,useValue:window.PAGE.sitejetApiToken},{provide:W,useValue:window.PAGE.domainInfo},{provide:st,useValue:window.PAGE.homeDir},{provide:G,useValue:window.PAGE.deprefix},{provide:lt,useValue:window.PAGE.domainsApp}],imports:[[r.hJ,r.u5,r.pR,Ot.m,jn,r.wH,Pt.PW,Q.b2,b.HT,p.ez,Mt.JF,r.zf,r.UX,r.t8,nt.Iq,z.xu,T.UX,ot.HC.forRoot(),H.mr.forRoot(),E.f.forRoot(),it.zk.forRoot()]]}),i})();(0,t.G48)(),Q.q6().bootstrapModule(Ln).catch(i=>console.error(i))}},I=>{I.O(0,[647,534],()=>I(I.s=4118)),I.O()}]);
//# sourceMappingURL=main.a24f5ae83b1f27ae.js.map