define("app/index",["angular","lodash","cjt/util/locale","cjt/io/uapi-request","cjt/io/uapi","cjt/modules","cjt/directives/formWaiting","cjt/services/alertService","cjt/directives/alert","cjt/directives/alertList","uiBootstrap","cjt/services/APICatcher"],(function(e,t,a,c){"use strict";return function(){return require(["cjt/bootstrap"],(function(r){e.module("App",["cjt2.cpanel","ui.bootstrap"]).controller("BaseController",["$rootScope","$scope","APICatcher","alertService",function(r,s,i,o){e.extend(s,{save_privs:function(e){var r,s=document.forms[e.$name];if(s.ALL.checked)r="ALL";else{r="";for(var l=[].slice.call(s.privileges),n=0;n<l.length;n++)l[n].checked&&(r+=","+l[n].value);r=r.replace(/^,/,"")}var u=(new c.Class).initialize("Mysql","set_privileges_on_database",{user:CPANEL.PAGE.username,database:CPANEL.PAGE.dbname,privileges:r});return i.promise(u).then((function(e){for(var c=[].slice.call(s.elements),r=0;r<c.length;r++)"checkbox"===c[r].type&&(c[r].defaultChecked=c[r].checked);o.add({type:"success",message:a.maketext("You saved “[_1]”’s privileges on the database “[_2]”.",t.escape(CPANEL.PAGE.username),t.escape(CPANEL.PAGE.dbname)),closeable:!0,replace:!1,autoClose:1e4,group:"userrights"})}))}})}]),r("#ng_content","App")}))}}));