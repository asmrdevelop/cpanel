define(["jquery"],(function(t){function e(t){return t.scrollTop+t.offsetHeight+1>=t.scrollHeight||t.scrollHeight<=t.offsetHeight?1:0}t(document).ready((function(){var o,r=t.ajax({url:CPANEL.PAGE.ajax_request_url,xhr:function(){return o=jQuery.ajaxSettings.xhr()},timeout:3e6}),u=t("#module-output-formatted")[0],n=0,l=window.setInterval((function(){if(o&&3===o.readyState){var r;try{r=o.responseText.substr(n)}catch(t){return}n+=r.length;var l=e(u);t("#module-output-formatted").append(r),l&&(u.scrollTop=u.scrollHeight)}}),500);r.always((function(){t("#module-output-spinner").html(LOCALE.maketext("Completed")),window.clearInterval(l)})),r.done((function(o){var r=e(u);t("#module-output-formatted").text(o),r&&(u.scrollTop=u.scrollHeight)})),r.fail((function(e,o){t("#module-output-formatted").text(LOCALE.maketext("An error occurred while processing your request: [_1]",o))}))}))}));