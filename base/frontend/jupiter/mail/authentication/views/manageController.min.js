define(["angular","cjt/util/locale","uiBootstrap","cjt/directives/alertList","cjt/services/alertService"],(function(e,t){"use strict";return e.module("App").controller("manageController",["$scope","$routeParams","manageService","alertService",function(e,r,n,a){e.unlink=function(i,s){return n.unlink(i.provider_id,i.subject_unique_identifier,r.username).then((function(){n.fetch_links(r.username).then((function(){e.providers=n.get_links()}),(function(e){a.add({type:"danger",message:t.maketext("The system encountered an error while it tried to retrieve results, please refresh the interface: [_1]",e),closeable:!0,replace:!1,group:"emailExternalAuth"}),i.disabled=0})),a.add({type:"success",message:t.maketext("Successfully unlinked the “[_1]” account “[_2]”",s,i.preferred_username),closeable:!0,replace:!1,autoClose:1e4,group:"emailExternalAuth"})}),(function(e){a.add({type:"danger",message:t.maketext("The system encountered an error while it tried to retrieve results, please refresh the interface: [_1]",e),closeable:!0,replace:!1,group:"emailExternalAuth"}),i.disabled=0}))},e.init=function(){e.username=r.username,e.locale=t,e.providers=n.get_links()},e.init()}])}));