define(["angular","cjt/util/locale","cjt/core","angular-chosen"],(function(e,c,o){"use strict";e.module("cpanel.apacheSpamAssassin.directives.scoreField",["localytics.directives"]).directive("scoreField",["$timeout",function(c){return{templateUrl:"directives/scoreField.phtml",restrict:"EA",require:["ngModel"],transclude:!0,scope:{scoreTypes:"=",ngModel:"=",parentID:"@id"},link:function(e,c){e.scoreType=null,e.selectedScoreType=null,e.scoreValue=null,e.$watch("selectedScoreType",(function(c,o){!c||null!==e.scoreValue&&e.scoreType===c.key||(e.scoreType=c.key,e.scoreValue=c.score)}))},controller:["$scope",function(c){["scoreType","scoreValue"].forEach((function(e){c.$watch(e,(function(e,o){c.scoreType&&null!==c.scoreValue&&(c.ngModel=c.scoreType+" "+c.scoreValue)}))})),c.modelUpdated=function(){if(c.ngModel){var o=c.ngModel.split(" ");c.scoreType=o[0],e.forEach(c.scoreTypes,(function(e){e.key===c.scoreType&&(c.selectedScoreType=e)})),c.scoreValue=isNaN(o[1])?null:Number(o[1])}},c.$watch("ngModel",c.modelUpdated),c.modelUpdated()}]}}])}));