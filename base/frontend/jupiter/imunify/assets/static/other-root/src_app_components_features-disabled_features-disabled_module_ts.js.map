{"version":3,"file":"src_app_components_features-disabled_features-disabled_module_ts.js","mappings":"gSASO,IAAMA,EAAyB,MAAhC,MAAOA,G,6CAAAA,EAAyB,E,mDAAzBA,EAAyBC,UAAA,wBAAAC,MAAA,EAAAC,KAAA,EAAAC,OAAA,yDAAAC,SAAA,SAAAC,EAAAC,GAAA,EAAAD,ICTtCE,EAAAA,4BAAA,SACIA,EAAAA,uBAAA,gBACAA,EAAAA,4BAAA,UAAcA,EAAAA,oBAAA,iCAA2BA,EAAAA,4BACzCA,EAAAA,4BAAA,SAAaA,EAAAA,oBAAA,sCAAgCA,EAAAA,2BAAAA,G,0mBDMpCR,CAAyB,K,+CEE/B,IAAMS,EAAqB,MAA5B,MAAOA,EACTC,WAAAA,CACWC,EACCC,EACAC,EACAC,GAHD,KAAAH,UAAAA,EACC,KAAAC,cAAAA,EACA,KAAAC,0BAAAA,EACA,KAAAC,OAAAA,CACT,CAEHC,WAAAA,CAAYC,EAA+BC,GACvC,OAAOC,KAAKN,cAAcO,mBAAmBC,MACzCC,EAAAA,EAAAA,SAAOF,GAA4C,MAAtBA,KAC7BG,EAAAA,EAAAA,MAAK,IACLC,EAAAA,EAAAA,MAAKJ,IACGA,GACAD,KAAKJ,OAAOU,SAASN,KAAKP,UAAUc,iC,KAG5CC,EAAAA,EAAAA,MAAKP,IAAwBA,IAErC,EAnB8B,O,sCAArBV,GAAqBD,EAAAA,sBAAAmB,EAAAA,GAAAnB,EAAAA,sBAAAoB,EAAAA,GAAApB,EAAAA,sBAAAqB,EAAAA,GAAArB,EAAAA,sBAAAsB,EAAAA,QAAA,E,sDAArBrB,EAAqBsB,QAArBtB,EAAqBuB,YAArBvB,CAAqB,KCJlC,MAAMwB,EAAiB,CACnB,CACIC,KAAM,GACNC,UAAWnC,EACXe,YAAa,CAACN,KAQf,IAAM2B,EAA6B,MAApC,MAAOA,GAFa,O,sCAEbA,EAA6B,E,kDAA7BA,I,sDAHCC,EAAAA,aAAAA,SAAsBJ,GACtBI,EAAAA,gBAEDD,CAA6B,KCM7BE,EAAsB,MAA7B,MAAOA,GANc,O,sCAMdA,EAAsB,E,kDAAtBA,I,uDAJE,CACP7B,GACH8B,QAAA,CAPGC,EAAAA,aACAJ,EACAK,EAAAA,cACAC,EAAAA,KAMKJ,CAAsB,I","sources":["./src/app/components/features-disabled/features-disabled.component.ts","./src/app/components/features-disabled/features-disabled.component.html","./src/app/components/features-disabled/features-disabled.guard.ts","./src/app/components/features-disabled/features-disabled-routing.module.ts","./src/app/components/features-disabled/features-disabled.module.ts"],"sourcesContent":["import { Component } from '@angular/core';\n\n\n@Component({\n    selector: 'features-disabled',\n    templateUrl: './features-disabled.component.html',\n    styleUrls: ['./features-disabled.component.scss'],\n})\n\nexport class FeaturesDisabledComponent {}\n","<div>\n    <mat-icon svgIcon=\"logo-grey\" class=\"logo-grey\"></mat-icon>\n    <h3 translate>featuresDisabled.noFeatures</h3>\n    <p translate>featuresDisabled.contactProvider</p>\n</div>\n","import { Injectable } from '@angular/core';\nimport {\n    ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot,\n} from '@angular/router';\nimport { filter, map, take, tap } from 'rxjs';\nimport { AuthState } from 'app/services/auth-state';\nimport { RequestsState } from 'app/services/requests-state';\nimport { UserFeaturesStatusService } from 'app/services/user-features-status';\n\n\n@Injectable()\nexport class FeaturesDisabledGuard implements CanActivate {\n    constructor(\n        public authState: AuthState,\n        private requestsState: RequestsState,\n        private userFeaturesStatusService: UserFeaturesStatusService,\n        private router: Router,\n    ) {}\n\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n        return this.requestsState.hasEnabledFeatures.pipe(\n            filter(hasEnabledFeatures => hasEnabledFeatures != null),\n            take(1),\n            tap((hasEnabledFeatures) => {\n                if (hasEnabledFeatures) {\n                    this.router.navigate(this.authState.featuresDisabledRedirectCommands);\n                }\n            }),\n            map((hasEnabledFeatures) => !hasEnabledFeatures),\n        );\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { FeaturesDisabledComponent } from './features-disabled.component';\nimport { FeaturesDisabledGuard } from './features-disabled.guard';\n\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: FeaturesDisabledComponent,\n        canActivate: [FeaturesDisabledGuard],\n    },\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule],\n})\nexport class FeaturesDisabledRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatIconModule } from '@angular/material/icon';\n\nimport { I360TranslateModule } from 'app/utils/translate/translate.module';\n\nimport { FeaturesDisabledRoutingModule } from './features-disabled-routing.module';\nimport { FeaturesDisabledComponent } from './features-disabled.component';\nimport { FeaturesDisabledGuard } from './features-disabled.guard';\n\n\n@NgModule({\n    declarations: [\n        FeaturesDisabledComponent,\n    ],\n    imports: [\n        CommonModule,\n        FeaturesDisabledRoutingModule,\n        MatIconModule,\n        I360TranslateModule,\n    ],\n    providers: [\n        FeaturesDisabledGuard,\n    ],\n})\nexport class FeaturesDisabledModule { }\n"],"names":["FeaturesDisabledComponent","selectors","decls","vars","consts","template","rf","ctx","i0","FeaturesDisabledGuard","constructor","authState","requestsState","userFeaturesStatusService","router","canActivate","route","state","this","hasEnabledFeatures","pipe","filter","take","tap","navigate","featuresDisabledRedirectCommands","map","i1","i2","i3","i4","factory","Éµfac","routes","path","component","FeaturesDisabledRoutingModule","RouterModule","FeaturesDisabledModule","imports","CommonModule","MatIconModule","I360TranslateModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}