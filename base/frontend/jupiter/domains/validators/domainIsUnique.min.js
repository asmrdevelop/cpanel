define(["angular","cjt/util/locale","cjt/validator/validator-utils","cjt/validator/validateDirectiveFactory","app/services/domains"],(function(i,n,a){"use strict";var t,e={_processLoadedDomains:function(i){return t=null,i&&(t={},i.forEach((function(i){t[i.domain]=i}))),t},_getDomains:function(){return t}},o={domainIsUnique:function(i){var t=a.initializeValidationResult(),o=e._getDomains();return(!o||i&&o[i])&&(t.isValid=!1,t.add("domainIsUnique",n.maketext("This domain already exists on this account."),"domainIsUnique")),t}};return i.module("cjt2.validate").run(["validatorFactory","$q","domains",function(i,n,a){var t={domainIsUnique:function(i){return a.get().then((function(a){e._processLoadedDomains(a);var t=o.domainIsUnique(i);return n.resolve(t)}))}};t.domainIsUnique.async=!0,i.generate(t,n)}]),{methods:o,factoryMethods:e,name:"domain-is-unique",description:"Validation to ensure domain is unique for this account.",version:1}}));