define(["angular","cjt/io/api","cjt/io/uapi-request","cjt/io/uapi"],(function(e,a,t,n){e.module("App").factory("accountsService",["$q",function(e){return{getAvailableAccounts:function(n){var r=e.defer(),i=new t.Class;return i.initialize("Resellers","list_accounts"),a.promise(i.getRunArguments()).done((function(e){if((e=e.parsedResponse).status){var a;n=n||!1;for(var t=0,i=e.data.length;t<i;t++)(a=e.data[t]).accountLabel=n?"â€Ž("+a.domain+") "+a.user:a.user+" ("+a.domain+")";r.resolve(e.data)}else r.reject(e.error)})),r.promise}}}])}));