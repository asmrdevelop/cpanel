define(["angular","jquery","app/services/themesService","cjt/decorators/growlDecorator","jquery-chosen","angular-chosen"],(function(e){"use strict";return e.module("App").controller("themesController",["$scope","$window","themesService","growl","$timeout",function(e,t,n,r,c){e.isRTL=PAGE.isRTL||!1,e.updated=!0,c((function(){n.getAvailableThemes().then((function(t){t&&t.length>0&&(e.themes=t,PAGE.currentTheme&&(e.selectedTheme=PAGE.currentTheme))}),(function(e){r.error(e)})).finally((function(){e.updated=!0}))})),e.themeChanged=function(){""!==e.selectedTheme&&n.setTheme(e.selectedTheme).then((function(){PAGE&&PAGE.securityToken&&PAGE.userName&&(t.location.href=PAGE.securityToken+"/xfercpanel/"+PAGE.userName+"?theme="+e.selectedTheme)})).catch((function(e){r.error(e)}))}}])}));