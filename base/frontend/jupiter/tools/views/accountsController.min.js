define(["angular","lodash","jquery","app/services/accountsService","cjt/decorators/growlDecorator","jquery-chosen","angular-chosen"],(function(e,c){"use strict";return e.module("App").controller("accountsController",["$scope","$window","accountsService","growl","$timeout",function(e,n,o,t,u){e.isRTL=PAGE.isRTL||!1,e.updated=!0,u((function(){o.getAvailableAccounts(e.isRTL).then((function(n){n&&n.length>=1&&(e.accounts=n,PAGE.userName&&(e.selectedAccount=c.find(n,["user",PAGE.userName])))}),(function(e){t.error(e)})).finally((function(){e.updated=!0}))})),e.accountChanged=function(){e.selectedAccount&&PAGE&&PAGE.securityToken&&(n.location.href=PAGE.securityToken+"/xfercpanel/"+e.selectedAccount.user)}}])}));