define(["angular","cjt/core","lodash","cjt/modules","uiBootstrap","ngRoute","ngSanitize","ngAnimate"],(function(e,t,i){"use strict";return function(){return e.module("App",["ui.bootstrap","angular-growl","cjt2.cpanel","ngAnimate"]),require(["cjt/bootstrap","cjt/services/alertService","cjt/directives/alert","cjt/directives/alertList","app/services/CertificatesService","app/services/LocationService","app/views/VirtualHostsController","app/views/PurchaseSimpleController","app/views/CheckoutController","app/views/PendingCertificatesController","app/directives/identityVerificationDirective","cjt/decorators/growlDecorator","cjt/services/cpanel/componentSettingSaverService"],(function(r){var n=e.module("App");n.value("PAGE",CPANEL.PAGE),n.controller("BaseController",["componentSettingSaverService","CertificatesService","$rootScope","$scope","$route","$location",function(e,t,i,r,n,c){var o="IntroductionBlock";r.loading=!1,i.$on("$routeChangeStart",(function(e,t,i){i&&t.loadedTemplateURL===i.loadedTemplateURL||(r.loading=!0)})),i.$on("$routeChangeSuccess",(function(){r.loading=!1})),i.$on("$routeChangeError",(function(){r.loading=!1})),r.introduction_dismissed=function(){e.set(o,{hidden:!0}),t.dismiss_introduction()},r.current_route_matches=function(e){return c.path().match(e)},r.go=function(e){c.path(e)};var s=e.register(o);s&&s.then((function(e){e&&e.hidden&&t.dismiss_introduction()})),r.$on("$destroy",(function(){e.unregister(o)}))}]),n.config(["$routeProvider","growlProvider",function(e,r){r.globalPosition("top-right"),e.when("/create-advanced/:domain?",{controller:"VirtualHostsController",templateUrl:t.buildFullPath("security/tls_wizard/views/virtual_hosts.html.tt"),resolve:{installed_hosts:["CertificatesService",function(e){return e.fetch_installed_hosts()}],products:["CertificatesService",function(e){return e.fetch_products()}],domains:["CertificatesService",function(e){return e.fetch_domains()}],pending_certificates:["CertificatesService",function(e){return e.fetch_pending_certificates()}]}}),e.when("/create/:domain?",{controller:"PurchaseSimpleController",templateUrl:t.buildFullPath("security/tls_wizard/views/purchase_simple.html.tt"),resolve:{installed_hosts:["CertificatesService",function(e){return e.fetch_installed_hosts()}],products:["CertificatesService",function(e){return e.fetch_products()}],domains:["CertificatesService",function(e){return e.fetch_domains()}],pending_certificates:["CertificatesService",function(e){return e.fetch_pending_certificates()}]}}),e.when("/pending-certificates/",{controller:"PendingCertificatesController",reloadOnSearch:!1,templateUrl:t.buildFullPath("security/tls_wizard/views/pending_certificates.html.tt"),resolve:{installed_hosts:["CertificatesService",function(e){return e.fetch_installed_hosts()}],pending_certificates:["CertificatesService","LocationService","$location",function(e,t,r){var n=e.fetch_pending_certificates();return i.isFunction(n.finally)?n.then((function(){return!!e.get_pending_certificates().length||(t.go_to_last_create_route(),!1)})):!!e.get_pending_certificates().length||(t.go_to_last_create_route(),!1)}],products:["CertificatesService",function(e){return e.fetch_products()}]}}),e.when("/purchase/:provider?/:step?/:everythingelse?",{controller:"CheckoutController",templateUrl:t.buildFullPath("security/tls_wizard/views/checkout.html.tt"),resolve:{products:["CertificatesService",function(e){return e.fetch_products()}]}}),e.otherwise({redirectTo:"/pending-certificates"})}]),r("#content","App")}))}}));