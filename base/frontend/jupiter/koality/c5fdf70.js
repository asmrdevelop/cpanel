(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{1030:function(e,t,n){"use strict";n.r(t);var r=n(14),o=n(9),c=(n(25),n(30),n(39),n(89),n(15),n(40),n(1)),l=n(723),d=(n(17),n(16),n(27),n(19),n(28),n(11)),m=(n(32),n(69),n(22),n(150),n(41),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(31),n(59),n(68),{name:"ProjectListUpsellEntry"});m.props={project:{type:String,default:""},width:{type:Number,default:700}},m.setup=function(e,t){var n=e,r=Object(c.r)();return{outerList:Object(c.i)(null),sublayout:Object(c.a)((function(){return r.getters["navigation/getSublayout"]})),handleUpsell:function(){r.dispatch("ui/startNotMonitoredUpsell",n.project)}}};var f=m,v=n(4),y=Object(v.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"outerList",class:[{"transition duration-300 rounded border-b-2 border-l-2 shadow-sm px-4 py-2 hover:!shadow-xl flex justify-between gap-6":"cpanel"===e.sublayout},{"divide-y divide-gray-300":"cpanel"!==e.sublayout}]},[n("div",[n("div",{staticClass:"flex items-center relative h-full"},[n("div",{staticClass:"rounded-full bg-gray-400 w-2 max-h-16 h-full mr-2"}),e._v(" "),n("div",{staticClass:"cursor-default w-full h-full flex flex-col align-middle justify-center"},[n("div",{staticClass:"font-bold text-sm truncate"},[e._v("\n          "+e._s(e.project)+"\n        ")]),e._v(" "),n("div",{staticClass:"text-xs text-gray-600"},[e._v("\n          "+e._s(e.$t("Unmonitored"))+"\n        ")])])])]),e._v(" "),n("div",{staticClass:"transition-all duration-300 text-primary-regular hover:cursor-pointer hover:opacity-80 flex justify-center",on:{click:e.handleUpsell}},[e._v("\n    "+e._s(e.$t("addMonitoringToDomain"))+"\n  ")])])}),[],!1,null,null,null).exports,j={name:"ProjectListUpsell"};j.props={projects:{type:Array,default:function(){return[]}},width:{type:Number,default:700}},j.setup=function(e,t){var n=Object(c.r)();return{sublayout:Object(c.a)((function(){return n.getters["navigation/getSublayout"]}))}},j.components=Object.assign({ProjectListUpsellEntry:y},j.components);var h=j,_=Object(v.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[{"divide-y divide-gray-300":"cpanel"!==e.sublayout}]},e._l(e.projects,(function(t,r){return n("ProjectListUpsellEntry",{key:r,staticClass:"py-3",attrs:{project:t,width:e.width}})})),1)}),[],!1,null,null,null).exports,O=n(720),S=n(18),x=(n(291),n(36)),w=(n(96),n(38),n(125)),P=n(82),k=n(124),C={name:"DashboardSubScore",props:{entry:{type:Object,default:function(){}}}},T=Object(v.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex items-center"},[n("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:"Score: "+e.entry.score,popperOptions:{modifiers:{computeStyle:{gpuAcceleration:!1}}}},expression:"{\n      content: `Score: ${entry.score}`,\n      popperOptions: { modifiers: { computeStyle: {gpuAcceleration: false}}}\n    }"}],staticClass:"mr-2"},[n("div",{staticClass:"rounded h-3 w-3",class:[{"bg-error-low":"good"===e.entry.status&&e.entry.score>=0},{"bg-error-medium":"medium"===e.entry.status&&e.entry.score>=0},{"bg-error-high":"bad"===e.entry.status&&e.entry.score>=0},{"bg-gray-200":e.entry.score<0}]})]),e._v(" "),n("div",{staticClass:"text-xs truncate"},[e._v("\n    "+e._s(e.entry.title)+"\n  ")])])}),[],!1,null,null,null).exports,z={name:"DashboardScore",props:{entry:{type:Object,default:function(){}},withToolTip:{type:Boolean,default:!0}},data:function(){return{}}},$=Object(v.a)(z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.withToolTip?n("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:"Score: "+e.entry.score,popperOptions:{modifiers:{computeStyle:{gpuAcceleration:!1}}}},expression:"{\n      content: `Score: ${entry.score}`,\n      popperOptions: { modifiers: { computeStyle: {gpuAcceleration: false}}}\n    }"}],staticClass:"text-xs truncate"},[e._v("\n    "+e._s(e.entry.title)+"\n  ")]):n("div",{staticClass:"text-xs truncate"},[e._v("\n    "+e._s(e.entry.title)+"\n  ")]),e._v(" "),n("div",{staticClass:"rounded-full overflow-hidden h-1 mt-1",class:["bad"===e.entry.status?"bg-white":"bg-gray-200"]},[n("div",{staticClass:"rounded-full h-1",class:[{"bg-error-low":"good"===e.entry.status},{"bg-error-medium":"medium"===e.entry.status},{"bg-error-high":"bad"===e.entry.status}],style:{width:(e.entry.score>=0?e.entry.score:0)+"%"}})])])}),[],!1,null,null,null).exports,E=n(917),L=n(67),U={name:"ProjectListEntry"};U.props={project:{type:Object,default:function(){}},width:{type:Number,default:700},polling:{type:Boolean,default:!1},onboarding:{type:Object,default:function(){}},activePopup:{type:String,default:""},group:{type:String,default:""}},U.setup=function(e,t){var n=e,r=Object(c.l)().i18n,o=Object(c.r)(),l=Object(c.p)(),d=Object(c.o)(),m=(Object(c.i)(null),Object(c.i)(null)),f=Object(c.i)(!1),v=Object(c.a)((function(){return o.getters["navigation/getPluginIncidents"]})),y=Object(c.a)((function(){return o.getters["navigation/getSublayout"]})),j=Object(c.a)((function(){return o.getters["navigation/getIsPaidEnabled"]})),h=Object(c.a)((function(){var e=n.project.pid,t=v.value.filter((function(t){return t.pid===e.toString()}));if(t.length){var o=t.map((function(e){var t="extras.title.".concat(e.plugin);return{id:e.plugin,status:"success"===e.status?"good":"bad",title:r.te(t)?r.t(t):t,score:100}}));return{title:"Extras",status:o.filter((function(e){return"bad"===e.status})).length?"bad":"good",subScores:o}}return!1})),_=(t.emit,Object(c.a)((function(){var e="admin.projectTypes.".concat(n.project.type);return r.te(e)?r.t(e):n.project.type}))),O=function(){var e,t=n.project,r=t.pid,o=t.sid,details=n.onboarding.details;if(Object(w.b)(details))e=Object(k.d)(P.a,r,o,d.value);else{var path=Object(w.a)(details).path;e=Object(k.d)(path,r,o,d.value)}l.push(e)};Object(c.s)((function(){return n.polling}),(function(){!n.polling&&f.value&&O()}),{immediate:!0});Object(c.a)((function(){return"business"===Object(L.a)(n.project.size_sku||"")}));return{breakpointSmall:550,breakpointMedium:900,outerList:m,sublayout:y,isPaidEnabled:j,collectPluginPseudoScore:h,projectType:_,openProject:function(){f.value=!1;var e=n.project,t=e.pid,r=e.sid;o.dispatch("projects/setProjectSystem",{pid:t,sid:r}),f.value=!0,O()},jumpToSection:function(e){var t=n.project,r=t.pid,c=t.sid;o.dispatch("projects/setProjectSystem",{pid:r,sid:c});l.push("/".concat(r,"/").concat(c,"/").concat({"basic-uptime":"monitoring/uptime","basic-performance":"monitoring/performance","basic-seo":"monitoring/seo","basic-content":"monitoring/content","basic-tech":"monitoring/technical","basic-security":"monitoring/security","Score:Uptime:Down":"monitoring/uptime/uptimeStats","Score:Uptime:Uptime":"monitoring/uptime/uptimeStats","Score:Performance:TimeToFirstByte":"monitoring/performance/servertimings","Score:Performance:TimeToLoad":"monitoring/performance/browsertimings","Score:Performance:BigComponents":"monitoring/performance/pagesize","Score:Performance:BigResources":"monitoring/performance/pagesize","Score:Performance:Lighthouse":"monitoring/performance/lighthouse","Score:Seo:Lighthouse":"monitoring/seo/seoScore","Score:Seo:Sitemap":"monitoring/seo/sitemapMobile","Score:Seo:Mobilefriendly":"monitoring/seo/sitemapMobile","Score:Content:Deadlink":"monitoring/content/contentBroken","Score:Content:Brokenresources":"monitoring/content/contentBroken","Score:Tech:Javascriptinternal":"monitoring/technical/javascript","Score:Tech:Javascriptexternal":"monitoring/technical/javascript","Score:Security:Certificate":"monitoring/security/certs","Score:Security:Cookiecount":"monitoring/security/cookies","Score:Security:Insecurecontent":"monitoring/security/elements",magento_1_leankoala:"extras/magento1",magento_2_leankoala:"extras/magento2",shopware_6_leankoala:"extras/shopware5Business",shopware_5_leankoala:"extras/shopware6Business",woocommerce_4_leankoala:"extras/woocommerceBusiness",ietf_health_check:"extras/healthCheck",a11y_wcagaa:"extras/wcagaa"}[e.id]))},handleUpsell:function(){}}},U.components=Object.assign({PlanTag:E.a,DashboardScore:$,DashboardSubScore:T},U.components);var B=U,M=(n(971),Object(v.a)(B,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"outerList",class:[{"transition duration-300 rounded border-b-2 border-l-2 shadow-sm px-4 py-2 hover:!shadow-xl flex justify-between gap-6":"cpanel"===e.sublayout},{"divide-y divide-gray-300":"cpanel"!==e.sublayout}],on:{mouseleave:function(t){return e.$emit("resetOpenPopup")}}},[n("div",{class:[{"grid-projectDetails":e.project.onBoarding},{"grid-projectDetails--small":e.width<e.breakpointSmall},{"grid-projectDetails--medium":e.width>=e.breakpointSmall&&e.width<e.breakpointMedium},{"grid-projectDetails--big":e.width>=e.breakpointMedium},{"w-full":"cpanel"===e.sublayout}]},[n("div",{staticClass:"grid-projectDetails__boxTitle flex items-center relative"},[e.project.warning?n("div",{staticClass:"rounded-full bg-error-high min-w-2 max-h-16 h-full mr-2"}):"cpanel"===e.sublayout?n("div",{staticClass:"rounded-full bg-error-low w-2 min-w-2 max-h-16 h-full mr-2"}):e._e(),e._v(" "),n("div",{staticClass:"cursor-pointer w-full h-full flex flex-col align-middle justify-center",on:{click:e.openProject}},[n("div",{staticClass:"font-bold text-sm truncate"},[e._v("\n          "+e._s(e.project.name)+"\n        ")]),e._v(" "),e.project.scores.length?n("div",{staticClass:"text-xs text-gray-600"},[e._v("\n          "+e._s("cpanel"!==e.sublayout||"cpanel"===e.sublayout&&e.isPaidEnabled?e.projectType:"")+"\n        ")]):n("div",{staticClass:"text-xs text-gray-600"},[e._v("\n          "+e._s(e.$t("projectdataWillBeCollected"))+"\n        ")]),e._v(" "),e.project.scores.length&&"cpanel"===e.sublayout?n("div",{staticClass:"text-xs text-gray-600 truncate"},[e._v("\n          "+e._s(e.project.domain)+"\n        ")]):e._e(),e._v(" "),e.project.scores.length&&"cpanel"===e.sublayout&&e.isPaidEnabled?n("PlanTag",{staticClass:"visible flex lg:hidden lg:invisible mt-2 max-w-[100px]",attrs:{"actual-sku":e.project.size_sku||""}}):e._e()],1)]),e._v(" "),e.project.onBoarding?[e._l(e.project.scores,(function(t,r){return n("div",{key:r,staticClass:"self-center",class:"grid-projectDetails__boxScore-"+r},[n("div",{staticClass:"px-2 py-2 rounded -mx-2 relative cursor-pointer",class:[{"bg-error-highSoft":"bad"===t.status&&t.score>=0},{"bg-gray-200":"bad"===t.status&&t.score<0}],on:{mouseover:function(t){return e.$emit("openPopup",e.group+"-"+r)}}},[n("transition",{attrs:{name:"cardSlideBottom"}},[e.activePopup===e.group+"-"+r?n("div",{staticClass:"w-full absolute top-0 left-0 p-2 rounded z-50 overflow-hidden bg-gray-100 shadow-xl",class:[{"bg-error-highSoft":"bad"===t.status&&t.score>=0},{"bg-gray-200":"bad"===t.status&&t.score<0}]},[n("DashboardScore",{attrs:{entry:t},nativeOn:{click:function(n){return e.jumpToSection(t)}}}),e._v(" "),e._l(t.subScores,(function(sub,i){return n("DashboardSubScore",{key:i,staticClass:"mt-4",attrs:{entry:sub},nativeOn:{click:function(t){return e.jumpToSection(sub)}}})}))],2):e._e()]),e._v(" "),n("DashboardScore",{attrs:{entry:t,"with-tool-tip":!1}})],1)])})),e._v(" "),e.collectPluginPseudoScore?n("div",{staticClass:"grid-projectDetails__boxScore-6"},[n("div",{staticClass:"px-2 py-2 rounded -mx-2 relative cursor-pointer",class:[{"bg-error-highSoft":"bad"===e.collectPluginPseudoScore.status}],on:{mouseover:function(t){return e.$emit("openPopup",e.group+"-8")}}},[n("transition",{attrs:{name:"cardSlideBottom"}},[e.activePopup===e.group+"-8"?n("div",{staticClass:"w-full absolute top-0 left-0 p-2 rounded z-50 overflow-hidden bg-gray-100 shadow-xl",class:[{"bg-error-highSoft":"bad"===e.collectPluginPseudoScore.status}]},[n("div",{staticClass:"text-xs truncate"},[e._v("\n                "+e._s(e.$t(e.collectPluginPseudoScore.title))+"\n              ")]),e._v(" "),n("div",{staticClass:"rounded-full overflow-hidden h-1 mt-1"},[n("div",{staticClass:"rounded-full h-1",class:[{"bg-error-low":"good"===e.collectPluginPseudoScore.status},{"bg-error-high":"bad"===e.collectPluginPseudoScore.status}]})]),e._v(" "),e._l(e.collectPluginPseudoScore.subScores,(function(sub,i){return n("DashboardSubScore",{key:i,staticClass:"mt-4",attrs:{entry:sub},nativeOn:{click:function(t){return e.jumpToSection(sub)}}})}))],2):e._e()]),e._v(" "),n("div",{staticClass:"text-xs truncate"},[e._v("\n            "+e._s(e.$t(e.collectPluginPseudoScore.title))+"\n          ")]),e._v(" "),n("div",{staticClass:"rounded-full overflow-hidden h-1 mt-1"},[n("div",{staticClass:"rounded-full h-1",class:[{"bg-error-low":"good"===e.collectPluginPseudoScore.status},{"bg-error-high":"bad"===e.collectPluginPseudoScore.status}]})])],1)]):e._e()]:e._e()],2),e._v(" "),e.project.scores.length&&"cpanel"===e.sublayout&&e.isPaidEnabled?n("div",{staticClass:"lg:border-l-2 lg:border-gray-300 lg:pl-6 flex justify-center",on:{click:e.handleUpsell}},[n("PlanTag",{staticClass:"invisible hidden w-[80px] lg:flex lg:!visible self-center",attrs:{"actual-sku":e.project.size_sku||""}})],1):e._e()])}),[],!1,null,null,null).exports);function D(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var A=Object(c.b)({name:"ProjectList",components:{ProjectListEntry:M},props:{projects:{type:Array,default:function(){return[]}},width:{type:Number,default:700},polling:{type:Boolean,default:!1},onboarding:{type:Object,default:function(){}},activePopup:{type:String,default:""},group:{type:String,default:""}},setup:function(e){return{sortProjects:Object(c.a)((function(){return Object(S.a)(e.projects).sort((function(a,b){return a.name>b.name?1:-1}))}))}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(t){Object(d.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(x.c)({sublayout:"navigation/getSublayout"}))}),F=A,N=Object(v.a)(F,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[{"divide-y divide-gray-300":"cpanel"!==e.sublayout}]},e._l(e.sortProjects,(function(t,r){return n("ProjectListEntry",e._g({key:t.id,staticClass:"py-3",attrs:{project:t,width:e.width,polling:e.polling,onboarding:e.onboarding,"active-popup":e.activePopup,group:e.group+"-"+r}},e.$listeners))})),1)}),[],!1,null,null,null).exports,R=(n(81),n(60)),I=n.n(R),H=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){var base,t,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((base=window.location.href.split("/frontend")).length>1)){e.next=14;break}return e.prev=2,e.next=5,I.a.get(base[0]+"/execute/DomainInfo/list_domains");case 5:return t=e.sent,data=t.data.data,e.abrupt("return",[data.main_domain].concat(Object(S.a)(data.sub_domains),Object(S.a)(data.addon_domains)));case 10:return e.prev=10,e.t0=e.catch(2),console.error(e.t0.message),e.abrupt("return",[]);case 14:return e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();function Y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function K(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Y(Object(source),!0).forEach((function(t){Object(d.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var V={name:"ProjectOverview"};V.props={projects:{type:Array,default:function(){return[]}}},V.setup=function(e,t){var n=e,r=Object(c.r)(),l=Object(c.i)(),d=Object(c.a)((function(){var e=n.projects.filter((function(e){return e.onBoarding})).map((function(e){return K(K({},e),{},{warning:null!==e.pluginState&&e.pluginState||!!e.scores.find((function(e){return"bad"===e.status&&e.score>=0}))})}));return{withOnBoarding:n.projects.filter((function(e){return!e.onBoarding})),withoutFails:e.filter((function(e){return!e.warning})),withFails:e.filter((function(e){return e.warning}))}})),m=Object(c.a)((function(){return r.getters["onboarding/getOnboarding"]})),f=Object(c.a)((function(){return r.getters["onboarding/getPolling"]})),v=Object(c.a)((function(){return r.getters["navigation/getSublayout"]})),y=Object(c.a)((function(){return r.getters["navigation/getIsPaidEnabled"]})),j=Object(c.i)(),h=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){var t,r,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:t=e.sent,10,r=function(e){return null==e?void 0:e.replace(/^(http:\/\/|https:\/\/)/,"")},o=new Set(n.projects.map((function(e){return r(e.domain)}))),c=t.filter((function(e){return!o.has(r(e))})),l=n.projects.length,d=10-l,j.value=c.slice(0,d);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h(),{activePopup:l,extendProjects:d,onboarding:m,polling:f,sublayout:v,isPaidEnabled:y,openPopup:function(e){l.value=e},notYetMonitoredSites:j}},V.components=Object.assign({Dimensions:O.a,ProjectList:N,ProjectListUpsell:_},V.components);var G=V,J=(n(972),Object(v.a)(G,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dimensions",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.width;return n("div",{},[e.projects.length?n("div",[e.extendProjects.withOnBoarding.length?n("div",{staticClass:"mb-8"},[n("p",[e._v(e._s(e.$tc("projectsOpenOnboardingState")))]),e._v(" "),n("ProjectList",{attrs:{projects:e.extendProjects.withOnBoarding,width:r,polling:e.polling,onboarding:e.onboarding,"active-popup":e.activePopup,group:"onboarded"},on:{openPopup:e.openPopup,resetOpenPopup:function(t){e.activePopup=null}}})],1):e._e(),e._v(" "),e.extendProjects.withFails.length?n("div",{staticClass:"mt-8"},[n("p",[e._v(e._s(e.$tc("projectsWithFails")))]),e._v(" "),n("ProjectList",{attrs:{projects:e.extendProjects.withFails,width:r,polling:e.polling,onboarding:e.onboarding,"active-popup":e.activePopup,group:"fails"},on:{openPopup:e.openPopup,resetOpenPopup:function(t){e.activePopup=null}}})],1):e._e(),e._v(" "),e.extendProjects.withoutFails.length?n("div",{staticClass:"mt-8"},[n("p",[e._v(e._s(e.$tc("projectsWithoutFails")))]),e._v(" "),n("ProjectList",{attrs:{projects:e.extendProjects.withoutFails,width:r,polling:e.polling,onboarding:e.onboarding,"active-popup":e.activePopup,group:"noFails"},on:{openPopup:e.openPopup,resetOpenPopup:function(t){e.activePopup=null}}})],1):e._e(),e._v(" "),"cpanel"===e.sublayout&&e.isPaidEnabled&&e.notYetMonitoredSites&&e.notYetMonitoredSites.length?n("div",{staticClass:"mt-8"},[n("p",[e._v(e._s(e.$tc("projectsNotMonitored")))]),e._v(" "),"cpanel"===e.sublayout?n("ProjectListUpsell",{attrs:{projects:e.notYetMonitoredSites}}):e._e()],1):e._e()]):n("p",[e._v("\n      "+e._s(e.$t("noProjectsFound"))+"\n    ")])])}}])})}),[],!1,null,null,null).exports),W=n(285),Q=(n(35),n(43),n(148),n(914)),X=n.n(Q),Z=n(966),ee=n(292),te=n(289),ne=n(967),re=n(112),oe=n(287),se=n(288),ae=n(80),ie=n(294),ce=n(50),le={name:"UpsellCreationScreen"};le.props={availableSystemSizes:{type:Array,default:function(){return[]}}},le.setup=function(e,t){var n=e,r=Object(c.l)().$apiClient,l=Object(c.a)((function(){return n.availableSystemSizes.some((function(e){return"unlimited-lite"===e.sku}))})),d=Object(c.r)(),m=t.emit,f=Object(c.a)((function(){return d.getters["ui/getUpsellCreationScreenState"]})),v=Object(c.i)(),y=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){var t,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getRepository("subscription");case 2:return t=e.sent,e.next=5,t.getSubscriptionProducts();case 5:data=e.sent,v.value=Object(L.c)({products:data.products,currentPlan:l.value?"lite":"basic"});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();y();var j=Object(c.i)("");return{liteAvailable:l,emit:m,screenOpen:f,mergedPlans:v,upsellError:j,handleError:function(e){Object(ce.a)(e),j.value=e}}},le.components=Object.assign({SideScreen:se.a,PlanComparisonTable:ie.a,FormFooter:oe.a},le.components);var ue=le,pe=Object(v.a)(ue,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SideScreen",{attrs:{"is-open":e.screenOpen},scopedSlots:e._u([{key:"headline",fn:function(){return[n("header",{staticClass:"flex items-center justify-between mb-8"},[n("h3",{staticClass:"text-3xl font-medium"},[e._v("\n        "+e._s(e.$t("upsellCreationScreenTitle"))+"\n      ")])])]},proxy:!0},{key:"subline",fn:function(){return[n("p",{staticClass:"mb-2"},[e._v("\n      "+e._s(e.$t("upsellCreationScreenText"))+"\n    ")])]},proxy:!0},{key:"body",fn:function(){return[e.mergedPlans?[e.upsellError.length?n("p",{staticClass:"p-4 bg-error-high text-white rounded-md mb-2"},[e._v("\n        "+e._s(e.upsellError)+"\n      ")]):e._e(),e._v(" "),n("PlanComparisonTable",{attrs:{"merged-plans":e.mergedPlans,"lite-available":e.liteAvailable},on:{close:function(t){return e.emit("close")},error:function(t){return e.handleError(t)},createLite:function(t){return e.emit("createLite")}}})]:e._e()]},proxy:!0},{key:"footer",fn:function(){return[n("FormFooter",{attrs:{config:"cancelOnly"},on:{cancel:function(t){return e.emit("close")}}})]},proxy:!0}])})}),[],!1,null,null,null).exports,de={name:"AddNewProject"};de.props={externalOpen:{type:Boolean,default:!1},subscriptionInfo:{type:Object,default:function(){}},availableSystemSizes:{type:Array,default:function(){return[]}},projectTypes:{type:Array,default:function(){return[]}},locations:{type:Array,default:function(){return[]}},userDetails:{type:Object,default:function(){}},navAliases:{type:Object,default:function(){}},newBought:{type:String,default:""}},de.setup=function(e,t){var n=e,r=t.emit,l=Object(c.l)(),d=l.i18n,m=l.$apiClient,f=Object(c.o)(),v=Object(c.p)(),y=Object(c.r)(),j=Object(c.i)(0),h=Object(c.i)(!1);Object(c.f)((function(){var e,t;h.value=window.location.host.includes("monitor.koality.io"),Object(ce.a)("availableSystemSizes",n.availableSystemSizes),form.systemSize=n.availableSystemSizes[0],form.location=1===(null===(e=n.locations)||void 0===e?void 0:e.length)?n.locations[0]:null,form.projectType=1===(null===(t=n.projectTypes)||void 0===t?void 0:t.length)?n.availableSystemSizes[0]:null;var r=Object.values(n.subscriptionInfo.systems_new).reduce((function(e,t){return e+t.systems_free}),0);form.url=n.newBought,Object(ce.a)("systemsNewFree",r),j.value=r}));var _=Object(c.h)({min:3,max:250}),O=Object(c.a)((function(){return form.name&&form.name.length>_.min-1?"projectCheckNameMaxError":form.name&&form.name.length<=_.max?"projectCheckNameMinError":""})),S=[{name:d.t("alerting.standards.default"),desc:d.t("alert_default_desc"),type:"standard"},{name:d.t("alerting.standards.none"),desc:d.t("alert_none_desc"),type:"none"}],x=Object(c.i)(!1),w=Object(c.i)(!1),P=Object(c.i)(!1),C=Object(c.a)((function(){return y.getters["navigation/getSublayout"]})),T=Object(c.a)((function(){return y.getters["navigation/getIsPaidEnabled"]})),z=Object(c.a)((function(){return!1})),$=Object(c.i)(null),form=Object(c.h)({projectType:null,systemSize:null,url:null,name:null,projectAlerting:S[0],location:{identifier:null,name:null},checkInterval:null}),E=Object(c.a)((function(){return form.url&&form.url.length>4&&Object(k.a)(form.url)})),L=Object(c.a)((function(){return form.name&&form.name.length>_.min-1&&form.name.length<=_.max})),U=Object(c.a)((function(){return E.value&&L.value&&form.projectType&&form.location&&form.systemSize&&form.checkInterval&&form.projectAlerting}));Object(c.s)((function(){return n.externalOpen}),(function(){n.externalOpen&&(w.value=!0,x.value=!0)}),{immediate:!0});var B=function(){var e;1!==n.availableSystemSizes.length&&(form.systemSize=null,form.checkInterval=null),1!==(null===(e=n.projectTypes)||void 0===e?void 0:e.length)&&(form.projectType=null),form.url=null,form.name=null,form.projectAlerting=null,form.location=null,$.value=null,x.value=!1;var t=f.value.query;window.sessionStorage.getItem("domainUrl")&&window.sessionStorage.removeItem("domainUrl"),Object.keys(t).length&&v.replace({query:void 0}),setTimeout((function(){y.dispatch("ui/resetNotMonitoredUpsell"),w.value=!1}),100)},M=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){var t,o,c,l,d,j,h,_,O,S,x,w,P,k,C,T,z,E=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E.length>0&&void 0!==E[0]&&E[0],e.prev=1,$.value=null,o=form.projectType,c=form.name,l=form.url,d=form.projectAlerting,j=form.location,h=form.systemSize,_=form.checkInterval,e.next=6,m.getRepository("system");case 6:return O=e.sent,e.next=9,O.createSystem({name:c,base_url:l,system_type:o.id,system_size:h.id,check_interval:_,owner:n.userDetails.id,add_standard_alerting:"standard"===d.type,location:j.identifier});case 9:return S=e.sent,x=S.project,w=S.system,e.next=14,y.dispatch("socket/getSocketData");case 14:return e.next=16,y.dispatch("projects/updateProject");case 16:t?(P=x.id,k=w.id,C=f.value,T=C.hash,delete(z=C.query).upsellCreationSuccess,y.dispatch("projects/setProjectSystem",{pid:P,sid:k}),setTimeout((function(){var e=n.navAliases.settingsList;v.push({path:"/".concat(P,"/").concat(k,"/").concat(e.path.replace("/[psid]/","")),hash:T,query:z})}),1e3)):r("saveProject",!0),B(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),console.error(e.t0),$.value=e.t0.message;case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e,t;null===form.projectType&&1===n.availableSystemSizes.length||["basic","unlimited-lite"].includes(null===(e=form.systemSize)||void 0===e?void 0:e.sku)?form.projectType=null===(t=n.projectTypes)||void 0===t?void 0:t[0]:form.projectType=null};Object(c.s)((function(){return form.systemSize}),(function(){var e;r("updateSystemSize",form.systemSize),D(),form.checkInterval="basic"===(null===(e=form.systemSize)||void 0===e?void 0:e.sku)?"day":"hour"}),{immediate:!0}),Object(c.s)((function(){return n.projectTypes}),(function(){D()}),{immediate:!0});var A=Object(c.a)((function(){return y.getters["ui/getNotMonitoredUpsell"]}));return Object(c.s)((function(){return A.value}),(function(e,t){if(e){var r=Object(c.a)((function(){return y.getters["ui/getNotMonitoredUpsellProject"]})),o=n.availableSystemSizes.some((function(e){return"unlimited-lite"!==e.sku}));j.value>0&&o?(form.url=r.value,w.value=!0,x.value=!0):(form.url=r.value,P.value=!0,y.dispatch("ui/openUpsellCreationScreen"))}})),{freeSystemsMerged:j,isKoalityIo:h,nameLength:_,checkNameMinMax:O,alertTypes:S,addNewProject:x,showAddNewProject:w,showBuyNewProject:P,sublayout:C,isPaidEnabled:T,isButtonDisabled:z,handleAddNew:function(){if(!z.value)if("cpanel"===C.value&&T.value){var e=n.availableSystemSizes.some((function(e){return"unlimited-lite"!==e.sku}));j.value>0&&e?(w.value=!0,x.value=!0):(P.value=!0,y.dispatch("ui/openUpsellCreationScreen"))}else w.value=!0,x.value=!0},handleCreateLite:function(){w.value=!0,x.value=!0,setTimeout((function(){y.dispatch("ui/closeUpsellCreationScreen"),P.value=!1}),100)},storeError:$,form:form,checkName:L,checkForm:U,updateUrl:function(e){form.url=e},updateLocation:function(e){form.location=e},closeForm:B,closeUpsellCreation:function(){y.dispatch("ui/closeUpsellCreationScreen");var e=f.value.query;Object.keys(e).length&&v.replace({query:void 0}),setTimeout((function(){y.dispatch("ui/resetNotMonitoredUpsell"),P.value=!1}),100)},storeProject:M,notYetMonitored:A}},de.components=Object.assign({GeneralButton:ae.a,UpsellCreationScreen:pe,SideScreen:se.a,InputField:te.a,FormLabel:ee.a,Multiselect:X.a,LocationSelect:Z.a,UrlInput:ne.a,Richtext:re.a,FormFooter:oe.a},de.components);var me=de,be=(n(937),n(974),Object(v.a)(me,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{class:[{"flex flex-col flex-shrink gap-2":"cpanel"===e.sublayout}]},["cpanel"===e.sublayout&&e.isPaidEnabled?n("p",{staticClass:"font-light flex gap-2 justify-start lg:justify-end items-center mb-2"},[n("span",[e._v("\n        "+e._s(e.$tc("ProjectsRemaining",e.freeSystemsMerged))+"\n      ")]),e._v(" "),n("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("ProjectExplanation"),popperOptions:{modifiers:{computeStyle:{gpuAcceleration:!1}}}},expression:"{content: $t('ProjectExplanation'), popperOptions: { modifiers: { computeStyle: {gpuAcceleration: false}}} }"}],staticClass:"w-4 h-4 rounded-full text-white flex-center ml-2 text-xs leading-none bg-gray-400 font-medium flex-shrink-0 flex-grow-0 cursor-pointer",staticStyle:{"margin-top":"-2px"}},[e._v("\n        ?\n      ")])]):e._e(),e._v(" "),"cpanel"!==e.sublayout||"cpanel"===e.sublayout&&(e.freeSystemsMerged>0||e.isPaidEnabled)?n("GeneralButton",{attrs:{"is-disabled":e.isButtonDisabled,size:"px-4 py-2"},nativeOn:{click:function(t){return e.handleAddNew.apply(null,arguments)}}},[e._v("\n      "+e._s(e.$t("addNewMainProject"))+"\n      "),e.freeSystemsMerged>0&&"cpanel"!==e.sublayout?n("span",[e._v("\n        ("+e._s(e.$tc("ProjectCount",e.freeSystemsMerged))+")\n      ")]):e._e()]):e._e()],1),e._v(" "),e.showBuyNewProject?n("UpsellCreationScreen",{attrs:{"available-system-sizes":e.availableSystemSizes},on:{close:e.closeUpsellCreation,createLite:e.handleCreateLite}}):e._e(),e._v(" "),e.showAddNewProject?n("SideScreen",{attrs:{"is-open":e.addNewProject,error:e.storeError},scopedSlots:e._u([{key:"headline",fn:function(){return[e._v("\n      "+e._s(e.$t("addNewMainProject"))+"\n    ")]},proxy:!0},{key:"body",fn:function(){return[e.freeSystemsMerged>0?[n("div",{staticClass:"mb-4"},[n("InputField",{attrs:{name:"name",required:!0,error:e.form.name&&!e.checkName?e.$t(e.checkNameMinMax,{},{min:e.nameLength.min,max:e.nameLength.max}):""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}},[e._v("\n            "+e._s(e.$t("mainProjectName"))+"\n          ")])],1),e._v(" "),e.isKoalityIo?e._e():n("div",{staticClass:"mb-4"},[n("FormLabel",{attrs:{required:!!e.isKoalityIo}},[e._v("\n            "+e._s(e.$t("mainSystemSize"))+"\n          ")]),e._v(" "),e.availableSystemSizes.length>1?n("multiselect",{attrs:{disabled:1===e.availableSystemSizes.length,options:e.availableSystemSizes,"select-label":"","allow-empty":!1,"custom-label":function(option){return option.id?e.$t("systemSizeOptions."+option.sku+".title"):""},"track-by":"id","deselect-label":"",placeholder:"","internal-search":!1,searchable:!1,"selected-label":""},scopedSlots:e._u([{key:"option",fn:function(t){return[n("div",{staticClass:"option__desc"},[n("div",{staticClass:"option__title"},[e._v("\n                  "+e._s(e.$t("systemSizeOptions."+t.option.sku+".title"))+"\n                  "),n("div",{staticClass:"text-sm mt-2 leading-relaxed break-words whitespace-normal"},[e._v("\n                    "+e._s(e.$t("systemSizeOptions."+t.option.sku+".description"))+"\n                  ")])])])]}}],null,!1,3070791448),model:{value:e.form.systemSize,callback:function(t){e.$set(e.form,"systemSize",t)},expression:"form.systemSize"}}):n("div",{staticClass:"px-4 border py-2 rounded border-gray-300 cursor-default select-none"},[e._v("\n            "+e._s(e.$t("systemSizeOptions."+e.availableSystemSizes[0].sku+".title"))+"\n          ")])],1),e._v(" "),e.projectTypes&&e.projectTypes.length>1?n("div",{staticClass:"mb-4"},[n("FormLabel",{attrs:{required:!0}},[e._v("\n            "+e._s(e.$t("mainProjectType"))+"\n          ")]),e._v(" "),n("multiselect",{staticClass:"cursor-pointer",attrs:{disabled:!e.form.systemSize,options:e.projectTypes,"select-label":"","allow-empty":!1,label:"name","track-by":"id","deselect-label":"",placeholder:"","internal-search":!1,searchable:!1,"selected-label":""},scopedSlots:e._u([{key:"option",fn:function(t){return[n("div",{staticClass:"option__desc"},[n("div",{staticClass:"option__title"},[e._v("\n                  "+e._s(t.option.name)+"\n                  "),n("div",{staticClass:"text-sm mt-2 leading-relaxed break-words whitespace-normal"},[e._v("\n                    "+e._s(t.option.description)+"\n                  ")])])])]}}],null,!1,3529658402),model:{value:e.form.projectType,callback:function(t){e.$set(e.form,"projectType",t)},expression:"form.projectType"}})],1):e._e(),e._v(" "),n("div",{staticClass:"mb-4"},[n("LocationSelect",{attrs:{locations:e.locations,location:e.form.location},on:{updateLocation:e.updateLocation}},[e._v("\n            "+e._s(e.$t("locationSelectTitle"))+"*\n          ")])],1),e._v(" "),n("div",{staticClass:"mb-4",attrs:{id:"projectUrl"}},[n("UrlInput",{attrs:{"not-yet-monitored":e.notYetMonitored||e.newBought.length>0,url:e.notYetMonitored||e.newBought.length>0?e.form.url:""},on:{urlInput:e.updateUrl},scopedSlots:e._u([{key:"urlProtocol",fn:function(){return[e._v("\n              "+e._s(e.$t("protocol"))+"\n            ")]},proxy:!0}],null,!1,3961957930)})],1),e._v(" "),n("div",{staticClass:"mb-4",attrs:{id:"alerting"}},[n("FormLabel",{attrs:{required:!1}},[e._v("\n            "+e._s(e.$t("addStandardAlerting"))+"\n          ")]),e._v(" "),n("multiselect",{staticClass:"cursor-pointer",attrs:{options:e.alertTypes,"select-label":"","open-direction":"top","allow-empty":!1,label:"name","deselect-label":"",placeholder:"","internal-search":!1,searchable:!1,"selected-label":""},scopedSlots:e._u([{key:"option",fn:function(t){return[n("div",{staticClass:"option__desc"},[n("div",{staticClass:"option__title"},[e._v("\n                  "+e._s(t.option.name)+"\n                  "),n("div",{staticClass:"text-sm mt-2"},[n("Richtext",{staticClass:"leading-relaxed break-words whitespace-normal",attrs:{content:t.option.desc}})],1)])])]}}],null,!1,1142890286),model:{value:e.form.projectAlerting,callback:function(t){e.$set(e.form,"projectAlerting",t)},expression:"form.projectAlerting"}})],1)]:[n("p",{staticClass:"font-light mb-4"},[e._v("\n          "+e._s(e.$t("subscriptions.messages.bookedUp"))+"\n        ")]),e._v(" "),"cpanel"!==e.sublayout?n("GeneralButton",{attrs:{"link-path":"dashboard/customerSubscriptions",size:"px-4 py-2"}},[e._v("\n          "+e._s(e.$t("subscriptions.toTheSubscription"))+"\n        ")]):e._e()]]},proxy:!0},{key:"footer",fn:function(){return[n("FormFooter",{attrs:{config:e.freeSystemsMerged>0?"store":"cancelOnly","is-store-able":!!e.checkForm},on:{cancel:e.closeForm,store:function(t){return e.storeProject(!0)}}})]},proxy:!0}],null,!1,674335374)}):e._e()],1)}),[],!1,null,null,null)),fe=be.exports,ve=n(920),ge=n(21),ye={setup:function(e,t){return{disabledFeature:ge.b,hbPerformanceCustomerLink:!1}}};ye.components=Object.assign({GeneralButton:ae.a},ye.components);var je=ye,he=Object(v.a)(je,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.disabledFeature("dashboard:allProjects:trialUserCTA:forKoality")?e._e():n("GeneralButton",{attrs:{"custom-color":"text-black bg-forth-regular hover:bg-forth-light",size:"px-4 py-2","link-path":"./dashboard/customerDetails"}},[n("svg",{staticClass:"w-5 mr-3",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"}},[n("path",{attrs:{d:"M527.9 32H48.1C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48.1 48h479.8c26.6 0 48.1-21.5 48.1-48V80c0-26.5-21.5-48-48.1-48zM54.1 80h467.8c3.3 0 6 2.7 6 6v42H48.1V86c0-3.3 2.7-6 6-6zm467.8 352H54.1c-3.3 0-6-2.7-6-6V256h479.8v170c0 3.3-2.7 6-6 6zM192 332v40c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12zm192 0v40c0 6.6-5.4 12-12 12H236c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12z"}})]),e._v("\n    "+e._s(e.$t("requestAnOffer"))+"\n  ")]),e._v(" "),e.hbPerformanceCustomerLink&&!e.disabledFeature("dashboard:allProjects:trialUserCTA:forHB")?n("a",{staticClass:"rounded transition-all duration-300 cursor-pointer border-0 focus:outline-none text-black bg-forth-regular hover:bg-forth-light px-4 py-2 inline-block",attrs:{href:e.hbPerformanceCustomerLink,target:"_blank"}},[n("span",{staticClass:"flex items-center justify-center"},[n("svg",{staticClass:"w-5 mr-3",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"}},[n("path",{attrs:{d:"M527.9 32H48.1C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48.1 48h479.8c26.6 0 48.1-21.5 48.1-48V80c0-26.5-21.5-48-48.1-48zM54.1 80h467.8c3.3 0 6 2.7 6 6v42H48.1V86c0-3.3 2.7-6 6-6zm467.8 352H54.1c-3.3 0-6-2.7-6-6V256h479.8v170c0 3.3-2.7 6-6 6zM192 332v40c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12zm192 0v40c0 6.6-5.4 12-12 12H236c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12z"}})]),e._v("\n      Ich will 'HB Performance-Check'-Kunde werden\n    ")])]):e._e()],1)}),[],!1,null,null,null).exports,_e={setup:function(e,t){return{features:{title:"planIncludes",list:{domainQuantity:{n:1},uptimeMetricsQuantity:{n:1,n2:"hours"},otherMetricsQuantity:{n:1,n2:"weeks"}},upsell:"comingSoonNotice"}}}},Oe=_e,Se=Object(v.a)(Oe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"py-2 mb-2 self-stretch"},[n("span",{staticClass:"font-bold"},[e._v(e._s(e.$t(e.features.title)))]),e._v(" "),n("p",{staticClass:"font-light"},[n("ul",e._l(e.features.list,(function(t,r){return n("li",{key:r},[e._v("\n        - "+e._s(e.$tc("planFeatures."+r,t.n,Object.assign({},t,{n2:e.$tc(t.n2,t.n1,t.n1)})))+"\n      ")])})),0)])])}),[],!1,null,null,null).exports,xe={name:"PageOverview",setup:function(e,t){var n=Object(c.r)(),l=Object(c.o)(),d=Object(c.p)(),m=Object(c.l)().$apiClient,f=Object(c.i)(!1),v=Object(c.i)(null),y=Object(c.i)(null),j=Object(c.i)(null),h=Object(c.i)(null),_=Object(c.i)(),O=Object(c.i)(!1),S=Object(c.i)(null),x=Object(ve.a)().projects,C=Object(c.a)((function(){return n.getters["access/getUserDetails"]})),T=Object(c.a)((function(){return C.value.company?C.value.company.name:" "})),z=Object(c.a)((function(){return n.getters["access/getDemouser"]})),$=Object(c.a)((function(){return n.getters["access/getTrialuser"]})),E=Object(c.a)((function(){return n.getters["projects/getProjects"]})),U=Object(c.a)((function(){return n.getters["navigation/getNavAliases"]})),B=Object(c.a)((function(){return n.getters["navigation/getSublayout"]})),M=Object(c.a)((function(){return n.getters["navigation/getIsPaidEnabled"]})),D=Object(c.a)((function(){return n.getters["ui/getIsFirstLogin"]})),A=Object(c.a)((function(){return n.getters["navigation/getPolling"]})),F=Object(c.i)(),N=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t?void 0:t.id){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,m.getRepositoryCollection().then((function(e){return e.getSystemRepository()}));case 5:return n=e.sent,Object(ce.a)("Systemsize Sent",t),e.next=9,n.getSystemTypes(Object(ge.f)().apiApplication,t.id);case 9:data=e.sent,j.value=data.main_system_types,Object(ce.a)("ProjectTypes Retrieved",j.value),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0),v.value=e.t0.message;case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),R=Object(c.m)(Object(o.a)(regeneratorRuntime.mark((function e(){var t,n,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,v.value=null,e.next=6,m.getRepositoryCollection().then((function(e){return e.getSubscriptionRepository()}));case 6:return n=e.sent,e.next=9,m.getRepositoryCollection().then((function(e){return e.getLocationRepository()}));case 9:return o=e.sent,e.next=12,o.list();case 12:return c=e.sent,S.value=c,e.next=16,n.getCompanySubscription(C.value.company.id);case 16:y.value=e.sent,l=(null===(t=y.value)||void 0===t?void 0:t.systems_new)||{},d=function(data){var e=Object.entries(data).map((function(e){var t=Object(r.a)(e,2),n=t[0],o=t[1];return{id:o.id,name:n,sku:o.sku,systems_free:o.systems_free}}));return _.value=e.filter((function(e){return void 0!==e.systems_free&&e.systems_free>0})),e},h.value=d(l),Object(ce.a)("systemSizes",h.value),Object(ce.a)("Available Systemsizes",_.value),_.value&&N(null==_?void 0:_.value[0]),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(2),console.error(e.t0),v.value=e.t0.message;case 29:O.value=!0;case 30:case"end":return e.stop()}}),e,null,[[2,25]])})))),I=(R.fetch,R.fetchState),H=function(){return E.value.find((function(e){return"unlimited-lite"===e.systems[0].size_sku}))},Y=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,o,f,v,y,j,path;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.setMemory("koality","isFirstLogin","".concat(t));case 2:return e.next=4,m.getWakeUpToken();case 4:o=e.sent,n.dispatch("ui/setFirstLogin",t),"true"!==JSON.parse(o).master.user.memories.isFirstLogin&&H()&&(f=H().id,v=null===(r=H().systems[0])||void 0===r?void 0:r.id,y=Object(c.i)(),Object(w.b)(H().onboarding.details)?y.value=Object(k.d)(P.a,f,v,l.value):(j=Object(w.a)(H().onboarding.details),path=j.path,y.value=Object(k.d)(path,f,v,l.value)),n.dispatch("projects/setProjectSystem",{pid:f,sid:v}),d.push(y.value));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=Object(c.i)(),V=Object(c.i)(!1),G=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){var t,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getRepository("subscription");case 2:return t=e.sent,e.next=5,t.getSubscriptionProducts();case 5:data=e.sent,K.value=Object(L.c)({products:data.products,currentPlan:"lite"}),V.value=!0;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();G();var J=Object(c.i)(""),W=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,r,o,code,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,r=void 0===n?"":n,o=t.code,code=void 0===o?"":o,!H()){e.next=19;break}return e.prev=2,e.next=5,m.getRepositoryCollection().then((function(e){return e.getSubscriptionRepository()}));case 5:return c=e.sent,l=location.href,e.next=9,c.updateSubscriptionByProject(H().id,{price_id:r,success_url:l,cancel_url:l,two_factor_code:code});case 9:return d=e.sent,e.next=12,m.setMemory("koality","isFirstLogin","false");case 12:window.location.href=d.session.url,e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),J.value=e.t0.message,console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.s)(l,(function(){var e=l.value.query;if(e.newProject||e.upsellCreationSuccess){f.value=!0;var t=window.sessionStorage.getItem("domainUrl");t&&(F.value=t)}}),{immediate:!0}),{openCreateProject:f,error:v,subscriptionInfo:y,projectTypes:j,systemSizes:h,availableSystemSizes:_,loaded:O,locations:S,projects:x,user:C,segmentSubtitle:T,isDemouser:z,isTrialuser:$,navAliases:U,sublayout:B,isPaidEnabled:M,isFirstLogin:D,polling:A,newBought:F,fetchProjectTypes:N,fetchState:I,mergedPlans:K,plansReady:V,handleClose:function(){H()&&Y(!1)},handleUpgrade:W}}};xe.components=Object.assign({LoadingSpinner:W.a,SegmentHeader:l.a,KoalityTrialCTA:he,PlanIncludes:Se,AddNewProject:fe,ProjectOverview:J,PlanComparisonTable:ie.a},xe.components);var we=xe,Pe=Object(v.a)(we,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.fetchState.pending&&!e.loaded&&e.polling?n("LoadingSpinner"):n("div",[e.polling||!(e.projects&&(e.projects.length>1||0===e.projects.length)||"true"!==e.isFirstLogin)&&e.isPaidEnabled&&"cpanel"===e.sublayout?e.polling?e._e():n("div",[e.plansReady?n("div",{staticClass:"p-2"},[n("div",{staticClass:"mb-2"},[n("h1",{staticClass:"text-2xl"},[n("span",{staticClass:"font-medium"},[e._v(" "+e._s(e.$t("ChooseYourSubscription")))])]),e._v(" "),n("p",{staticClass:"mt-4 font-light"},[e._v("\n          "+e._s(e.$t("WelcomeSubscriptionUpsellDescription"))+"\n        ")])]),e._v(" "),n("PlanComparisonTable",{key:"lite",attrs:{"merged-plans":e.mergedPlans,"actual-sku":"lite",type:"upsell"},on:{upgrade:function(t){return e.handleUpgrade(t)},close:e.handleClose}})],1):n("LoadingSpinner")],1):n("div",[n("SegmentHeader",{attrs:{"sub-title":e.segmentSubtitle}}),e._v(" "),e.$fetchState.pending?n("LoadingSpinner"):[e.isTrialuser||!e.isDemouser?n("div",{staticClass:"lg:flex flex-wrap gap-6",class:[{"mb-8":"cpanel"!==e.sublayout},{"mb-2 flex justify-start lg:justify-end":"cpanel"===e.sublayout}]},[e.isTrialuser?n("KoalityTrialCTA",{staticClass:"flex-shrink-0 mb-4"}):e._e(),e._v(" "),"cpanel"!==e.sublayout||e.isPaidEnabled||e.polling?e._e():n("PlanIncludes",{staticClass:"w-full"}),e._v(" "),"cpanel"!==e.sublayout&&!e.isDemouser||"cpanel"===e.sublayout&&(e.isPaidEnabled||0===e.projects.length)?n("AddNewProject",{attrs:{"external-open":e.openCreateProject,"new-bought":e.newBought,"subscription-info":e.subscriptionInfo,"project-types":e.projectTypes,"system-sizes":e.systemSizes,"available-system-sizes":e.availableSystemSizes,locations:e.locations,error:e.error,"user-details":e.user,"nav-aliases":e.navAliases},on:{saveProject:e.$fetch,update:e.$fetch,updateSystemSize:function(t){return e.fetchProjectTypes(t)}}}):e._e()],1):e._e(),e._v(" "),e.projects&&e.projects.length?n("ProjectOverview",{attrs:{projects:e.projects}}):e._e()]],2)])}),[],!1,null,null,null);t.default=Pe.exports},917:function(e,t,n){"use strict";var r=n(1),o=n(67),c={name:"PlanTag"};c.props={actualSku:{type:String,required:!0},clickable:{type:Boolean,default:!1}},c.setup=function(e,t){var n=Object(r.a)((function(){return Object(o.a)(c.actualSku)})),c=e;return{checkedSku:n,props:c}};var l=c,d=n(4),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.props.actualSku.length?n("div",{staticClass:"text-sm capitalize px-2 rounded-md text-center justify-center hover:cursor-default transition duration-300 ease-in-out border border-gray-200",class:[{"hover:!cursor-pointer hover:opacity-90":e.props.clickable}]},[e._v("\n  "+e._s(e.checkedSku)+"\n")]):e._e()}),[],!1,null,null,null);t.a=component.exports},920:function(e,t,n){"use strict";var r=n(9),o=n(11),c=(n(25),n(39),n(17),n(15),n(68),n(40),n(30),n(16),n(27),n(19),n(28),n(1));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m=function(e){return Object.keys(e.scores).map((function(t){var n=e.scores[t].master;return{id:t,title:n.title,score:n.score,status:n.status,subScores:e.scores[t].sub_scores.map((function(e){return{status:e.status,score:e.score,id:e.identifier,title:e.title}}))}}))},f=function(e,t,n){return Object.keys(e).map((function(r){var o,c,l=e[r],d=t.value.find((function(e){return e.id===l.project.id})),f=d.onboarding.completed,v=(o=l.systems,c=d,Object.keys(o).map((function(e){var t,n=c.systems.find((function(t){return t.id===parseInt(e)}));return{id:o[e].system.id,domain:n.domain,type:null===(t=n.system_type)||void 0===t?void 0:t.name,scores:o[e].scores,size_sku:n.size_sku}})))[0],y=function(e,t){var n=t.filter((function(t){return Number(t.pid)===Number(e)}));return 0===n.length?null:!!n.find((function(e){return"failure"===e.status}))}(l.project.id,n);return{domain:v.domain||"",name:l.project.name,pid:l.project.id,sid:v.id,scores:m(v),pluginState:y,type:v.type||"",onBoarding:f,size_sku:v.size_sku}}))},v=function(e){return e.map((function(e){return d(d({},e),{},{warning:null!==e.pluginState&&e.pluginState||!!e.scores.find((function(e){return"bad"===e.status&&e.score>=0}))})}))};t.a=function(){var e=Object(c.l)(),t=e.store,n=e.$apiClient,o=Object(c.a)((function(){return t.getters["projects/getProjects"]})),l=Object(c.a)((function(){return t.getters["access/getUserId"]})),d=Object(c.a)((function(){return t.getters["navigation/getPluginIncidents"]})),m=Object(c.i)(null);return Object(c.m)(Object(r.a)(regeneratorRuntime.mark((function e(){var t,r,c,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getRepository("score");case 3:return t=e.sent,e.next=6,t.getScoresByUser(l.value,{scores:["basic-uptime","basic-performance","basic-seo","basic-content","basic-tech","basic-security"],with_sub_scores:!0,filter_empty_projects:!0});case 6:r=e.sent,c=r.scores,y=f(c,o,d.value),m.value=v(y),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))),{projects:m}}},935:function(e,t,n){e.exports={}},936:function(e,t,n){e.exports={}},939:function(e,t,n){e.exports={}},971:function(e,t,n){"use strict";n(935)},972:function(e,t,n){"use strict";n(936)},974:function(e,t,n){"use strict";n(939)}}]);