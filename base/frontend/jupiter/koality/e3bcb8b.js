(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{1034:function(t,e,n){"use strict";n.r(e);var r=n(14),o=n(9),c=(n(25),n(22),n(41),n(31),n(1)),l=n(723),d=n(285),v=n(902),_=n(909),m=n(910),f=(n(68),n(32),n(69),n(466),{name:"SubscriptionFormPricing"});f.props={subscriptionInfo:{type:Object,required:!0},projects:{type:Number,default:0}},f.setup=function(t,e){var n=t,r=Object(c.h)({systems_all:0,systems_used:0});return Object(c.f)((function(){var t,e,o,c;r.systems_all=(null===(e=null===(t=n.subscriptionInfo.systems_new)||void 0===t?void 0:t.pro)||void 0===e?void 0:e.systems_all)||n.subscriptionInfo.systems.systems_all,r.systems_used=(null===(c=null===(o=n.subscriptionInfo.systems_new)||void 0===o?void 0:o.pro)||void 0===c?void 0:c.systems_used)||n.subscriptionInfo.systems.systems_used})),{pricing:function(t){var e=n.subscriptionInfo,r=e.price_per_project,o=e.tax_rate,c=n.projects,l=parseInt(r);return"".concat({base:l,price:c*l,vat:c*l/100*o,sum:c*l+c*l/100*o}[t].toFixed(2)," EUR").replace(".",",")},systemsNew:r}};var h=f,y=(n(977),n(4)),j=Object(y.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid-subscriptionPricing"},[n("div",{staticClass:"grid-subscriptionPricing__booked"},[n("div",{staticClass:"text-sm font-light mb-1"},[t._v("\n      "+t._s(t.$t("numberOfProjects"))+"\n    ")]),t._v("\n    "+t._s(t.systemsNew.systems_all)+"\n  ")]),t._v(" "),n("div",{staticClass:"grid-subscriptionPricing__used"},[n("div",{staticClass:"text-sm font-light mb-1"},[t._v("\n      "+t._s(t.$t("usedProjects"))+"\n    ")]),t._v("\n    "+t._s(t.systemsNew.systems_used)+"\n  ")]),t._v(" "),n("div",{staticClass:"grid-subscriptionPricing__projects"},[n("div",{staticClass:"text-sm font-light mb-1"},[t._v("\n      "+t._s(t.$t("newProjectCount"))+"\n    ")]),t._v("\n    "+t._s(t.projects)+"\n  ")]),t._v(" "),n("div",{staticClass:"grid-subscriptionPricing__base"},[n("div",{staticClass:"text-sm font-light mb-1"},[t._v("\n      "+t._s(t.$t("basePrice"))+"\n    ")]),t._v("\n    "+t._s(t.pricing("base"))+"\n  ")]),t._v(" "),n("div",{staticClass:"grid-subscriptionPricing__sum font-light border-t border-gray-300 mt-3 pt-3"},[n("div",[t._v("\n      "+t._s(t.$t("monthlyCosts"))+" "+t._s(t.pricing("price"))+"\n    ")]),t._v(" "),n("div",[t._v("\n      "+t._s(t.subscriptionInfo.tax_rate)+"% "+t._s(t.$t("VAT"))+". "+t._s(t.pricing("vat"))+"\n    ")]),t._v(" "),n("div",{staticClass:"mt-2"},[t._v("\n      "+t._s(t.$t("Total"))+" "),n("strong",[t._v(t._s(t.pricing("sum")))])])])])}),[],!1,null,null,null).exports,x=n(288),C=n(287),w=n(878),O={name:"SubscriptionForm"};O.props={subscriptionInfo:{type:Object,required:!0},billingAddress:{type:Object,required:!0},limitMaxProjects:{type:Number,default:30},trial:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},userDetails:{type:Object,required:!0}},O.setup=function(t,e){var n,r=t,l=e.emit,d=Object(c.l)().$apiClient,v=Object(c.r)(),_=Object(c.i)(0),m=Object(c.i)(!1),f=Object(c.i)(0),h=Object(c.i)(null),y=Object(c.h)({systems_used:0,systems_all:0});Object(c.f)((function(){var t,e;y.systems_used=(null===(e=null===(t=r.subscriptionInfo.systems_new)||void 0===t?void 0:t.pro)||void 0===e?void 0:e.systems_used)||r.subscriptionInfo.systems.systems_used}));var j=(null===(n=r.subscriptionInfo.systems_new)||void 0===n?void 0:n.pro)||r.subscriptionInfo.systems,x=j.systems_all,C=j.systems_used;_.value=x>0?x:0,f.value=C;Object(c.a)((function(){return r.trial||_.value!==r.subscriptionInfo.systems.systems_all}));var w=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h.value=null,t.prev=1,t.next=4,d.getRepository("subscription");case 4:return e=t.sent,t.next=7,e.setCompanyCreditCardPlans(r.userDetails.company.id,{quantity:_.value});case 7:v.dispatch("access/resetTrial"),l("payed"),l("update"),l("cancel"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),console.error(t.t0),h.value=t.t0.message;case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(){return t.apply(this,arguments)}}();return{projects:_,sliderIsUsed:m,minSelectableProjects:f,error:h,systemsNew:y,cancel:function(){l("cancel"),l("update")},storeing:w}},O.components=Object.assign({SideScreen:x.a,InfoBox:w.a,SubscriptionFormPricing:j,FormFooter:C.a},O.components);var S=O,T=(n(978),Object(y.a)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("SideScreen",{attrs:{"is-open":t.isOpen,"is-mounted":t.isOpen,error:t.error},scopedSlots:t._u([{key:"headline",fn:function(){return[t._v("\n    "+t._s(t.$t("modifySubscription"))+"\n  ")]},proxy:!0},{key:"body",fn:function(){return[t.trial?n("p",{staticClass:"font-light text-sm mt-4"},[t._v("\n      "+t._s(t.$t("subscriptions.isTrial"))+"\n    ")]):t._e(),t._v(" "),n("div",{staticClass:"px-6 mb-5 mt-3 pt-8"},[n("vue-slider",{attrs:{height:14,silent:!0,min:t.minSelectableProjects,max:t.limitMaxProjects,"process-style":{backgroundColor:"#27ae60"},"tooltip-style":{backgroundColor:"#111316",borderColor:"#111316"},"tooltip-formatter":t.$tc("project",t.projects)},on:{"drag-end":function(e){t.sliderIsUsed=!0}},scopedSlots:t._u([{key:"dot",fn:function(t){t.value;var e=t.focus;return[n("div",{class:["custom-dot",{focus:e}]})]}}]),model:{value:t.projects,callback:function(e){t.projects=e},expression:"projects"}})],1),t._v(" "),t.projects>=30||t.projects>0&&t.systemsNew.systems_used===t.projects&&t.sliderIsUsed?n("InfoBox",[t.projects>=30?[t._v("\n        "+t._s(t.$t("subscriptions.needMoreProjects"))+"\n        "),n("a",{staticClass:"underline hover:no-underline",attrs:{href:"mailto:sales@koality.io"}},[t._v("sales@koality.io")])]:t._e(),t._v(" "),t.projects>0&&t.systemsNew.systems_used===t.projects&&t.sliderIsUsed?[t._v("\n        "+t._s(t.$t("subscriptions.reduceProjects"))+"\n      ")]:t._e()],2):t._e(),t._v(" "),n("SubscriptionFormPricing",{staticClass:"mb-2",attrs:{"subscription-info":t.subscriptionInfo,projects:t.projects}})]},proxy:!0},{key:"footer",fn:function(){return[n("FormFooter",{attrs:{config:"store"},on:{cancel:t.cancel,store:t.storeing}})]},proxy:!0}])})}),[],!1,null,null,null).exports),k=n(80),$=n(21),D={name:"SubscriptionProjects"};D.props={apiData:{type:Object,default:function(){}},userDetails:{type:Object,default:function(){}},trialState:{type:Boolean,default:!1}},D.setup=function(t,e){var n=t,r=Object(c.l)().i18n,o=Object(c.i)(!1),l=Object(c.i)(!1),d=Object(c.a)((function(){return!!n.apiData.info.credit_card})),v=Object(c.a)((function(){if(null!==n.apiData.address){var t=n.apiData.address,e=t.company_name,r=t.post_code,o=t.city,c=t.street,l=t.country;return!!((null==e?void 0:e.length)&&(null==r?void 0:r.length)&&(null==o?void 0:o.length)&&(null==c?void 0:c.length)&&(null==l?void 0:l.length))}})),_=Object(c.a)((function(){return!!n.apiData.info.plans.invoice})),m=Object(c.a)((function(){return"".concat(r.n(n.apiData.info.price_per_project*n.apiData.info.systems.systems_all,"currency")," Euro")})),f=Object(c.h)({systems_used:0,systems_free:0,systems_all:0});return Object(c.f)((function(){var t,e,r,o,c,l;f.systems_used=null===(e=null===(t=n.apiData.info.systems_new)||void 0===t?void 0:t.pro)||void 0===e?void 0:e.systems_used,f.systems_all=null===(o=null===(r=n.apiData.info.systems_new)||void 0===r?void 0:r.pro)||void 0===o?void 0:o.systems_all,f.systems_free=null===(l=null===(c=n.apiData.info.systems_new)||void 0===c?void 0:c.pro)||void 0===l?void 0:l.systems_free})),{disabledFeature:$.b,openSideScreen:o,payed:l,maintainedCreditCards:d,maintainedAddress:v,isInvoice:_,monthPrice:m,systemsNew:f}},D.components=Object.assign({GeneralButton:k.a,SubscriptionForm:T},D.components);var P=D,A=Object(y.a)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.apiData?n("div",[n("div",{staticClass:"font-light text-lg mb-6"},[t._v("\n    "+t._s(t.$t("subscriptions.projects.headline"))+"\n  ")]),t._v(" "),n("div",{staticClass:"flex mb-2 flex-wrap -mx-4 overflow-hidden"},[n("div",{staticClass:"flex-auto px-4 min-w-150 mb-4"},[n("div",{staticClass:"text-sm font-light mb-1"},[t._v("\n        "+t._s(t.$t("packageName"))+"\n      ")]),t._v(" "),!t.payed&&t.trialState?[t._v("\n        "+t._s(t.$t("subscriptions.Trial"))+"\n      ")]:[t._v("\n        "+t._s(t.$t("subscriptions.BasicPackage"))+"\n      ")]],2),t._v(" "),n("div",{staticClass:"w-1/5 px-4 min-w-150 mb-4"},[n("div",{staticClass:"text-sm font-light mb-1"},[t._v("\n        "+t._s(t.$t("numberOfProjects"))+"\n      ")]),t._v("\n      "+t._s(t.systemsNew.systems_all)+"\n    ")]),t._v(" "),n("div",{staticClass:"w-1/5 px-4 min-w-150 mb-4"},[n("div",{staticClass:"text-sm font-light mb-1"},[t._v("\n        "+t._s(t.$t("usedProjects"))+"\n      ")]),t._v("\n      "+t._s(t.systemsNew.systems_used)+"\n    ")]),t._v(" "),t.disabledFeature("dashboard:customerData:subscriptions:projectsTable:monthlyCostsColumn")?t._e():n("div",{staticClass:"w-1/5 px-4 min-w-150 mb-4"},[n("div",{staticClass:"text-sm font-light mb-1"},[t._v("\n        "+t._s(t.$t("monthlyCosts"))+"\n      ")]),t._v(" "),t.trialState?[t._v("\n        0,00 Euro\n      ")]:[t._v("\n        "+t._s(t.monthPrice)+" "),n("br"),t._v(" "),n("div",{staticClass:"text-xs text-gray-700 font-light"},[t._v("\n          "+t._s(t.$tc("subscriptions.taxRate",0,{n:t.apiData.info.tax_rate}))+"\n        ")])]],2)]),t._v(" "),t.isInvoice||t.disabledFeature("dashboard:customerData:subscriptions:projects:modifySubscription")?t._e():n("GeneralButton",{attrs:{size:"px-4 py-2","is-disabled":!t.maintainedCreditCards||!t.maintainedAddress},nativeOn:{click:function(e){(t.maintainedCreditCards||t.maintainedAddress)&&(t.openSideScreen=!0)}}},[t._v("\n    "+t._s(t.$t("modifySubscription"))+"\n  ")]),t._v(" "),t.isInvoice&&!t.disabledFeature("dashboard:userData:subscription:changeProjectCount")?n("div",{staticClass:"bg-third-400 border border-solid border-third-regular rounded p-4 mt-6"},[t._v("\n    "+t._s(t.$t("subscriptions.invoiceInfoText"))+"\n    "),n("a",{staticClass:"underline hover:no-underline",attrs:{href:"mailto:support@koality.io?subject=Änderung%20der%20Projektanzahl%20für%20"+t.apiData.address.company_name}},[t._v("\n      support@koality.io\n    ")])]):t._e(),t._v(" "),t.disabledFeature("dashboard:userData:subscription:infoBox")?n("div",{staticClass:"bg-third-400 border border-solid border-third-regular rounded p-4 mt-6"},[t._v("\n    "+t._s(t.$t("contactProvider"))+"\n  ")]):t._e(),t._v(" "),t.disabledFeature("dashboard:customerData:subscriptions:projects:completeData")||t.maintainedCreditCards&&t.maintainedAddress?t._e():n("div",{staticClass:"bg-third-400 border border-solid border-third-regular rounded p-4 mt-6"},[n("p",{staticClass:"mb-4"},[t._v("\n      "+t._s(t.$t("subscriptions.transmitData"))+":\n    ")]),t._v(" "),n("ul",{staticClass:"list-disc list-inside"},[t.maintainedAddress?t._e():n("li",[n("n-link",{staticClass:"underline hover:no-underline",attrs:{to:"customerDetails"}},[t._v("\n          "+t._s(t.$t("subscriptions.addressData"))+"\n        ")])],1),t._v(" "),t.maintainedCreditCards?t._e():n("li",[n("n-link",{staticClass:"underline hover:no-underline",attrs:{to:"customerDetails"}},[t._v("\n          "+t._s(t.$t("subscriptions.creditCardData"))+"\n        ")])],1)])]),t._v(" "),n("SubscriptionForm",t._g({attrs:{"is-open":t.openSideScreen,"subscription-info":t.apiData.info,"billing-address":t.apiData.address,trial:t.trialState,"user-details":t.userDetails},on:{cancel:function(e){t.openSideScreen=!1},payed:function(e){t.payed=!0}}},t.$listeners))],1):t._e()}),[],!1,null,null,null).exports,F=n(18),z=(n(40),n(30),n(38),n(148),Object(c.b)({name:"SubscriptionFeatures",props:{apiData:{type:Object,required:!0},projects:{type:Array,default:function(){return[]}},width:{type:Number,default:721}},setup:function(t){var e=Object(c.r)(),n=function(e){var n;return null===(n=t.projects.find((function(t){return t.id===e})))||void 0===n?void 0:n.systems[0]},r=function(t){return t.reduce((function(t,e){return t+5*e.credits}),0)},o=Object(c.a)((function(){return Object.values(t.apiData).reduce((function(t,e){return e.features&&(t=[].concat(Object(F.a)(t),[e])),t}),[])})),l=Object(c.a)((function(){return o.value.reduce((function(t,e){return t+r(e.features)}),0)}));return{breakSize:720,refineData:o,sumOfEverything:l,projectType:function(t){return n(t).system_type.name},setProjectRoute:function(t){return"/".concat(t,"/").concat(n(t).id,"/overview/overview")},goToProject:function(t){e.dispatch("projects/setProjectSystem",{pid:t,sid:n(t).id})},projectCost:r}}})),I=(n(979),Object(y.a)(z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.apiData?n("div",[n("div",{staticClass:"font-light text-lg mb-6"},[t._v("\n    "+t._s(t.$t("subscriptions.features.headline"))+"\n  ")]),t._v(" "),n("div",[n("div",{staticClass:"bg-gray-200 py-3 uppercase",class:[t.width>t.breakSize?"block":"hidden"]},[n("div",{staticClass:"grid-features"},[n("div",[t._v(t._s(t.$t("Project")))]),t._v(" "),n("div",[t._v(t._s(t.$t("features")))]),t._v(" "),n("div",{staticClass:"text-right"},[t._v("\n          "+t._s(t.$t("TotalCost"))+"\n        ")])])]),t._v(" "),t._l(t.refineData,(function(e,r){return n("div",{key:r,staticClass:" border-b border-gray-200 py-3 text-sm zebra",class:[t.width>t.breakSize?"grid-features":"px-2"]},[n("div",{class:[t.width>t.breakSize?"":"flex mb-1"]},[n("nuxt-link",{attrs:{to:t.setProjectRoute(e.project.id)},nativeOn:{click:function(n){return t.goToProject(e.project.id)}}},[n("div",{staticClass:"font-medium mr-1"},[t._v("\n            "+t._s(e.project.name)+"\n          ")]),t._v(" "),n("div",{staticClass:"font-light"},[t._v("\n            "+t._s(t.projectType(e.project.id))+"\n          ")])])],1),t._v(" "),n("div",{class:[t.width>t.breakSize?"":"mb-2"]},[n("div",{class:[t.width>t.breakSize?"hidden":"block"]},[t._v("\n          "+t._s(t.$t("Features"))+":\n        ")]),t._v(" "),t._l(e.features,(function(e,i){return n("div",{key:r+"-"+i,staticClass:"flex",class:[t.width>t.breakSize?"":"font-light justify-between"]},[n("span",[t._v(t._s(e.name))]),t._v(" "),t.width>t.breakSize?n("span",{staticClass:"pl-2"},[t._v("("+t._s(5*e.credits)+" EUR)")]):n("span",{staticClass:"font-mono"},[t._v(t._s(5*e.credits)+" EUR")])])}))],2),t._v(" "),n("div",{class:[t.width>t.breakSize?"text-right":"flex justify-between border-gray-300 border-t pt-2"]},[t.width<=t.breakSize?n("span",[t._v(t._s(t.$t("TotalCost"))+" : ")]):t._e(),t._v(" "),n("span",{staticClass:"font-mono"},[t._v(t._s(t.projectCost(e.features))+" EUR")])])])})),t._v(" "),n("div",{staticClass:"mt-6 text-sm font-medium font-mono",class:[t.width>t.breakSize?"flex justify-end text-right px-2":""]},[n("div",{staticStyle:{width:"150px"}},[n("span",{staticClass:"underline"},[t._v(t._s(t.$t("Total"))+"s: "+t._s(t.sumOfEverything)+" EUR")]),t._v(" "),n("div",{staticClass:"text-xs font-light mt-2"},[t._v("\n          "+t._s(t.$tc("subscriptions.taxRate",0,{n:19}))+"\n        ")])])])],2)]):t._e()}),[],!1,null,null,null).exports),R=Object(c.b)({name:"SubscriptionHistory",props:{apiData:{type:Array,default:function(){return[]}},width:{type:Number,default:721}},setup:function(){var t=Object(c.l)().i18n;return{breakSize:720,calcDate:function(e){return t.d(new Date(e),"long")}}}}),H=(n(980),Object(y.a)(R,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.apiData?n("div",{attrs:{"data-cy":"historyTable"}},[n("div",{staticClass:"font-light text-lg mb-6"},[t._v("\n    "+t._s(t.$t("subscriptions.history.headline"))+"\n  ")]),t._v(" "),n("div",[n("div",{staticClass:"bg-gray-200 py-3 uppercase",class:[t.width>t.breakSize?"block":"hidden"]},[n("div",{staticClass:"grid-history"},[n("div",[t._v(t._s(t.$t("date")))]),t._v(" "),n("div",[t._v(t._s(t.$t("Project")))]),t._v(" "),n("div",[t._v(t._s(t.$t("feature")))]),t._v(" "),n("div",[t._v(t._s(t.$t("subscriptions.history.action")))])])]),t._v(" "),t._l(t.apiData,(function(e,r){return n("div",{key:r,staticClass:" border-b border-gray-200 py-2 text-sm zebra",class:[t.width>t.breakSize?"grid-history":"px-2"],attrs:{"data-cy":"historyRow"}},[n("div",[n("div",{staticClass:"grid-history__mobileHeader font-medium uppercase mr-1",class:[t.width>t.breakSize?"hidden":"inline-block"]},[t._v("\n          "+t._s(t.$t("date"))+":\n        ")]),t._v("\n        "+t._s(t.calcDate(e.time.date)||e.time.date)+"\n      ")]),t._v(" "),n("div",[n("div",{staticClass:"grid-history__mobileHeader font-medium uppercase mr-1",class:[t.width>t.breakSize?"hidden":"inline-block"]},[t._v("\n          "+t._s(t.$t("Project"))+":\n        ")]),t._v(" "),n("span",{staticClass:"font-medium"},[t._v(t._s(e.project.name))])]),t._v(" "),n("div",[n("div",{staticClass:"grid-history__mobileHeader font-medium uppercase mr-1",class:[t.width>t.breakSize?"hidden":"inline-block"]},[t._v("\n          "+t._s(t.$t("Feature"))+":\n        ")]),t._v(t._s(e.feature.name)+"\n      ")]),t._v(" "),n("div",[n("div",{staticClass:"grid-history__mobileHeader font-medium uppercase mr-1",class:[t.width>t.breakSize?"hidden":"inline-block"]},[t._v("\n          "+t._s(t.$t("subscriptions.history.action"))+":\n        ")]),t._v(t._s(t.$t("subscriptions.history."+e.action))+"\n      ")])])}))],2)]):t._e()}),[],!1,null,null,null).exports),E=n(720),N={setup:function(t,e){var n=Object(c.r)(),l=Object(c.l)().$apiClient,d=Object(c.i)(!0),_=Object(c.i)(null),m=Object(c.i)(null),f=Object(c.i)(null),h=Object(v.a)(),y=h.activeTab,j=h.updateActiveTab,x=h.setFirstTab,C=Object(c.a)((function(){return n.getters["access/getUserDetails"]})),w=Object(c.a)((function(){return n.getters["access/getTrialuser"]})),O=Object(c.a)((function(){return n.getters["projects/getProjects"]})),S=C.value.company.id,T=Object(c.m)(Object(o.a)(regeneratorRuntime.mark((function t(){var e,n,o,c,v,h,j,x,C,w,O,T;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([l.getRepository("subscription"),l.getRepository("marketplace")]);case 3:if(e=t.sent,n=Object(r.a)(e,2),o=n[0],c=n[1],!d.value&&"projects"!==y.value){t.next=15;break}return t.next=10,Promise.all([o.getCompanySubscription(S),o.getBillingAddress(S)]);case 10:v=t.sent,h=Object(r.a)(v,2),j=h[0],x=h[1],f.value={info:j,address:x.address};case 15:if(!d.value&&"features"!==y.value){t.next=21;break}return t.next=18,o.getSubscribedFeatures(S);case 18:C=t.sent,w=C.features,m.value=w;case 21:if(!d.value&&"history"!==y.value){t.next=27;break}return t.next=24,c.getBookingLog(S);case 24:O=t.sent,T=O.booking_log_entries,_.value=T;case 27:d.value=!1,t.next=33;break;case 30:t.prev=30,t.t0=t.catch(0),console.error(t.t0);case 33:case"end":return t.stop()}}),t,null,[[0,30]])})))),k=(T.fetch,T.fetchState,Object(c.a)((function(){return 3-Object($.a)("dashboard:userData:userSettings:tab")>1})));return{disabledFeature:$.b,subscriptionHistory:_,subscriptionFeatures:m,subscriptionProjects:f,activeTab:y,updateActiveTab:j,setFirstTab:x,userDetails:C,trialState:w,projects:O,displayTabHeader:k}}};N.components=Object.assign({SegmentHeader:l.a,Dimensions:E.a,Tabs:_.a,Tab:m.a,LoadingSpinner:d.a,SubscriptionProjects:A,SubscriptionFeatures:I,SubscriptionHistory:H},N.components);var B=N,U=Object(y.a)(B,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("SegmentHeader",{attrs:{"sub-title":t.userDetails.company.name}}),t._v(" "),n("Dimensions",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.width;return[n("Tabs",{attrs:{"switch-size":550,"outer-active-tab":t.activeTab,"display-tab-header":t.displayTabHeader},on:{updateActiveTab:t.updateActiveTab,firstTab:t.setFirstTab}},[n("Tab",{attrs:{"outer-active-tab":t.activeTab,name:"projects",header:t.$t("subscriptions.projects.label")},on:{updateActiveTab:t.updateActiveTab}},[t.$fetchState.pending?n("LoadingSpinner"):n("SubscriptionProjects",{attrs:{width:r,"api-data":t.subscriptionProjects,"user-details":t.userDetails,"trial-state":t.trialState},on:{update:t.$fetch}})],1),t._v(" "),t.disabledFeature("dashboard:customerData:subscriptions:tab:bookedFeatures")?t._e():n("Tab",{attrs:{"outer-active-tab":t.activeTab,name:"features",header:t.$t("subscriptions.features.label")},on:{updateActiveTab:t.updateActiveTab}},[t.$fetchState.pending?n("LoadingSpinner"):[t.subscriptionFeatures&&Object.keys(t.subscriptionFeatures).length?n("SubscriptionFeatures",{attrs:{width:r,"api-data":t.subscriptionFeatures,projects:t.projects},on:{update:t.$fetch}}):[t._v("\n            "+t._s(t.$t("noSubFeaturesFound"))+"\n          ")]]],2),t._v(" "),t.disabledFeature("dashboard:customerData:subscriptions:tab:bookingHistory")?t._e():n("Tab",{attrs:{"outer-active-tab":t.activeTab,name:"history",header:t.$t("subscriptions.history.label")},on:{updateActiveTab:t.updateActiveTab}},[t.$fetchState.pending?n("LoadingSpinner"):[t.subscriptionHistory&&t.subscriptionHistory.length?n("SubscriptionHistory",{attrs:{width:r,"api-data":t.subscriptionHistory},on:{update:t.$fetch}}):[t._v("\n            "+t._s(t.$t("noSubHistory"))+"\n          ")]]],2)],1)]}}])})],1)}),[],!1,null,null,null);e.default=U.exports},720:function(t,e,n){"use strict";var r=n(724),o=n(1),c=Object(o.b)({name:"Dimensions",data:function(){return{width:null,height:null}},computed:{dimensionObserver:function(){var t=this;return new r.a((function(e){window.requestAnimationFrame((function(){t.width=e[0].contentRect.width,t.height=e[0].contentRect.height}))}))}},mounted:function(){this.dimensionObserver.observe(this.$el)},destroyed:function(){this.dimensionObserver.disconnect()},render:function(){return this.$scopedSlots.default({width:this.width,height:this.height})}}),l=n(4),component=Object(l.a)(c,undefined,undefined,!1,null,null,null);e.a=component.exports},886:function(t,e,n){t.exports={}},902:function(t,e,n){"use strict";var r=n(1);e.a=function(){var t=Object(r.i)(null);return{updateActiveTab:function(e){return t.value=e},setFirstTab:function(e){return t.value=e},activeTab:t}}},903:function(t,e,n){"use strict";n(886)},909:function(t,e,n){"use strict";var r=n(9),o=n(18),c=(n(25),n(68),n(30),n(39),n(15),n(32),n(81),n(35),n(43),n(1)),l=n(720),d=Object(c.b)({name:"Tabs",components:{Dimensions:l.a},props:{switchSize:{type:Number,default:500},outerActiveTab:{type:String,default:""},nonRouter:{type:Boolean,default:!1},displayTabHeader:{type:Boolean,default:!0}},setup:function(t,e){var n=e.emit,l=Object(c.o)(),d=Object(c.p)(),v=Object(c.r)(),_=Object(c.q)(),m=Object(c.i)([]),f=Object(c.i)(""),h=Object(c.a)((function(){return v.getters["navigation/getIsPaidEnabled"]})),y=function(){var t=m.value[0].name;n("updateActiveTab",t),d.push({hash:t})};Object(c.s)((function(){return t.outerActiveTab}),(function(){t.outerActiveTab&&(f.value=t.outerActiveTab)}),{immediate:!0});var j=function(){return(_.default?_.default():[]).filter((function(t){return t.tag})).map((function(t){var e=t.componentInstance;return{isActive:e.isActive,isVisible:e.isVisible,name:e.name,header:e.header,notification:e.notification||null}}))};Object(c.f)((function(){if(m.value=Object(o.a)(j()),m.value.length){if(t.outerActiveTab||n("firstTab",j()[0].name),!t.nonRouter){if(!l.value.hash.length)return y();var e=l.value.hash.split("#")[1];m.value.map((function(t){return t.name})).includes(e)?n("updateActiveTab",e):y()}Object(c.s)((function(){return h.value}),Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.d)();case 2:m.value=Object(o.a)(j());case 3:case"end":return t.stop()}}),t)}))),{immediate:!0})}}));return{tabs:m,activeTab:f,clickTab:function(e){n("updateActiveTab",e),t.nonRouter?f.value=e:d.push({hash:e})}}}}),v=(n(903),n(4)),component=Object(v.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dimensions",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.width;return n("div",{staticClass:"tabs",class:[{"tabs--smallSize":t.displayTabHeader&&r<t.switchSize}],attrs:{role:"tablist"}},[n("nav",{directives:[{name:"show",rawName:"v-show",value:t.displayTabHeader&&r>=t.switchSize,expression:"displayTabHeader && width >= switchSize"}],staticClass:"flex",attrs:{role:"presentation"}},t._l(t.tabs,(function(e,r){return n("a",{key:r,staticClass:"cursor-pointer rounded py-3 px-4 mr-4 transition-all duration-300 select-none flex items-center justify-between",class:[e.name===t.activeTab?"border-gray-300 bg-primary-regular text-white":"border-transparent bg-gray-300 text-gray-600"],attrs:{role:"tab"},on:{click:function(n){return n.preventDefault(),t.clickTab(e.name)}}},[t._v("\n        "+t._s(e.header)+"\n        "),e.notification?n("span",{staticClass:"bg-error-high rounded text-sm text-white ml-2 ar-square w-6 flex-center"},[t._v(t._s(e.notification))]):t._e()])})),0),t._v(" "),n("div",{class:[t.displayTabHeader&&r>=t.switchSize?"pt-4":""]},[t._t("default")],2)])}}],null,!0)})}),[],!1,null,null,null);e.a=component.exports},910:function(t,e,n){"use strict";n(68);var r=n(1),o=n(90),c=Object(r.b)({name:"Tab",components:{IconChevron:o.a},inheritAttrs:!1,props:{name:{type:String,default:""},header:{type:String,default:""},outerActiveTab:{type:String,default:""},nonRouter:{type:Boolean,default:!1},notification:{type:Number,default:null}}}),l=n(4),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{ref:"tab",staticClass:"tabs__tabBody",attrs:{role:"tabpanel"}},[n("div",{staticClass:"tabs__tabHeader cursor-pointer transition-all duration-300 text-lg font-thin justify-between items-center",class:[t.outerActiveTab===t.name?"tabs__tabHeader--active bg-gray-200":"text-gray-600 "],on:{click:function(e){return t.$emit("updateActiveTab",t.name)}}},[n("div",{staticClass:"flex items-center justify-between"},[t._v("\n      "+t._s(t.header)+" "),t.notification?n("span",{staticClass:"bg-error-high rounded text-sm text-white ml-2 ar-square w-6 flex-center"},[t._v(t._s(t.notification))]):t._e()]),t._v(" "),n("IconChevron",{staticClass:"w-2 h-2 text-gray-600",attrs:{degree:t.outerActiveTab===t.name?270:90}})],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.outerActiveTab===t.name,expression:"outerActiveTab === name"}],staticClass:"pt-4 pb-4 tabs__tabContent"},[t._t("default")],2)])}),[],!1,null,null,null);e.a=component.exports},941:function(t,e,n){t.exports={}},942:function(t,e,n){t.exports={}},943:function(t,e,n){t.exports={}},944:function(t,e,n){t.exports={}},977:function(t,e,n){"use strict";n(941)},978:function(t,e,n){"use strict";n(942)},979:function(t,e,n){"use strict";n(943)},980:function(t,e,n){"use strict";n(944)}}]);